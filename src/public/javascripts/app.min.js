!function(I){var e={};function g(t){if(e[t])return e[t].exports;var n=e[t]={i:t,l:!1,exports:{}};return I[t].call(n.exports,n,n.exports,g),n.l=!0,n.exports}g.m=I,g.c=e,g.d=function(I,e,t){g.o(I,e)||Object.defineProperty(I,e,{configurable:!1,enumerable:!0,get:t})},g.r=function(I){Object.defineProperty(I,"__esModule",{value:!0})},g.n=function(I){var e=I&&I.__esModule?function(){return I.default}:function(){return I};return g.d(e,"a",e),e},g.o=function(I,e){return Object.prototype.hasOwnProperty.call(I,e)},g.p="",g(g.s="./src/resources/typescript/app.ts")}({"./node_modules/choices.js/assets/scripts/dist/choices.min.js":function(module,exports,__webpack_require__){eval('/*! choices.js v3.0.3 | (c) 2018 Josh Johnson | https://github.com/jshjohnson/Choices#readme */ \n!function(e,t){ true?module.exports=t():undefined}(this,function(){return function(e){function t(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return e[n].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var i={};return t.m=e,t.c=i,t.p="/assets/scripts/dist/",t(0)}([function(e,t,i){e.exports=i(1)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),c=i(2),l=n(c),h=i(3),u=n(h),d=i(4),f=n(d),p=i(31),v=i(32);i(33);var m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[data-choice]",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r(this,e),(0,v.isType)("String",t)){var n=document.querySelectorAll(t);if(n.length>1)for(var s=1;s<n.length;s++){var o=n[s];new e(o,i)}}var a={silent:!1,items:[],choices:[],renderChoiceLimit:-1,maxItemCount:-1,addItems:!0,removeItems:!0,removeItemButton:!1,editItems:!1,duplicateItems:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,regexFilter:null,shouldSort:!0,shouldSortItems:!1,sortFilter:v.sortByAlpha,placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",addItemText:function(e){return\'Press Enter to add <b>"\'+e+\'"</b>\'},maxItemText:function(e){return"Only "+e+" values can be added."},uniqueItemText:"Only unique values can be added.",classNames:{containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button",activeState:"is-active",focusState:"is-focused",openState:"is-open",disabledState:"is-disabled",highlightedState:"is-highlighted",hiddenState:"is-hidden",flippedState:"is-flipped",loadingState:"is-loading",noResults:"has-no-results",noChoices:"has-no-choices"},fuseOptions:{include:"score"},callbackOnInit:null,callbackOnCreateTemplates:null};if(this.idNames={itemChoice:"item-choice"},this.config=(0,v.extend)(a,i),"auto"!==this.config.renderSelectedChoices&&"always"!==this.config.renderSelectedChoices&&(this.config.silent||console.warn("renderSelectedChoices: Possible values are \'auto\' and \'always\'. Falling back to \'auto\'."),this.config.renderSelectedChoices="auto"),this.store=new f.default(this.render),this.initialised=!1,this.currentState={},this.prevState={},this.currentValue="",this.element=t,this.passedElement=(0,v.isType)("String",t)?document.querySelector(t):t,!this.passedElement)return void(this.config.silent||console.error("Passed element not found"));this.isTextElement="text"===this.passedElement.type,this.isSelectOneElement="select-one"===this.passedElement.type,this.isSelectMultipleElement="select-multiple"===this.passedElement.type,this.isSelectElement=this.isSelectOneElement||this.isSelectMultipleElement,this.isValidElementType=this.isTextElement||this.isSelectElement,this.isIe11=!(!navigator.userAgent.match(/Trident/)||!navigator.userAgent.match(/rv[ :]11/)),this.isScrollingOnIe=!1,this.config.shouldSortItems===!0&&this.isSelectOneElement&&(this.config.silent||console.warn("shouldSortElements: Type of passed element is \'select-one\', falling back to false.")),this.highlightPosition=0,this.canSearch=this.config.searchEnabled,this.placeholder=!1,this.isSelectOneElement||(this.placeholder=!!this.config.placeholder&&(this.config.placeholderValue||this.passedElement.getAttribute("placeholder"))),this.presetChoices=this.config.choices,this.presetItems=this.config.items,this.passedElement.value&&(this.presetItems=this.presetItems.concat(this.passedElement.value.split(this.config.delimiter))),this.baseId=(0,v.generateId)(this.passedElement,"choices-"),this.render=this.render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this.wasTap=!0;var c="classList"in document.documentElement;c||this.config.silent||console.error("Choices: Your browser doesn\'t support Choices");var l=(0,v.isElement)(this.passedElement)&&this.isValidElementType;if(l){if("active"===this.passedElement.getAttribute("data-choice"))return;this.init()}else this.config.silent||console.error("Incompatible input passed")}return a(e,[{key:"init",value:function(){if(this.initialised!==!0){var e=this.config.callbackOnInit;this.initialised=!0,this._createTemplates(),this._createInput(),this.store.subscribe(this.render),this.render(),this._addEventListeners(),e&&(0,v.isType)("Function",e)&&e.call(this)}}},{key:"destroy",value:function(){if(this.initialised!==!1){this._removeEventListeners(),this.passedElement.classList.remove(this.config.classNames.input,this.config.classNames.hiddenState),this.passedElement.removeAttribute("tabindex");var e=this.passedElement.getAttribute("data-choice-orig-style");Boolean(e)?(this.passedElement.removeAttribute("data-choice-orig-style"),this.passedElement.setAttribute("style",e)):this.passedElement.removeAttribute("style"),this.passedElement.removeAttribute("aria-hidden"),this.passedElement.removeAttribute("data-choice"),this.passedElement.value=this.passedElement.value,this.containerOuter.parentNode.insertBefore(this.passedElement,this.containerOuter),this.containerOuter.parentNode.removeChild(this.containerOuter),this.clearStore(),this.config.templates=null,this.initialised=!1}}},{key:"renderGroups",value:function(e,t,i){var n=this,s=i||document.createDocumentFragment(),o=this.config.sortFilter;return this.config.shouldSort&&e.sort(o),e.forEach(function(e){var i=t.filter(function(t){return n.isSelectOneElement?t.groupId===e.id:t.groupId===e.id&&!t.selected});if(i.length>=1){var o=n._getTemplate("choiceGroup",e);s.appendChild(o),n.renderChoices(i,s,!0)}}),s}},{key:"renderChoices",value:function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=t||document.createDocumentFragment(),r=this.config,a=r.renderSelectedChoices,c=r.searchResultLimit,l=r.renderChoiceLimit,h=this.isSearching?v.sortByScore:this.config.sortFilter,u=function(e){var t="auto"!==a||(i.isSelectOneElement||!e.selected);if(t){var n=i._getTemplate("choice",e);s.appendChild(n)}},d=e;"auto"!==a||this.isSelectOneElement||(d=e.filter(function(e){return!e.selected}));var f=d.reduce(function(e,t){return t.placeholder?e.placeholderChoices.push(t):e.normalChoices.push(t),e},{placeholderChoices:[],normalChoices:[]}),p=f.placeholderChoices,m=f.normalChoices;(this.config.shouldSort||this.isSearching)&&m.sort(h);var g=d.length,y=[].concat(o(p),o(m));this.isSearching?g=c:l>0&&!n&&(g=l);for(var b=0;b<g;b++)y[b]&&u(y[b]);return s}},{key:"renderItems",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=i||document.createDocumentFragment();if(this.config.shouldSortItems&&!this.isSelectOneElement&&e.sort(this.config.sortFilter),this.isTextElement){var s=this.store.getItemsReducedToValues(e),o=s.join(this.config.delimiter);this.passedElement.setAttribute("value",o),this.passedElement.value=o}else{var r=document.createDocumentFragment();e.forEach(function(e){var i=t._getTemplate("option",e);r.appendChild(i)}),this.passedElement.innerHTML="",this.passedElement.appendChild(r)}return e.forEach(function(e){var i=t._getTemplate("item",e);n.appendChild(i)}),n}},{key:"render",value:function(){if(!this.store.isLoading()&&(this.currentState=this.store.getState(),this.currentState!==this.prevState)){if((this.currentState.choices!==this.prevState.choices||this.currentState.groups!==this.prevState.groups||this.currentState.items!==this.prevState.items)&&this.isSelectElement){var e=this.store.getGroupsFilteredByActive(),t=this.store.getChoicesFilteredByActive(),i=document.createDocumentFragment();this.choiceList.innerHTML="",this.config.resetScrollPosition&&(this.choiceList.scrollTop=0),e.length>=1&&this.isSearching!==!0?i=this.renderGroups(e,t,i):t.length>=1&&(i=this.renderChoices(t,i));var n=this.store.getItemsFilteredByActive(),s=this._canAddItem(n,this.input.value);if(i.childNodes&&i.childNodes.length>0)s.response?(this.choiceList.appendChild(i),this._highlightChoice()):this.choiceList.appendChild(this._getTemplate("notice",s.notice));else{var o=void 0,r=void 0;this.isSearching?(r=(0,v.isType)("Function",this.config.noResultsText)?this.config.noResultsText():this.config.noResultsText,o=this._getTemplate("notice",r,"no-results")):(r=(0,v.isType)("Function",this.config.noChoicesText)?this.config.noChoicesText():this.config.noChoicesText,o=this._getTemplate("notice",r,"no-choices")),this.choiceList.appendChild(o)}}if(this.currentState.items!==this.prevState.items){var a=this.store.getItemsFilteredByActive();if(this.itemList.innerHTML="",a&&a){var c=this.renderItems(a);c.childNodes&&this.itemList.appendChild(c)}}this.prevState=this.currentState}}},{key:"highlightItem",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return this;var i=e.id,n=e.groupId,s=n>=0?this.store.getGroupById(n):null;return this.store.dispatch((0,p.highlightItem)(i,!0)),t&&(s&&s.value?(0,v.triggerEvent)(this.passedElement,"highlightItem",{id:i,value:e.value,label:e.label,groupValue:s.value}):(0,v.triggerEvent)(this.passedElement,"highlightItem",{id:i,value:e.value,label:e.label})),this}},{key:"unhighlightItem",value:function(e){if(!e)return this;var t=e.id,i=e.groupId,n=i>=0?this.store.getGroupById(i):null;return this.store.dispatch((0,p.highlightItem)(t,!1)),n&&n.value?(0,v.triggerEvent)(this.passedElement,"unhighlightItem",{id:t,value:e.value,label:e.label,groupValue:n.value}):(0,v.triggerEvent)(this.passedElement,"unhighlightItem",{id:t,value:e.value,label:e.label}),this}},{key:"highlightAll",value:function(){var e=this,t=this.store.getItems();return t.forEach(function(t){e.highlightItem(t)}),this}},{key:"unhighlightAll",value:function(){var e=this,t=this.store.getItems();return t.forEach(function(t){e.unhighlightItem(t)}),this}},{key:"removeItemsByValue",value:function(e){var t=this;if(!e||!(0,v.isType)("String",e))return this;var i=this.store.getItemsFilteredByActive();return i.forEach(function(i){i.value===e&&t._removeItem(i)}),this}},{key:"removeActiveItems",value:function(e){var t=this,i=this.store.getItemsFilteredByActive();return i.forEach(function(i){i.active&&e!==i.id&&t._removeItem(i)}),this}},{key:"removeHighlightedItems",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.store.getItemsFilteredByActive();return i.forEach(function(i){i.highlighted&&i.active&&(e._removeItem(i),t&&e._triggerChange(i.value))}),this}},{key:"showDropdown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=document.body,i=document.documentElement,n=Math.max(t.scrollHeight,t.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight);this.containerOuter.classList.add(this.config.classNames.openState),this.containerOuter.setAttribute("aria-expanded","true"),this.dropdown.classList.add(this.config.classNames.activeState),this.dropdown.setAttribute("aria-expanded","true");var s=this.dropdown.getBoundingClientRect(),o=Math.ceil(s.top+window.scrollY+this.dropdown.offsetHeight),r=!1;return"auto"===this.config.position?r=o>=n:"top"===this.config.position&&(r=!0),r&&this.containerOuter.classList.add(this.config.classNames.flippedState),e&&this.canSearch&&document.activeElement!==this.input&&this.input.focus(),(0,v.triggerEvent)(this.passedElement,"showDropdown",{}),this}},{key:"hideDropdown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.containerOuter.classList.contains(this.config.classNames.flippedState);return this.containerOuter.classList.remove(this.config.classNames.openState),this.containerOuter.setAttribute("aria-expanded","false"),this.dropdown.classList.remove(this.config.classNames.activeState),this.dropdown.setAttribute("aria-expanded","false"),t&&this.containerOuter.classList.remove(this.config.classNames.flippedState),e&&this.canSearch&&document.activeElement===this.input&&this.input.blur(),(0,v.triggerEvent)(this.passedElement,"hideDropdown",{}),this}},{key:"toggleDropdown",value:function(){var e=this.dropdown.classList.contains(this.config.classNames.activeState);return e?this.hideDropdown():this.showDropdown(!0),this}},{key:"getValue",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.store.getItemsFilteredByActive(),n=[];return i.forEach(function(i){e.isTextElement?n.push(t?i.value:i):i.active&&n.push(t?i.value:i)}),this.isSelectOneElement?n[0]:n}},{key:"setValue",value:function(e){var t=this;if(this.initialised===!0){var i=[].concat(o(e)),n=function(e){var i=(0,v.getType)(e);if("Object"===i){if(!e.value)return;t.isTextElement?t._addItem(e.value,e.label,e.id,void 0,e.customProperties,e.placeholder):t._addChoice(e.value,e.label,!0,!1,-1,e.customProperties,e.placeholder)}else"String"===i&&(t.isTextElement?t._addItem(e):t._addChoice(e,e,!0,!1,-1,null))};i.length>1?i.forEach(function(e){n(e)}):n(i[0])}return this}},{key:"setValueByChoice",value:function(e){var t=this;if(!this.isTextElement){var i=this.store.getChoices(),n=(0,v.isType)("Array",e)?e:[e];n.forEach(function(e){var n=i.find(function(t){return t.value===e});n?n.selected?t.config.silent||console.warn("Attempting to select choice already selected"):t._addItem(n.value,n.label,n.id,n.groupId,n.customProperties,n.placeholder,n.keyCode):t.config.silent||console.warn("Attempting to select choice that does not exist")})}return this}},{key:"setChoices",value:function(e,t,i){var n=this,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.initialised===!0&&this.isSelectElement){if(!(0,v.isType)("Array",e)||!t)return this;s&&this._clearChoices(),this._setLoading(!0),e&&e.length&&(this.containerOuter.classList.remove(this.config.classNames.loadingState),e.forEach(function(e){e.choices?n._addGroup(e,e.id||null,t,i):n._addChoice(e[t],e[i],e.selected,e.disabled,void 0,e.customProperties,e.placeholder)})),this._setLoading(!1)}return this}},{key:"clearStore",value:function(){return this.store.dispatch((0,p.clearAll)()),this}},{key:"clearInput",value:function(){return this.input.value&&(this.input.value=""),this.isSelectOneElement||this._setInputWidth(),!this.isTextElement&&this.config.searchEnabled&&(this.isSearching=!1,this.store.dispatch((0,p.activateChoices)(!0))),this}},{key:"enable",value:function(){if(this.initialised){this.passedElement.disabled=!1;var e=this.containerOuter.classList.contains(this.config.classNames.disabledState);e&&(this._addEventListeners(),this.passedElement.removeAttribute("disabled"),this.input.removeAttribute("disabled"),this.containerOuter.classList.remove(this.config.classNames.disabledState),this.containerOuter.removeAttribute("aria-disabled"),this.isSelectOneElement&&this.containerOuter.setAttribute("tabindex","0"))}return this}},{key:"disable",value:function(){if(this.initialised){this.passedElement.disabled=!0;var e=!this.containerOuter.classList.contains(this.config.classNames.disabledState);e&&(this._removeEventListeners(),this.passedElement.setAttribute("disabled",""),this.input.setAttribute("disabled",""),this.containerOuter.classList.add(this.config.classNames.disabledState),this.containerOuter.setAttribute("aria-disabled","true"),this.isSelectOneElement&&this.containerOuter.setAttribute("tabindex","-1"))}return this}},{key:"ajax",value:function(e){var t=this;return this.initialised===!0&&this.isSelectElement&&(requestAnimationFrame(function(){t._handleLoadingState(!0)}),e(this._ajaxCallback())),this}},{key:"_triggerChange",value:function(e){e&&(0,v.triggerEvent)(this.passedElement,"change",{value:e})}},{key:"_handleButtonAction",value:function(e,t){if(e&&t&&this.config.removeItems&&this.config.removeItemButton){var i=t.parentNode.getAttribute("data-id"),n=e.find(function(e){return e.id===parseInt(i,10)});this._removeItem(n),this._triggerChange(n.value),this.isSelectOneElement&&this._selectPlaceholderChoice()}}},{key:"_selectPlaceholderChoice",value:function(){var e=this.store.getPlaceholderChoice();e&&(this._addItem(e.value,e.label,e.id,e.groupId,null,e.placeholder),this._triggerChange(e.value))}},{key:"_handleItemAction",value:function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e&&t&&this.config.removeItems&&!this.isSelectOneElement){var s=t.getAttribute("data-id");e.forEach(function(e){e.id!==parseInt(s,10)||e.highlighted?n||e.highlighted&&i.unhighlightItem(e):i.highlightItem(e)}),document.activeElement!==this.input&&this.input.focus()}}},{key:"_handleChoiceAction",value:function(e,t){if(e&&t){var i=t.getAttribute("data-id"),n=this.store.getChoiceById(i),s=e[0]&&e[0].keyCode?e[0].keyCode:null,o=this.dropdown.classList.contains(this.config.classNames.activeState);if(n.keyCode=s,(0,v.triggerEvent)(this.passedElement,"choice",{choice:n}),n&&!n.selected&&!n.disabled){var r=this._canAddItem(e,n.value);r.response&&(this._addItem(n.value,n.label,n.id,n.groupId,n.customProperties,n.placeholder,n.keyCode),this._triggerChange(n.value))}this.clearInput(),o&&this.isSelectOneElement&&(this.hideDropdown(),this.containerOuter.focus())}}},{key:"_handleBackspace",value:function(e){if(this.config.removeItems&&e){var t=e[e.length-1],i=e.some(function(e){return e.highlighted});this.config.editItems&&!i&&t?(this.input.value=t.value,this._setInputWidth(),this._removeItem(t),this._triggerChange(t.value)):(i||this.highlightItem(t,!1),this.removeHighlightedItems(!0))}}},{key:"_canAddItem",value:function(e,t){var i=!0,n=(0,v.isType)("Function",this.config.addItemText)?this.config.addItemText(t):this.config.addItemText;(this.isSelectMultipleElement||this.isTextElement)&&this.config.maxItemCount>0&&this.config.maxItemCount<=e.length&&(i=!1,n=(0,v.isType)("Function",this.config.maxItemText)?this.config.maxItemText(this.config.maxItemCount):this.config.maxItemText),this.isTextElement&&this.config.addItems&&i&&this.config.regexFilter&&(i=this._regexFilter(t));var s=!e.some(function(e){return(0,v.isType)("String",t)?e.value===t.trim():e.value===t});return s||this.config.duplicateItems||this.isSelectOneElement||!i||(i=!1,n=(0,v.isType)("Function",this.config.uniqueItemText)?this.config.uniqueItemText(t):this.config.uniqueItemText),{response:i,notice:n}}},{key:"_handleLoadingState",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.itemList.querySelector("."+this.config.classNames.placeholder);e?(this.containerOuter.classList.add(this.config.classNames.loadingState),this.containerOuter.setAttribute("aria-busy","true"),this.isSelectOneElement?t?t.innerHTML=this.config.loadingText:(t=this._getTemplate("placeholder",this.config.loadingText),this.itemList.appendChild(t)):this.input.placeholder=this.config.loadingText):(this.containerOuter.classList.remove(this.config.classNames.loadingState),this.isSelectOneElement?t.innerHTML=this.placeholder||"":this.input.placeholder=this.placeholder||"")}},{key:"_ajaxCallback",value:function(){var e=this;return function(t,i,n){if(t&&i){var s=(0,v.isType)("Object",t)?[t]:t;s&&(0,v.isType)("Array",s)&&s.length?(e._handleLoadingState(!1),e._setLoading(!0),s.forEach(function(t){if(t.choices){var s=t.id||null;e._addGroup(t,s,i,n)}else e._addChoice(t[i],t[n],t.selected,t.disabled,void 0,t.customProperties,t.placeholder)}),e._setLoading(!1),e.isSelectOneElement&&e._selectPlaceholderChoice()):e._handleLoadingState(!1),e.containerOuter.removeAttribute("aria-busy")}}}},{key:"_searchChoices",value:function(e){var t=(0,v.isType)("String",e)?e.trim():e,i=(0,v.isType)("String",this.currentValue)?this.currentValue.trim():this.currentValue;if(t.length>=1&&t!==i+" "){var n=this.store.getSearchableChoices(),s=t,o=(0,v.isType)("Array",this.config.searchFields)?this.config.searchFields:[this.config.searchFields],r=Object.assign(this.config.fuseOptions,{keys:o}),a=new l.default(n,r),c=a.search(s);return this.currentValue=t,this.highlightPosition=0,this.isSearching=!0,this.store.dispatch((0,p.filterChoices)(c)),c.length}return 0}},{key:"_handleSearch",value:function(e){if(e){var t=this.store.getChoices(),i=t.some(function(e){return!e.active});if(this.input===document.activeElement)if(e&&e.length>=this.config.searchFloor){var n=0;this.config.searchChoices&&(n=this._searchChoices(e)),(0,v.triggerEvent)(this.passedElement,"search",{value:e,resultCount:n})}else i&&(this.isSearching=!1,this.store.dispatch((0,p.activateChoices)(!0)))}}},{key:"_addEventListeners",value:function(){document.addEventListener("keyup",this._onKeyUp),document.addEventListener("keydown",this._onKeyDown),document.addEventListener("click",this._onClick),document.addEventListener("touchmove",this._onTouchMove),document.addEventListener("touchend",this._onTouchEnd),document.addEventListener("mousedown",this._onMouseDown),document.addEventListener("mouseover",this._onMouseOver),this.isSelectOneElement&&(this.containerOuter.addEventListener("focus",this._onFocus),this.containerOuter.addEventListener("blur",this._onBlur)),this.input.addEventListener("input",this._onInput),this.input.addEventListener("paste",this._onPaste),this.input.addEventListener("focus",this._onFocus),this.input.addEventListener("blur",this._onBlur)}},{key:"_removeEventListeners",value:function(){document.removeEventListener("keyup",this._onKeyUp),document.removeEventListener("keydown",this._onKeyDown),document.removeEventListener("click",this._onClick),document.removeEventListener("touchmove",this._onTouchMove),document.removeEventListener("touchend",this._onTouchEnd),document.removeEventListener("mousedown",this._onMouseDown),document.removeEventListener("mouseover",this._onMouseOver),this.isSelectOneElement&&(this.containerOuter.removeEventListener("focus",this._onFocus),this.containerOuter.removeEventListener("blur",this._onBlur)),this.input.removeEventListener("input",this._onInput),this.input.removeEventListener("paste",this._onPaste),this.input.removeEventListener("focus",this._onFocus),this.input.removeEventListener("blur",this._onBlur)}},{key:"_setInputWidth",value:function(){this.placeholder?this.input.value&&this.input.value.length>=this.placeholder.length/1.25&&(this.input.style.width=(0,v.getWidthOfInput)(this.input)):this.input.style.width=(0,v.getWidthOfInput)(this.input)}},{key:"_onKeyDown",value:function(e){var t,i=this;if(e.target===this.input||this.containerOuter.contains(e.target)){var n=e.target,o=this.store.getItemsFilteredByActive(),r=this.input===document.activeElement,a=this.dropdown.classList.contains(this.config.classNames.activeState),c=this.itemList&&this.itemList.children,l=String.fromCharCode(e.keyCode),h=46,u=8,d=13,f=65,p=27,m=38,g=40,y=33,b=34,E=e.ctrlKey||e.metaKey;this.isTextElement||!/[a-zA-Z0-9-_ ]/.test(l)||a||this.showDropdown(!0),this.canSearch=this.config.searchEnabled;var _=function(){E&&c&&(i.canSearch=!1,i.config.removeItems&&!i.input.value&&i.input===document.activeElement&&i.highlightAll())},S=function(){if(i.isTextElement&&n.value){var t=i.input.value,s=i._canAddItem(o,t);s.response&&(a&&i.hideDropdown(),i._addItem(t),i._triggerChange(t),i.clearInput())}if(n.hasAttribute("data-button")&&(i._handleButtonAction(o,n),e.preventDefault()),a){e.preventDefault();var r=i.dropdown.querySelector("."+i.config.classNames.highlightedState);r&&(o[0]&&(o[0].keyCode=d),i._handleChoiceAction(o,r))}else i.isSelectOneElement&&(a||(i.showDropdown(!0),e.preventDefault()))},I=function(){a&&(i.toggleDropdown(),i.containerOuter.focus())},w=function(){if(a||i.isSelectOneElement){a||i.showDropdown(!0),i.canSearch=!1;var t=e.keyCode===g||e.keyCode===b?1:-1,n=e.metaKey||e.keyCode===b||e.keyCode===y,s=void 0;if(n)s=t>0?Array.from(i.dropdown.querySelectorAll("[data-choice-selectable]")).pop():i.dropdown.querySelector("[data-choice-selectable]");else{var o=i.dropdown.querySelector("."+i.config.classNames.highlightedState);s=o?(0,v.getAdjacentEl)(o,"[data-choice-selectable]",t):i.dropdown.querySelector("[data-choice-selectable]")}s&&((0,v.isScrolledIntoView)(s,i.choiceList,t)||i._scrollToChoice(s,t),i._highlightChoice(s)),e.preventDefault()}},T=function(){!r||e.target.value||i.isSelectOneElement||(i._handleBackspace(o),e.preventDefault())},C=(t={},s(t,f,_),s(t,d,S),s(t,p,I),s(t,m,w),s(t,y,w),s(t,g,w),s(t,b,w),s(t,u,T),s(t,h,T),t);C[e.keyCode]&&C[e.keyCode]()}}},{key:"_onKeyUp",value:function(e){if(e.target===this.input){var t=this.input.value,i=this.store.getItemsFilteredByActive(),n=this._canAddItem(i,t);if(this.isTextElement){var s=this.dropdown.classList.contains(this.config.classNames.activeState);if(t){if(n.notice){var o=this._getTemplate("notice",n.notice);this.dropdown.innerHTML=o.outerHTML}n.response===!0?s||this.showDropdown():!n.notice&&s&&this.hideDropdown()}else s&&this.hideDropdown()}else{var r=46,a=8;e.keyCode!==r&&e.keyCode!==a||e.target.value?this.canSearch&&n.response&&this._handleSearch(this.input.value):!this.isTextElement&&this.isSearching&&(this.isSearching=!1,this.store.dispatch((0,p.activateChoices)(!0)))}this.canSearch=this.config.searchEnabled}}},{key:"_onInput",value:function(){this.isSelectOneElement||this._setInputWidth()}},{key:"_onTouchMove",value:function(){this.wasTap===!0&&(this.wasTap=!1)}},{key:"_onTouchEnd",value:function(e){var t=e.target||e.touches[0].target,i=this.dropdown.classList.contains(this.config.classNames.activeState);this.wasTap===!0&&this.containerOuter.contains(t)&&(t!==this.containerOuter&&t!==this.containerInner||this.isSelectOneElement||(this.isTextElement?document.activeElement!==this.input&&this.input.focus():i||this.showDropdown(!0)),e.stopPropagation()),this.wasTap=!0}},{key:"_onMouseDown",value:function(e){var t=e.target;if(t===this.choiceList&&this.isIe11&&(this.isScrollingOnIe=!0),this.containerOuter.contains(t)&&t!==this.input){var i=void 0,n=this.store.getItemsFilteredByActive(),s=e.shiftKey;(i=(0,v.findAncestorByAttrName)(t,"data-button"))?this._handleButtonAction(n,i):(i=(0,v.findAncestorByAttrName)(t,"data-item"))?this._handleItemAction(n,i,s):(i=(0,v.findAncestorByAttrName)(t,"data-choice"))&&this._handleChoiceAction(n,i),e.preventDefault()}}},{key:"_onClick",value:function(e){var t=e.target,i=this.dropdown.classList.contains(this.config.classNames.activeState),n=this.store.getItemsFilteredByActive();if(this.containerOuter.contains(t))t.hasAttribute("data-button")&&this._handleButtonAction(n,t),i?this.isSelectOneElement&&t!==this.input&&!this.dropdown.contains(t)&&this.hideDropdown(!0):this.isTextElement?document.activeElement!==this.input&&this.input.focus():this.canSearch?this.showDropdown(!0):(this.showDropdown(),this.containerOuter.focus());else{var s=n.some(function(e){return e.highlighted});s&&this.unhighlightAll(),this.containerOuter.classList.remove(this.config.classNames.focusState),i&&this.hideDropdown()}}},{key:"_onMouseOver",value:function(e){(e.target===this.dropdown||this.dropdown.contains(e.target))&&e.target.hasAttribute("data-choice")&&this._highlightChoice(e.target)}},{key:"_onPaste",value:function(e){e.target!==this.input||this.config.paste||e.preventDefault()}},{key:"_onFocus",value:function(e){var t=this,i=e.target;if(this.containerOuter.contains(i)){var n=this.dropdown.classList.contains(this.config.classNames.activeState),s={text:function(){i===t.input&&t.containerOuter.classList.add(t.config.classNames.focusState)},"select-one":function(){t.containerOuter.classList.add(t.config.classNames.focusState),i===t.input&&(n||t.showDropdown())},"select-multiple":function(){i===t.input&&(t.containerOuter.classList.add(t.config.classNames.focusState),n||t.showDropdown(!0))}};s[this.passedElement.type]()}}},{key:"_onBlur",value:function(e){var t=this,i=e.target;if(this.containerOuter.contains(i)&&!this.isScrollingOnIe){var n=this.store.getItemsFilteredByActive(),s=this.dropdown.classList.contains(this.config.classNames.activeState),o=n.some(function(e){return e.highlighted}),r={text:function(){i===t.input&&(t.containerOuter.classList.remove(t.config.classNames.focusState),o&&t.unhighlightAll(),s&&t.hideDropdown())},"select-one":function(){t.containerOuter.classList.remove(t.config.classNames.focusState),i===t.containerOuter&&s&&!t.canSearch&&t.hideDropdown(),i===t.input&&s&&t.hideDropdown()},"select-multiple":function(){i===t.input&&(t.containerOuter.classList.remove(t.config.classNames.focusState),s&&t.hideDropdown(),o&&t.unhighlightAll())}};r[this.passedElement.type]()}else this.isScrollingOnIe=!1,this.input.focus()}},{key:"_regexFilter",value:function(e){if(!e)return!1;var t=this.config.regexFilter,i=new RegExp(t.source,"i");return i.test(e)}},{key:"_scrollToChoice",value:function(e,t){var i=this;if(e){var n=this.choiceList.offsetHeight,s=e.offsetHeight,o=e.offsetTop+s,r=this.choiceList.scrollTop+n,a=t>0?this.choiceList.scrollTop+o-r:e.offsetTop,c=function e(){var n=4,s=i.choiceList.scrollTop,o=!1,r=void 0,c=void 0;t>0?(r=(a-s)/n,c=r>1?r:1,i.choiceList.scrollTop=s+c,s<a&&(o=!0)):(r=(s-a)/n,c=r>1?r:1,i.choiceList.scrollTop=s-c,s>a&&(o=!0)),o&&requestAnimationFrame(function(i){e(i,a,t)})};requestAnimationFrame(function(e){c(e,a,t)})}}},{key:"_highlightChoice",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=Array.from(this.dropdown.querySelectorAll("[data-choice-selectable]")),n=t;if(i&&i.length){var s=Array.from(this.dropdown.querySelectorAll("."+this.config.classNames.highlightedState));s.forEach(function(t){t.classList.remove(e.config.classNames.highlightedState),t.setAttribute("aria-selected","false")}),n?this.highlightPosition=i.indexOf(n):(n=i.length>this.highlightPosition?i[this.highlightPosition]:i[i.length-1],n||(n=i[0])),n.classList.add(this.config.classNames.highlightedState),n.setAttribute("aria-selected","true"),this.containerOuter.setAttribute("aria-activedescendant",n.id)}}},{key:"_addItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=(0,v.isType)("String",e)?e.trim():e,c=r,l=this.store.getItems(),h=t||a,u=parseInt(i,10)||-1,d=n>=0?this.store.getGroupById(n):null,f=l?l.length+1:1;return this.config.prependValue&&(a=this.config.prependValue+a.toString()),this.config.appendValue&&(a+=this.config.appendValue.toString()),this.store.dispatch((0,p.addItem)(a,h,f,u,n,s,o,c)),\nthis.isSelectOneElement&&this.removeActiveItems(f),d&&d.value?(0,v.triggerEvent)(this.passedElement,"addItem",{id:f,value:a,label:h,groupValue:d.value,keyCode:c}):(0,v.triggerEvent)(this.passedElement,"addItem",{id:f,value:a,label:h,keyCode:c}),this}},{key:"_removeItem",value:function(e){if(!e||!(0,v.isType)("Object",e))return this;var t=e.id,i=e.value,n=e.label,s=e.choiceId,o=e.groupId,r=o>=0?this.store.getGroupById(o):null;return this.store.dispatch((0,p.removeItem)(t,s)),r&&r.value?(0,v.triggerEvent)(this.passedElement,"removeItem",{id:t,value:i,label:n,groupValue:r.value}):(0,v.triggerEvent)(this.passedElement,"removeItem",{id:t,value:i,label:n}),this}},{key:"_addChoice",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,r=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;if("undefined"!=typeof e&&null!==e){var c=this.store.getChoices(),l=t||e,h=c?c.length+1:1,u=this.baseId+"-"+this.idNames.itemChoice+"-"+h;this.store.dispatch((0,p.addChoice)(e,l,h,s,n,u,o,r,a)),i&&this._addItem(e,l,h,void 0,o,r,a)}}},{key:"_clearChoices",value:function(){this.store.dispatch((0,p.clearChoices)())}},{key:"_addGroup",value:function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"value",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"label",o=(0,v.isType)("Object",e)?e.choices:Array.from(e.getElementsByTagName("OPTION")),r=t?t:Math.floor((new Date).valueOf()*Math.random()),a=!!e.disabled&&e.disabled;o?(this.store.dispatch((0,p.addGroup)(e.label,r,!0,a)),o.forEach(function(e){var t=e.disabled||e.parentNode&&e.parentNode.disabled;i._addChoice(e[n],(0,v.isType)("Object",e)?e[s]:e.innerHTML,e.selected,t,r,e.customProperties,e.placeholder)})):this.store.dispatch((0,p.addGroup)(e.label,e.id,!1,e.disabled))}},{key:"_getTemplate",value:function(e){if(!e)return null;for(var t=this.config.templates,i=arguments.length,n=Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];return t[e].apply(t,n)}},{key:"_createTemplates",value:function(){var e=this,t=this.config.classNames,i={containerOuter:function(i){return(0,v.strToEl)(\'\\n          <div\\n            class="\'+t.containerOuter+\'"\\n            \'+(e.isSelectElement?e.config.searchEnabled?\'role="combobox" aria-autocomplete="list"\':\'role="listbox"\':"")+\'\\n            data-type="\'+e.passedElement.type+\'"\\n            \'+(e.isSelectOneElement?\'tabindex="0"\':"")+\'\\n            aria-haspopup="true"\\n            aria-expanded="false"\\n            dir="\'+i+\'"\\n            >\\n          </div>\\n        \')},containerInner:function(){return(0,v.strToEl)(\'\\n          <div class="\'+t.containerInner+\'"></div>\\n        \')},itemList:function(){var i,n=(0,u.default)(t.list,(i={},s(i,t.listSingle,e.isSelectOneElement),s(i,t.listItems,!e.isSelectOneElement),i));return(0,v.strToEl)(\'\\n          <div class="\'+n+\'"></div>\\n        \')},placeholder:function(e){return(0,v.strToEl)(\'\\n          <div class="\'+t.placeholder+\'">\\n            \'+e+"\\n          </div>\\n        ")},item:function(i){var n,o=(0,u.default)(t.item,(n={},s(n,t.highlightedState,i.highlighted),s(n,t.itemSelectable,!i.highlighted),s(n,t.placeholder,i.placeholder),n));if(e.config.removeItemButton){var r;return o=(0,u.default)(t.item,(r={},s(r,t.highlightedState,i.highlighted),s(r,t.itemSelectable,!i.disabled),s(r,t.placeholder,i.placeholder),r)),(0,v.strToEl)(\'\\n            <div\\n              class="\'+o+\'"\\n              data-item\\n              data-id="\'+i.id+\'"\\n              data-value="\'+i.value+\'"\\n              data-deletable\\n              \'+(i.active?\'aria-selected="true"\':"")+"\\n              "+(i.disabled?\'aria-disabled="true"\':"")+"\\n              >\\n              "+i.label+\'\x3c!--\\n           --\x3e<button\\n                type="button"\\n                class="\'+t.button+\'"\\n                data-button\\n                aria-label="Remove item: \\\'\'+i.value+"\'\\"\\n                >\\n                Remove item\\n              </button>\\n            </div>\\n          ")}return(0,v.strToEl)(\'\\n          <div\\n            class="\'+o+\'"\\n            data-item\\n            data-id="\'+i.id+\'"\\n            data-value="\'+i.value+\'"\\n            \'+(i.active?\'aria-selected="true"\':"")+"\\n            "+(i.disabled?\'aria-disabled="true"\':"")+"\\n            >\\n            "+i.label+"\\n          </div>\\n        ")},choiceList:function(){return(0,v.strToEl)(\'\\n          <div\\n            class="\'+t.list+\'"\\n            dir="ltr"\\n            role="listbox"\\n            \'+(e.isSelectOneElement?"":\'aria-multiselectable="true"\')+"\\n            >\\n          </div>\\n        ")},choiceGroup:function(e){var i=(0,u.default)(t.group,s({},t.itemDisabled,e.disabled));return(0,v.strToEl)(\'\\n          <div\\n            class="\'+i+\'"\\n            data-group\\n            data-id="\'+e.id+\'"\\n            data-value="\'+e.value+\'"\\n            role="group"\\n            \'+(e.disabled?\'aria-disabled="true"\':"")+\'\\n            >\\n            <div class="\'+t.groupHeading+\'">\'+e.value+"</div>\\n          </div>\\n        ")},choice:function(i){var n,o=(0,u.default)(t.item,t.itemChoice,(n={},s(n,t.itemDisabled,i.disabled),s(n,t.itemSelectable,!i.disabled),s(n,t.placeholder,i.placeholder),n));return(0,v.strToEl)(\'\\n          <div\\n            class="\'+o+\'"\\n            data-select-text="\'+e.config.itemSelectText+\'"\\n            data-choice\\n            data-id="\'+i.id+\'"\\n            data-value="\'+i.value+\'"\\n            \'+(i.disabled?\'data-choice-disabled aria-disabled="true"\':"data-choice-selectable")+\'\\n            id="\'+i.elementId+\'"\\n            \'+(i.groupId>0?\'role="treeitem"\':\'role="option"\')+"\\n            >\\n            "+i.label+"\\n          </div>\\n        ")},input:function(){var e=(0,u.default)(t.input,t.inputCloned);return(0,v.strToEl)(\'\\n          <input\\n            type="text"\\n            class="\'+e+\'"\\n            autocomplete="off"\\n            autocapitalize="off"\\n            spellcheck="false"\\n            role="textbox"\\n            aria-autocomplete="list"\\n            >\\n        \')},dropdown:function(){var e=(0,u.default)(t.list,t.listDropdown);return(0,v.strToEl)(\'\\n          <div\\n            class="\'+e+\'"\\n            aria-expanded="false"\\n            >\\n          </div>\\n        \')},notice:function(e){var i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=(0,u.default)(t.item,t.itemChoice,(i={},s(i,t.noResults,"no-results"===n),s(i,t.noChoices,"no-choices"===n),i));return(0,v.strToEl)(\'\\n          <div class="\'+o+\'">\\n            \'+e+"\\n          </div>\\n        ")},option:function(e){return(0,v.strToEl)(\'\\n          <option value="\'+e.value+\'" selected>\'+e.label+"</option>\\n        ")}},n=this.config.callbackOnCreateTemplates,o={};n&&(0,v.isType)("Function",n)&&(o=n.call(this,v.strToEl)),this.config.templates=(0,v.extend)(i,o)}},{key:"_setLoading",value:function(e){this.store.dispatch((0,p.setIsLoading)(e))}},{key:"_createInput",value:function(){var e=this,t=this.passedElement.getAttribute("dir")||"ltr",i=this._getTemplate("containerOuter",t),n=this._getTemplate("containerInner"),s=this._getTemplate("itemList"),o=this._getTemplate("choiceList"),r=this._getTemplate("input"),a=this._getTemplate("dropdown");this.containerOuter=i,this.containerInner=n,this.input=r,this.choiceList=o,this.itemList=s,this.dropdown=a,this.passedElement.classList.add(this.config.classNames.input,this.config.classNames.hiddenState),this.passedElement.tabIndex="-1";var c=this.passedElement.getAttribute("style");if(Boolean(c)&&this.passedElement.setAttribute("data-choice-orig-style",c),this.passedElement.setAttribute("style","display:none;"),this.passedElement.setAttribute("aria-hidden","true"),this.passedElement.setAttribute("data-choice","active"),(0,v.wrap)(this.passedElement,n),(0,v.wrap)(n,i),this.isSelectOneElement?r.placeholder=this.config.searchPlaceholderValue||"":this.placeholder&&(r.placeholder=this.placeholder,r.style.width=(0,v.getWidthOfInput)(r)),this.config.addItems||this.disable(),i.appendChild(n),i.appendChild(a),n.appendChild(s),this.isTextElement||a.appendChild(o),this.isSelectMultipleElement||this.isTextElement?n.appendChild(r):this.canSearch&&a.insertBefore(r,a.firstChild),this.isSelectElement){var l=Array.from(this.passedElement.getElementsByTagName("OPTGROUP"));if(this.highlightPosition=0,this.isSearching=!1,this._setLoading(!0),l&&l.length)l.forEach(function(t){e._addGroup(t,t.id||null)});else{var h=Array.from(this.passedElement.options),u=this.config.sortFilter,d=this.presetChoices;h.forEach(function(e){d.push({value:e.value,label:e.innerHTML,selected:e.selected,disabled:e.disabled||e.parentNode.disabled,placeholder:e.hasAttribute("placeholder")})}),this.config.shouldSort&&d.sort(u);var f=d.some(function(e){return e.selected});d.forEach(function(t,i){if(e.isSelectOneElement){var n=f||!f&&i>0;e._addChoice(t.value,t.label,!n||t.selected,!!n&&t.disabled,void 0,t.customProperties,t.placeholder)}else e._addChoice(t.value,t.label,t.selected,t.disabled,void 0,t.customProperties,t.placeholder)})}this._setLoading(!1)}else this.isTextElement&&this.presetItems.forEach(function(t){var i=(0,v.getType)(t);if("Object"===i){if(!t.value)return;e._addItem(t.value,t.label,t.id,void 0,t.customProperties,t.placeholder)}else"String"===i&&e._addItem(t)})}}]),e}();e.exports=m},function(e,t,i){!function(t){"use strict";function i(){console.log.apply(console,arguments)}function n(e,t){var i;this.list=e,this.options=t=t||{};for(i in a)a.hasOwnProperty(i)&&("boolean"==typeof a[i]?this.options[i]=i in t?t[i]:a[i]:this.options[i]=t[i]||a[i])}function s(e,t,i){var n,r,a,c,l,h;if(t){if(a=t.indexOf("."),a!==-1?(n=t.slice(0,a),r=t.slice(a+1)):n=t,c=e[n],null!==c&&void 0!==c)if(r||"string"!=typeof c&&"number"!=typeof c)if(o(c))for(l=0,h=c.length;l<h;l++)s(c[l],r,i);else r&&s(c,r,i);else i.push(c)}else i.push(e);return i}function o(e){return"[object Array]"===Object.prototype.toString.call(e)}function r(e,t){t=t||{},this.options=t,this.options.location=t.location||r.defaultOptions.location,this.options.distance="distance"in t?t.distance:r.defaultOptions.distance,this.options.threshold="threshold"in t?t.threshold:r.defaultOptions.threshold,this.options.maxPatternLength=t.maxPatternLength||r.defaultOptions.maxPatternLength,this.pattern=t.caseSensitive?e:e.toLowerCase(),this.patternLen=e.length,this.patternLen<=this.options.maxPatternLength&&(this.matchmask=1<<this.patternLen-1,this.patternAlphabet=this._calculatePatternAlphabet())}var a={id:null,caseSensitive:!1,include:[],shouldSort:!0,searchFn:r,sortFn:function(e,t){return e.score-t.score},getFn:s,keys:[],verbose:!1,tokenize:!1,matchAllTokens:!1,tokenSeparator:/ +/g,minMatchCharLength:1,findAllMatches:!1};n.VERSION="2.7.3",n.prototype.set=function(e){return this.list=e,e},n.prototype.search=function(e){this.options.verbose&&i("\\nSearch term:",e,"\\n"),this.pattern=e,this.results=[],this.resultMap={},this._keyMap=null,this._prepareSearchers(),this._startSearch(),this._computeScore(),this._sort();var t=this._format();return t},n.prototype._prepareSearchers=function(){var e=this.options,t=this.pattern,i=e.searchFn,n=t.split(e.tokenSeparator),s=0,o=n.length;if(this.options.tokenize)for(this.tokenSearchers=[];s<o;s++)this.tokenSearchers.push(new i(n[s],e));this.fullSeacher=new i(t,e)},n.prototype._startSearch=function(){var e,t,i,n,s=this.options,o=s.getFn,r=this.list,a=r.length,c=this.options.keys,l=c.length,h=null;if("string"==typeof r[0])for(i=0;i<a;i++)this._analyze("",r[i],i,i);else for(this._keyMap={},i=0;i<a;i++)for(h=r[i],n=0;n<l;n++){if(e=c[n],"string"!=typeof e){if(t=1-e.weight||1,this._keyMap[e.name]={weight:t},e.weight<=0||e.weight>1)throw new Error("Key weight has to be > 0 and <= 1");e=e.name}else this._keyMap[e]={weight:1};this._analyze(e,o(h,e,[]),h,i)}},n.prototype._analyze=function(e,t,n,s){var r,a,c,l,h,u,d,f,p,v,m,g,y,b,E,_=this.options,S=!1;if(void 0!==t&&null!==t){a=[];var I=0;if("string"==typeof t){if(r=t.split(_.tokenSeparator),_.verbose&&i("---------\\nKey:",e),this.options.tokenize){for(b=0;b<this.tokenSearchers.length;b++){for(f=this.tokenSearchers[b],_.verbose&&i("Pattern:",f.pattern),p=[],g=!1,E=0;E<r.length;E++){v=r[E],m=f.search(v);var w={};m.isMatch?(w[v]=m.score,S=!0,g=!0,a.push(m.score)):(w[v]=1,this.options.matchAllTokens||a.push(1)),p.push(w)}g&&I++,_.verbose&&i("Token scores:",p)}for(l=a[0],u=a.length,b=1;b<u;b++)l+=a[b];l/=u,_.verbose&&i("Token score average:",l)}d=this.fullSeacher.search(t),_.verbose&&i("Full text score:",d.score),h=d.score,void 0!==l&&(h=(h+l)/2),_.verbose&&i("Score average:",h),y=!this.options.tokenize||!this.options.matchAllTokens||I>=this.tokenSearchers.length,_.verbose&&i("Check Matches",y),(S||d.isMatch)&&y&&(c=this.resultMap[s],c?c.output.push({key:e,score:h,matchedIndices:d.matchedIndices}):(this.resultMap[s]={item:n,output:[{key:e,score:h,matchedIndices:d.matchedIndices}]},this.results.push(this.resultMap[s])))}else if(o(t))for(b=0;b<t.length;b++)this._analyze(e,t[b],n,s)}},n.prototype._computeScore=function(){var e,t,n,s,o,r,a,c,l,h=this._keyMap,u=this.results;for(this.options.verbose&&i("\\n\\nComputing score:\\n"),e=0;e<u.length;e++){for(n=0,s=u[e].output,o=s.length,c=1,t=0;t<o;t++)r=s[t].score,a=h?h[s[t].key].weight:1,l=r*a,1!==a?c=Math.min(c,l):(n+=l,s[t].nScore=l);1===c?u[e].score=n/o:u[e].score=c,this.options.verbose&&i(u[e])}},n.prototype._sort=function(){var e=this.options;e.shouldSort&&(e.verbose&&i("\\n\\nSorting...."),this.results.sort(e.sortFn))},n.prototype._format=function(){var e,t,n,s,o=this.options,r=o.getFn,a=[],c=this.results,l=o.include;for(o.verbose&&i("\\n\\nOutput:\\n\\n",c),n=o.id?function(e){c[e].item=r(c[e].item,o.id,[])[0]}:function(){},s=function(e){var t,i,n,s,o,r=c[e];if(l.length>0){if(t={item:r.item},l.indexOf("matches")!==-1)for(n=r.output,t.matches=[],i=0;i<n.length;i++)s=n[i],o={indices:s.matchedIndices},s.key&&(o.key=s.key),t.matches.push(o);l.indexOf("score")!==-1&&(t.score=c[e].score)}else t=r.item;return t},e=0,t=c.length;e<t;e++)n(e),a.push(s(e));return a},r.defaultOptions={location:0,distance:100,threshold:.6,maxPatternLength:32},r.prototype._calculatePatternAlphabet=function(){var e={},t=0;for(t=0;t<this.patternLen;t++)e[this.pattern.charAt(t)]=0;for(t=0;t<this.patternLen;t++)e[this.pattern.charAt(t)]|=1<<this.pattern.length-t-1;return e},r.prototype._bitapScore=function(e,t){var i=e/this.patternLen,n=Math.abs(this.options.location-t);return this.options.distance?i+n/this.options.distance:n?1:i},r.prototype.search=function(e){var t,i,n,s,o,r,a,c,l,h,u,d,f,p,v,m,g,y,b,E,_,S,I,w=this.options;if(e=w.caseSensitive?e:e.toLowerCase(),this.pattern===e)return{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]};if(this.patternLen>w.maxPatternLength){if(y=e.match(new RegExp(this.pattern.replace(w.tokenSeparator,"|"))),b=!!y)for(_=[],t=0,S=y.length;t<S;t++)I=y[t],_.push([e.indexOf(I),I.length-1]);return{isMatch:b,score:b?.5:1,matchedIndices:_}}for(s=w.findAllMatches,o=w.location,n=e.length,r=w.threshold,a=e.indexOf(this.pattern,o),E=[],t=0;t<n;t++)E[t]=0;for(a!=-1&&(r=Math.min(this._bitapScore(0,a),r),a=e.lastIndexOf(this.pattern,o+this.patternLen),a!=-1&&(r=Math.min(this._bitapScore(0,a),r))),a=-1,m=1,g=[],h=this.patternLen+n,t=0;t<this.patternLen;t++){for(c=0,l=h;c<l;)this._bitapScore(t,o+l)<=r?c=l:h=l,l=Math.floor((h-c)/2+c);for(h=l,u=Math.max(1,o-l+1),d=s?n:Math.min(o+l,n)+this.patternLen,f=Array(d+2),f[d+1]=(1<<t)-1,i=d;i>=u;i--)if(v=this.patternAlphabet[e.charAt(i-1)],v&&(E[i-1]=1),f[i]=(f[i+1]<<1|1)&v,0!==t&&(f[i]|=(p[i+1]|p[i])<<1|1|p[i+1]),f[i]&this.matchmask&&(m=this._bitapScore(t,i-1),m<=r)){if(r=m,a=i-1,g.push(a),a<=o)break;u=Math.max(1,2*o-a)}if(this._bitapScore(t+1,o)>r)break;p=f}return _=this._getMatchedIndices(E),{isMatch:a>=0,score:0===m?.001:m,matchedIndices:_}},r.prototype._getMatchedIndices=function(e){for(var t,i=[],n=-1,s=-1,o=0,r=e.length;o<r;o++)t=e[o],t&&n===-1?n=o:t||n===-1||(s=o-1,s-n+1>=this.options.minMatchCharLength&&i.push([n,s]),n=-1);return e[o-1]&&o-1-n+1>=this.options.minMatchCharLength&&i.push([n,o-1]),i},e.exports=n}(this)},function(e,t,i){var n,s;!function(){"use strict";function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var s=typeof n;if("string"===s||"number"===s)e.push(n);else if(Array.isArray(n))e.push(i.apply(null,n));else if("object"===s)for(var r in n)o.call(n,r)&&n[r]&&e.push(r)}}return e.join(" ")}var o={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=i:(n=[],s=function(){return i}.apply(t,n),!(void 0!==s&&(e.exports=s)))}()},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=i(5),c=i(26),l=n(c),h=function(){function e(){o(this,e),this.store=(0,a.createStore)(l.default,window.devToolsExtension?window.devToolsExtension():void 0)}return r(e,[{key:"getState",value:function(){return this.store.getState()}},{key:"dispatch",value:function(e){this.store.dispatch(e)}},{key:"subscribe",value:function(e){this.store.subscribe(e)}},{key:"isLoading",value:function(){var e=this.store.getState();return e.general.loading}},{key:"getItems",value:function(){var e=this.store.getState();return e.items}},{key:"getItemsFilteredByActive",value:function(){var e=this.getItems(),t=e.filter(function(e){return e.active===!0},[]);return t}},{key:"getItemsReducedToValues",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getItems(),t=e.reduce(function(e,t){return e.push(t.value),e},[]);return t}},{key:"getChoices",value:function(){var e=this.store.getState();return e.choices}},{key:"getChoicesFilteredByActive",value:function(){var e=this.getChoices(),t=e.filter(function(e){return e.active===!0});return t}},{key:"getChoicesFilteredBySelectable",value:function(){var e=this.getChoices(),t=e.filter(function(e){return e.disabled!==!0});return t}},{key:"getSearchableChoices",value:function(){var e=this.getChoicesFilteredBySelectable();return e.filter(function(e){return e.placeholder!==!0})}},{key:"getChoiceById",value:function(e){if(e){var t=this.getChoicesFilteredByActive(),i=t.find(function(t){return t.id===parseInt(e,10)});return i}return!1}},{key:"getGroups",value:function(){var e=this.store.getState();return e.groups}},{key:"getGroupsFilteredByActive",value:function(){var e=this.getGroups(),t=this.getChoices(),i=e.filter(function(e){var i=e.active===!0&&e.disabled===!1,n=t.some(function(e){return e.active===!0&&e.disabled===!1});return i&&n},[]);return i}},{key:"getGroupById",value:function(e){var t=this.getGroups(),i=t.find(function(t){return t.id===e});return i}},{key:"getPlaceholderChoice",value:function(){var e=this.getChoices(),t=[].concat(s(e)).reverse().find(function(e){return e.placeholder===!0});return t}}]),e}();t.default=h,e.exports=h},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var s=i(6),o=n(s),r=i(21),a=n(r),c=i(23),l=n(c),h=i(24),u=n(h),d=i(25),f=n(d),p=i(22);n(p);t.createStore=o.default,t.combineReducers=a.default,t.bindActionCreators=l.default,t.applyMiddleware=u.default,t.compose=f.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t,i){function n(){g===m&&(g=m.slice())}function o(){return v}function a(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return n(),g.push(e),function(){if(t){t=!1,n();var i=g.indexOf(e);g.splice(i,1)}}}function h(e){if(!(0,r.default)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error(\'Actions may not have an undefined "type" property. Have you misspelled a constant?\');if(y)throw new Error("Reducers may not dispatch actions.");try{y=!0,v=p(v,e)}finally{y=!1}for(var t=m=g,i=0;i<t.length;i++){var n=t[i];n()}return e}function u(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");p=e,h({type:l.INIT})}function d(){var e,t=a;return e={subscribe:function(e){function i(){e.next&&e.next(o())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");i();var n=t(i);return{unsubscribe:n}}},e[c.default]=function(){return this},e}var f;if("function"==typeof t&&"undefined"==typeof i&&(i=t,t=void 0),"undefined"!=typeof i){if("function"!=typeof i)throw new Error("Expected the enhancer to be a function.");return i(s)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var p=e,v=t,m=[],g=m,y=!1;return h({type:l.INIT}),f={dispatch:h,subscribe:a,getState:o,replaceReducer:u},f[c.default]=d,f}t.__esModule=!0,t.ActionTypes=void 0,t.default=s;var o=i(7),r=n(o),a=i(17),c=n(a),l=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t,i){function n(e){if(!r(e)||s(e)!=a)return!1;var t=o(e);if(null===t)return!0;var i=u.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&h.call(i)==d}var s=i(8),o=i(14),r=i(16),a="[object Object]",c=Function.prototype,l=Object.prototype,h=c.toString,u=l.hasOwnProperty,d=h.call(Object);e.exports=n},function(e,t,i){function n(e){return null==e?void 0===e?c:a:l&&l in Object(e)?o(e):r(e)}var s=i(9),o=i(12),r=i(13),a="[object Null]",c="[object Undefined]",l=s?s.toStringTag:void 0;e.exports=n},function(e,t,i){var n=i(10),s=n.Symbol;e.exports=s},function(e,t,i){var n=i(11),s="object"==typeof self&&self&&self.Object===Object&&self,o=n||s||Function("return this")();e.exports=o},function(e,t){(function(t){var i="object"==typeof t&&t&&t.Object===Object&&t;e.exports=i}).call(t,function(){return this}())},function(e,t,i){function n(e){var t=r.call(e,c),i=e[c];try{e[c]=void 0;var n=!0}catch(e){}var s=a.call(e);return n&&(t?e[c]=i:delete e[c]),s}var s=i(9),o=Object.prototype,r=o.hasOwnProperty,a=o.toString,c=s?s.toStringTag:void 0;e.exports=n},function(e,t){function i(e){return s.call(e)}var n=Object.prototype,s=n.toString;e.exports=i},function(e,t,i){var n=i(15),s=n(Object.getPrototypeOf,Object);e.exports=s},function(e,t){function i(e,t){return function(i){return e(t(i))}}e.exports=i},function(e,t){function i(e){return null!=e&&"object"==typeof e}e.exports=i},function(e,t,i){e.exports=i(18)},function(e,t,i){(function(e,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o,r=i(20),a=s(r);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof e?e:n;var c=(0,a.default)(o);t.default=c}).call(t,function(){return this}(),i(19)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){"use strict";function i(e){var t,i=e.Symbol;return"function"==typeof i?i.observable?t=i.observable:(t=i("observable"),i.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var i=t&&t.type,n=i&&\'"\'+i.toString()+\'"\'||"an action";return"Given action "+n+\', reducer "\'+e+\'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.\'}function o(e){Object.keys(e).forEach(function(t){var i=e[t],n=i(void 0,{type:a.ActionTypes.INIT});if("undefined"==typeof n)throw new Error(\'Reducer "\'+t+"\\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don\'t want to set a value for this reducer, you can use null instead of undefined.");var s="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof i(void 0,{type:s}))throw new Error(\'Reducer "\'+t+\'" returned undefined when probed with a random type. \'+("Don\'t try to handle "+a.ActionTypes.INIT+\' or other actions in "redux/*" \')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.")})}function r(e){for(var t=Object.keys(e),i={},n=0;n<t.length;n++){var r=t[n];"function"==typeof e[r]&&(i[r]=e[r])}var a=Object.keys(i),c=void 0;try{o(i)}catch(e){c=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(c)throw c;for(var n=!1,o={},r=0;r<a.length;r++){var l=a[r],h=i[l],u=e[l],d=h(u,t);if("undefined"==typeof d){var f=s(l,t);throw new Error(f)}o[l]=d,n=n||d!==u}return n?o:e}}t.__esModule=!0,t.default=r;var a=i(6),c=i(7),l=(n(c),i(22));n(l)},function(e,t){"use strict";function i(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}t.__esModule=!0,t.default=i},function(e,t){"use strict";function i(e,t){return function(){return t(e.apply(void 0,arguments))}}function n(e,t){if("function"==typeof e)return i(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+\'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?\');for(var n=Object.keys(e),s={},o=0;o<n.length;o++){var r=n[o],a=e[r];"function"==typeof a&&(s[r]=i(a,t))}return s}t.__esModule=!0,t.default=n},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e){return function(i,n,s){var r=e(i,n,s),c=r.dispatch,l=[],h={getState:r.getState,dispatch:function(e){return c(e)}};return l=t.map(function(e){return e(h)}),c=a.default.apply(void 0,l)(r.dispatch),o({},r,{dispatch:c})}}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};t.default=s;var r=i(25),a=n(r)},function(e,t){"use strict";function i(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}t.__esModule=!0,t.default=i},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(5),o=i(27),r=n(o),a=i(28),c=n(a),l=i(29),h=n(l),u=i(30),d=n(u),f=(0,s.combineReducers)({items:r.default,groups:c.default,choices:h.default,general:d.default}),p=function(e,t){var i=e;return"CLEAR_ALL"===t.type&&(i=void 0),f(i,t)};t.default=p},function(e,t){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case"ADD_ITEM":var n=[].concat(i(e),[{id:t.id,choiceId:t.choiceId,groupId:t.groupId,value:t.value,label:t.label,active:!0,highlighted:!1,customProperties:t.customProperties,placeholder:t.placeholder||!1,keyCode:null}]);return n.map(function(e){return e.highlighted&&(e.highlighted=!1),e});case"REMOVE_ITEM":return e.map(function(e){return e.id===t.id&&(e.active=!1),e});case"HIGHLIGHT_ITEM":return e.map(function(e){return e.id===t.id&&(e.highlighted=t.highlighted),e});default:return e}};t.default=n},function(e,t){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case"ADD_GROUP":return[].concat(i(e),[{id:t.id,value:t.value,active:t.active,disabled:t.disabled}]);case"CLEAR_CHOICES":return e.groups=[];default:return e}};t.default=n},function(e,t){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case"ADD_CHOICE":return[].concat(i(e),[{id:t.id,elementId:t.elementId,groupId:t.groupId,value:t.value,label:t.label||t.value,disabled:t.disabled||!1,selected:!1,active:!0,score:9999,customProperties:t.customProperties,placeholder:t.placeholder||!1,keyCode:null}]);case"ADD_ITEM":var n=e;return t.activateOptions&&(n=e.map(function(e){return e.active=t.active,e})),t.choiceId>-1&&(n=e.map(function(e){return e.id===parseInt(t.choiceId,10)&&(e.selected=!0),e})),n;case"REMOVE_ITEM":return t.choiceId>-1?e.map(function(e){return e.id===parseInt(t.choiceId,10)&&(e.selected=!1),e}):e;case"FILTER_CHOICES":var s=t.results,o=e.map(function(e){return e.active=s.some(function(t){return t.item.id===e.id&&(e.score=t.score,!0)}),e});return o;case"ACTIVATE_CHOICES":return e.map(function(e){return e.active=t.active,e});case"CLEAR_CHOICES":return e.choices=[];default:return e}};t.default=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1},t=arguments[1];switch(t.type){case"LOADING":return{loading:t.isLoading};default:return e}};t.default=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.addItem=function(e,t,i,n,s,o,r,a){return{type:"ADD_ITEM",value:e,label:t,id:i,choiceId:n,groupId:s,customProperties:o,placeholder:r,keyCode:a}},t.removeItem=function(e,t){return{type:"REMOVE_ITEM",id:e,choiceId:t}},t.highlightItem=function(e,t){return{type:"HIGHLIGHT_ITEM",id:e,highlighted:t}},t.addChoice=function(e,t,i,n,s,o,r,a,c){return{type:"ADD_CHOICE",value:e,label:t,id:i,groupId:n,disabled:s,elementId:o,customProperties:r,placeholder:a,keyCode:c}},t.filterChoices=function(e){return{type:"FILTER_CHOICES",results:e}},t.activateChoices=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:"ACTIVATE_CHOICES",active:e}},t.clearChoices=function(){return{type:"CLEAR_CHOICES"}},t.addGroup=function(e,t,i,n){return{type:"ADD_GROUP",value:e,id:t,active:i,disabled:n}},t.clearAll=function(){return{type:"CLEAR_ALL"}},t.setIsLoading=function(e){return{type:"LOADING",isLoading:e}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=(t.capitalise=function(e){return e.replace(/\\w\\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})},t.generateChars=function(e){for(var t="",i=0;i<e;i++){var n=a(0,36);t+=n.toString(36)}return t}),s=(t.generateId=function(e,t){var i=e.id||e.name&&e.name+"-"+n(2)||n(4);return i=i.replace(/(:|\\.|\\[|\\]|,)/g,""),i=t+i},t.getType=function(e){return Object.prototype.toString.call(e).slice(8,-1)}),o=t.isType=function(e,t){var i=s(t);\nreturn void 0!==t&&null!==t&&i===e},r=(t.isNode=function(e){return"object"===("undefined"==typeof Node?"undefined":i(Node))?e instanceof Node:e&&"object"===("undefined"==typeof e?"undefined":i(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},t.isElement=function(e){return"object"===("undefined"==typeof HTMLElement?"undefined":i(HTMLElement))?e instanceof HTMLElement:e&&"object"===("undefined"==typeof e?"undefined":i(e))&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},t.extend=function e(){for(var t={},i=arguments.length,n=function(i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o("Object",i[n])?t[n]=e(!0,t[n],i[n]):t[n]=i[n])},s=0;s<i;s++){var r=arguments[s];o("Object",r)&&n(r)}return t},t.whichTransitionEvent=function(){var e,t=document.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in i)if(void 0!==t.style[e])return i[e]},t.whichAnimationEvent=function(){var e,t=document.createElement("fakeelement"),i={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in i)if(void 0!==t.style[e])return i[e]}),a=(t.getParentsUntil=function(e,t,i){for(var n=[];e&&e!==document;e=e.parentNode){if(t){var s=t.charAt(0);if("."===s&&e.classList.contains(t.substr(1)))break;if("#"===s&&e.id===t.substr(1))break;if("["===s&&e.hasAttribute(t.substr(1,t.length-1)))break;if(e.tagName.toLowerCase()===t)break}if(i){var o=i.charAt(0);"."===o&&e.classList.contains(i.substr(1))&&n.push(e),"#"===o&&e.id===i.substr(1)&&n.push(e),"["===o&&e.hasAttribute(i.substr(1,i.length-1))&&n.push(e),e.tagName.toLowerCase()===i&&n.push(e)}else n.push(e)}return 0===n.length?null:n},t.wrap=function(e,t){return t=t||document.createElement("div"),e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t.appendChild(e)},t.getSiblings=function(e){for(var t=[],i=e.parentNode.firstChild;i;i=i.nextSibling)1===i.nodeType&&i!==e&&t.push(i);return t},t.findAncestor=function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e},t.findAncestorByAttrName=function(e,t){for(var i=e;i;){if(i.hasAttribute(t))return i;i=i.parentElement}return null},t.debounce=function(e,t,i){var n;return function(){var s=this,o=arguments,r=function(){n=null,i||e.apply(s,o)},a=i&&!n;clearTimeout(n),n=setTimeout(r,t),a&&e.apply(s,o)}},t.getElemDistance=function(e){var t=0;if(e.offsetParent)do t+=e.offsetTop,e=e.offsetParent;while(e);return t>=0?t:0},t.getElementOffset=function(e,t){var i=t;return i>1&&(i=1),i>0&&(i=0),Math.max(e.offsetHeight*i)},t.getAdjacentEl=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(e&&t){var n=e.parentNode.parentNode,s=Array.from(n.querySelectorAll(t)),o=s.indexOf(e),r=i>0?1:-1;return s[o+r]}},t.getScrollPosition=function(e){return"bottom"===e?Math.max((window.scrollY||window.pageYOffset)+(window.innerHeight||document.documentElement.clientHeight)):window.scrollY||window.pageYOffset},t.isInView=function(e,t,i){return this.getScrollPosition(t)>this.getElemDistance(e)+this.getElementOffset(e,i)},t.isScrolledIntoView=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(e){var n=void 0;return n=i>0?t.scrollTop+t.offsetHeight>=e.offsetTop+e.offsetHeight:e.offsetTop>=t.scrollTop}},t.stripHTML=function(e){var t=document.createElement("DIV");return t.innerHTML=e,t.textContent||t.innerText||""},t.addAnimation=function(e,t){var i=r(),n=function n(){e.classList.remove(t),e.removeEventListener(i,n,!1)};e.classList.add(t),e.addEventListener(i,n,!1)},t.getRandomNumber=function(e,t){return Math.floor(Math.random()*(t-e)+e)}),c=t.strToEl=function(){var e=document.createElement("div");return function(t){var i=t.trim(),n=void 0;for(e.innerHTML=i,n=e.children[0];e.firstChild;)e.removeChild(e.firstChild);return n}}();t.getWidthOfInput=function(e){var t=e.value||e.placeholder,i=e.offsetWidth;if(t){var n=c("<span>"+t+"</span>");if(n.style.position="absolute",n.style.padding="0",n.style.top="-9999px",n.style.left="-9999px",n.style.width="auto",n.style.whiteSpace="pre",document.body.contains(e)&&window.getComputedStyle){var s=window.getComputedStyle(e);s&&(n.style.fontSize=s.fontSize,n.style.fontFamily=s.fontFamily,n.style.fontWeight=s.fontWeight,n.style.fontStyle=s.fontStyle,n.style.letterSpacing=s.letterSpacing,n.style.textTransform=s.textTransform,n.style.padding=s.padding)}document.body.appendChild(n),t&&n.offsetWidth!==e.offsetWidth&&(i=n.offsetWidth+4),document.body.removeChild(n)}return i+"px"},t.sortByAlpha=function(e,t){var i=(e.label||e.value).toLowerCase(),n=(t.label||t.value).toLowerCase();return i<n?-1:i>n?1:0},t.sortByScore=function(e,t){return e.score-t.score},t.triggerEvent=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=new CustomEvent(t,{detail:i,bubbles:!0,cancelable:!0});return e.dispatchEvent(n)}},function(e,t){"use strict";!function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}Array.from||(Array.from=function(){var e=Object.prototype.toString,t=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},i=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t},n=Math.pow(2,53)-1,s=function(e){var t=i(e);return Math.min(Math.max(t,0),n)};return function(e){var i=this,n=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var o,r=arguments.length>1?arguments[1]:void 0;if("undefined"!=typeof r){if(!t(r))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(o=arguments[2])}for(var a,c=s(n.length),l=t(i)?Object(new i(c)):new Array(c),h=0;h<c;)a=n[h],r?l[h]="undefined"==typeof o?r(a,h):r.call(o,a,h):l[h]=a,h+=1;return l.length=c,l}}()),Array.prototype.find||(Array.prototype.find=function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,i=Object(this),n=i.length>>>0,s=arguments[1],o=0;o<n;o++)if(t=i[o],e.call(s,t,o,i))return t}),e.prototype=window.Event.prototype,window.CustomEvent=e}()}])});\n//# sourceMappingURL=choices.min.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY2hvaWNlcy5qcy9hc3NldHMvc2NyaXB0cy9kaXN0L2Nob2ljZXMubWluLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nob2ljZXMuanMvYXNzZXRzL3NjcmlwdHMvZGlzdC9jaG9pY2VzLm1pbi5qcz9hNDI0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qISBjaG9pY2VzLmpzIHYzLjAuMyB8IChjKSAyMDE4IEpvc2ggSm9obnNvbiB8IGh0dHBzOi8vZ2l0aHViLmNvbS9qc2hqb2huc29uL0Nob2ljZXMjcmVhZG1lICovIFxuIWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dCgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sdCk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5DaG9pY2VzPXQoKTplLkNob2ljZXM9dCgpfSh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQobil7aWYoaVtuXSlyZXR1cm4gaVtuXS5leHBvcnRzO3ZhciBzPWlbbl09e2V4cG9ydHM6e30saWQ6bixsb2FkZWQ6ITF9O3JldHVybiBlW25dLmNhbGwocy5leHBvcnRzLHMscy5leHBvcnRzLHQpLHMubG9hZGVkPSEwLHMuZXhwb3J0c312YXIgaT17fTtyZXR1cm4gdC5tPWUsdC5jPWksdC5wPVwiL2Fzc2V0cy9zY3JpcHRzL2Rpc3QvXCIsdCgwKX0oW2Z1bmN0aW9uKGUsdCxpKXtlLmV4cG9ydHM9aSgxKX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIHMoZSx0LGkpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6aSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09aSxlfWZ1bmN0aW9uIG8oZSl7aWYoQXJyYXkuaXNBcnJheShlKSl7Zm9yKHZhciB0PTAsaT1BcnJheShlLmxlbmd0aCk7dDxlLmxlbmd0aDt0KyspaVt0XT1lW3RdO3JldHVybiBpfXJldHVybiBBcnJheS5mcm9tKGUpfWZ1bmN0aW9uIHIoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfXZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgbj10W2ldO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQsaSxuKXtyZXR1cm4gaSYmZSh0LnByb3RvdHlwZSxpKSxuJiZlKHQsbiksdH19KCksYz1pKDIpLGw9bihjKSxoPWkoMyksdT1uKGgpLGQ9aSg0KSxmPW4oZCkscD1pKDMxKSx2PWkoMzIpO2koMzMpO3ZhciBtPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpcIltkYXRhLWNob2ljZV1cIixpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtpZihyKHRoaXMsZSksKDAsdi5pc1R5cGUpKFwiU3RyaW5nXCIsdCkpe3ZhciBuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodCk7aWYobi5sZW5ndGg+MSlmb3IodmFyIHM9MTtzPG4ubGVuZ3RoO3MrKyl7dmFyIG89bltzXTtuZXcgZShvLGkpfX12YXIgYT17c2lsZW50OiExLGl0ZW1zOltdLGNob2ljZXM6W10scmVuZGVyQ2hvaWNlTGltaXQ6LTEsbWF4SXRlbUNvdW50Oi0xLGFkZEl0ZW1zOiEwLHJlbW92ZUl0ZW1zOiEwLHJlbW92ZUl0ZW1CdXR0b246ITEsZWRpdEl0ZW1zOiExLGR1cGxpY2F0ZUl0ZW1zOiEwLGRlbGltaXRlcjpcIixcIixwYXN0ZTohMCxzZWFyY2hFbmFibGVkOiEwLHNlYXJjaENob2ljZXM6ITAsc2VhcmNoRmxvb3I6MSxzZWFyY2hSZXN1bHRMaW1pdDo0LHNlYXJjaEZpZWxkczpbXCJsYWJlbFwiLFwidmFsdWVcIl0scG9zaXRpb246XCJhdXRvXCIscmVzZXRTY3JvbGxQb3NpdGlvbjohMCxyZWdleEZpbHRlcjpudWxsLHNob3VsZFNvcnQ6ITAsc2hvdWxkU29ydEl0ZW1zOiExLHNvcnRGaWx0ZXI6di5zb3J0QnlBbHBoYSxwbGFjZWhvbGRlcjohMCxwbGFjZWhvbGRlclZhbHVlOm51bGwsc2VhcmNoUGxhY2Vob2xkZXJWYWx1ZTpudWxsLHByZXBlbmRWYWx1ZTpudWxsLGFwcGVuZFZhbHVlOm51bGwscmVuZGVyU2VsZWN0ZWRDaG9pY2VzOlwiYXV0b1wiLGxvYWRpbmdUZXh0OlwiTG9hZGluZy4uLlwiLG5vUmVzdWx0c1RleHQ6XCJObyByZXN1bHRzIGZvdW5kXCIsbm9DaG9pY2VzVGV4dDpcIk5vIGNob2ljZXMgdG8gY2hvb3NlIGZyb21cIixpdGVtU2VsZWN0VGV4dDpcIlByZXNzIHRvIHNlbGVjdFwiLGFkZEl0ZW1UZXh0OmZ1bmN0aW9uKGUpe3JldHVybidQcmVzcyBFbnRlciB0byBhZGQgPGI+XCInK2UrJ1wiPC9iPid9LG1heEl0ZW1UZXh0OmZ1bmN0aW9uKGUpe3JldHVyblwiT25seSBcIitlK1wiIHZhbHVlcyBjYW4gYmUgYWRkZWQuXCJ9LHVuaXF1ZUl0ZW1UZXh0OlwiT25seSB1bmlxdWUgdmFsdWVzIGNhbiBiZSBhZGRlZC5cIixjbGFzc05hbWVzOntjb250YWluZXJPdXRlcjpcImNob2ljZXNcIixjb250YWluZXJJbm5lcjpcImNob2ljZXNfX2lubmVyXCIsaW5wdXQ6XCJjaG9pY2VzX19pbnB1dFwiLGlucHV0Q2xvbmVkOlwiY2hvaWNlc19faW5wdXQtLWNsb25lZFwiLGxpc3Q6XCJjaG9pY2VzX19saXN0XCIsbGlzdEl0ZW1zOlwiY2hvaWNlc19fbGlzdC0tbXVsdGlwbGVcIixsaXN0U2luZ2xlOlwiY2hvaWNlc19fbGlzdC0tc2luZ2xlXCIsbGlzdERyb3Bkb3duOlwiY2hvaWNlc19fbGlzdC0tZHJvcGRvd25cIixpdGVtOlwiY2hvaWNlc19faXRlbVwiLGl0ZW1TZWxlY3RhYmxlOlwiY2hvaWNlc19faXRlbS0tc2VsZWN0YWJsZVwiLGl0ZW1EaXNhYmxlZDpcImNob2ljZXNfX2l0ZW0tLWRpc2FibGVkXCIsaXRlbUNob2ljZTpcImNob2ljZXNfX2l0ZW0tLWNob2ljZVwiLHBsYWNlaG9sZGVyOlwiY2hvaWNlc19fcGxhY2Vob2xkZXJcIixncm91cDpcImNob2ljZXNfX2dyb3VwXCIsZ3JvdXBIZWFkaW5nOlwiY2hvaWNlc19faGVhZGluZ1wiLGJ1dHRvbjpcImNob2ljZXNfX2J1dHRvblwiLGFjdGl2ZVN0YXRlOlwiaXMtYWN0aXZlXCIsZm9jdXNTdGF0ZTpcImlzLWZvY3VzZWRcIixvcGVuU3RhdGU6XCJpcy1vcGVuXCIsZGlzYWJsZWRTdGF0ZTpcImlzLWRpc2FibGVkXCIsaGlnaGxpZ2h0ZWRTdGF0ZTpcImlzLWhpZ2hsaWdodGVkXCIsaGlkZGVuU3RhdGU6XCJpcy1oaWRkZW5cIixmbGlwcGVkU3RhdGU6XCJpcy1mbGlwcGVkXCIsbG9hZGluZ1N0YXRlOlwiaXMtbG9hZGluZ1wiLG5vUmVzdWx0czpcImhhcy1uby1yZXN1bHRzXCIsbm9DaG9pY2VzOlwiaGFzLW5vLWNob2ljZXNcIn0sZnVzZU9wdGlvbnM6e2luY2x1ZGU6XCJzY29yZVwifSxjYWxsYmFja09uSW5pdDpudWxsLGNhbGxiYWNrT25DcmVhdGVUZW1wbGF0ZXM6bnVsbH07aWYodGhpcy5pZE5hbWVzPXtpdGVtQ2hvaWNlOlwiaXRlbS1jaG9pY2VcIn0sdGhpcy5jb25maWc9KDAsdi5leHRlbmQpKGEsaSksXCJhdXRvXCIhPT10aGlzLmNvbmZpZy5yZW5kZXJTZWxlY3RlZENob2ljZXMmJlwiYWx3YXlzXCIhPT10aGlzLmNvbmZpZy5yZW5kZXJTZWxlY3RlZENob2ljZXMmJih0aGlzLmNvbmZpZy5zaWxlbnR8fGNvbnNvbGUud2FybihcInJlbmRlclNlbGVjdGVkQ2hvaWNlczogUG9zc2libGUgdmFsdWVzIGFyZSAnYXV0bycgYW5kICdhbHdheXMnLiBGYWxsaW5nIGJhY2sgdG8gJ2F1dG8nLlwiKSx0aGlzLmNvbmZpZy5yZW5kZXJTZWxlY3RlZENob2ljZXM9XCJhdXRvXCIpLHRoaXMuc3RvcmU9bmV3IGYuZGVmYXVsdCh0aGlzLnJlbmRlciksdGhpcy5pbml0aWFsaXNlZD0hMSx0aGlzLmN1cnJlbnRTdGF0ZT17fSx0aGlzLnByZXZTdGF0ZT17fSx0aGlzLmN1cnJlbnRWYWx1ZT1cIlwiLHRoaXMuZWxlbWVudD10LHRoaXMucGFzc2VkRWxlbWVudD0oMCx2LmlzVHlwZSkoXCJTdHJpbmdcIix0KT9kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHQpOnQsIXRoaXMucGFzc2VkRWxlbWVudClyZXR1cm4gdm9pZCh0aGlzLmNvbmZpZy5zaWxlbnR8fGNvbnNvbGUuZXJyb3IoXCJQYXNzZWQgZWxlbWVudCBub3QgZm91bmRcIikpO3RoaXMuaXNUZXh0RWxlbWVudD1cInRleHRcIj09PXRoaXMucGFzc2VkRWxlbWVudC50eXBlLHRoaXMuaXNTZWxlY3RPbmVFbGVtZW50PVwic2VsZWN0LW9uZVwiPT09dGhpcy5wYXNzZWRFbGVtZW50LnR5cGUsdGhpcy5pc1NlbGVjdE11bHRpcGxlRWxlbWVudD1cInNlbGVjdC1tdWx0aXBsZVwiPT09dGhpcy5wYXNzZWRFbGVtZW50LnR5cGUsdGhpcy5pc1NlbGVjdEVsZW1lbnQ9dGhpcy5pc1NlbGVjdE9uZUVsZW1lbnR8fHRoaXMuaXNTZWxlY3RNdWx0aXBsZUVsZW1lbnQsdGhpcy5pc1ZhbGlkRWxlbWVudFR5cGU9dGhpcy5pc1RleHRFbGVtZW50fHx0aGlzLmlzU2VsZWN0RWxlbWVudCx0aGlzLmlzSWUxMT0hKCFuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9UcmlkZW50Lyl8fCFuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9ydlsgOl0xMS8pKSx0aGlzLmlzU2Nyb2xsaW5nT25JZT0hMSx0aGlzLmNvbmZpZy5zaG91bGRTb3J0SXRlbXM9PT0hMCYmdGhpcy5pc1NlbGVjdE9uZUVsZW1lbnQmJih0aGlzLmNvbmZpZy5zaWxlbnR8fGNvbnNvbGUud2FybihcInNob3VsZFNvcnRFbGVtZW50czogVHlwZSBvZiBwYXNzZWQgZWxlbWVudCBpcyAnc2VsZWN0LW9uZScsIGZhbGxpbmcgYmFjayB0byBmYWxzZS5cIikpLHRoaXMuaGlnaGxpZ2h0UG9zaXRpb249MCx0aGlzLmNhblNlYXJjaD10aGlzLmNvbmZpZy5zZWFyY2hFbmFibGVkLHRoaXMucGxhY2Vob2xkZXI9ITEsdGhpcy5pc1NlbGVjdE9uZUVsZW1lbnR8fCh0aGlzLnBsYWNlaG9sZGVyPSEhdGhpcy5jb25maWcucGxhY2Vob2xkZXImJih0aGlzLmNvbmZpZy5wbGFjZWhvbGRlclZhbHVlfHx0aGlzLnBhc3NlZEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwicGxhY2Vob2xkZXJcIikpKSx0aGlzLnByZXNldENob2ljZXM9dGhpcy5jb25maWcuY2hvaWNlcyx0aGlzLnByZXNldEl0ZW1zPXRoaXMuY29uZmlnLml0ZW1zLHRoaXMucGFzc2VkRWxlbWVudC52YWx1ZSYmKHRoaXMucHJlc2V0SXRlbXM9dGhpcy5wcmVzZXRJdGVtcy5jb25jYXQodGhpcy5wYXNzZWRFbGVtZW50LnZhbHVlLnNwbGl0KHRoaXMuY29uZmlnLmRlbGltaXRlcikpKSx0aGlzLmJhc2VJZD0oMCx2LmdlbmVyYXRlSWQpKHRoaXMucGFzc2VkRWxlbWVudCxcImNob2ljZXMtXCIpLHRoaXMucmVuZGVyPXRoaXMucmVuZGVyLmJpbmQodGhpcyksdGhpcy5fb25Gb2N1cz10aGlzLl9vbkZvY3VzLmJpbmQodGhpcyksdGhpcy5fb25CbHVyPXRoaXMuX29uQmx1ci5iaW5kKHRoaXMpLHRoaXMuX29uS2V5VXA9dGhpcy5fb25LZXlVcC5iaW5kKHRoaXMpLHRoaXMuX29uS2V5RG93bj10aGlzLl9vbktleURvd24uYmluZCh0aGlzKSx0aGlzLl9vbkNsaWNrPXRoaXMuX29uQ2xpY2suYmluZCh0aGlzKSx0aGlzLl9vblRvdWNoTW92ZT10aGlzLl9vblRvdWNoTW92ZS5iaW5kKHRoaXMpLHRoaXMuX29uVG91Y2hFbmQ9dGhpcy5fb25Ub3VjaEVuZC5iaW5kKHRoaXMpLHRoaXMuX29uTW91c2VEb3duPXRoaXMuX29uTW91c2VEb3duLmJpbmQodGhpcyksdGhpcy5fb25Nb3VzZU92ZXI9dGhpcy5fb25Nb3VzZU92ZXIuYmluZCh0aGlzKSx0aGlzLl9vblBhc3RlPXRoaXMuX29uUGFzdGUuYmluZCh0aGlzKSx0aGlzLl9vbklucHV0PXRoaXMuX29uSW5wdXQuYmluZCh0aGlzKSx0aGlzLndhc1RhcD0hMDt2YXIgYz1cImNsYXNzTGlzdFwiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O2N8fHRoaXMuY29uZmlnLnNpbGVudHx8Y29uc29sZS5lcnJvcihcIkNob2ljZXM6IFlvdXIgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgQ2hvaWNlc1wiKTt2YXIgbD0oMCx2LmlzRWxlbWVudCkodGhpcy5wYXNzZWRFbGVtZW50KSYmdGhpcy5pc1ZhbGlkRWxlbWVudFR5cGU7aWYobCl7aWYoXCJhY3RpdmVcIj09PXRoaXMucGFzc2VkRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNob2ljZVwiKSlyZXR1cm47dGhpcy5pbml0KCl9ZWxzZSB0aGlzLmNvbmZpZy5zaWxlbnR8fGNvbnNvbGUuZXJyb3IoXCJJbmNvbXBhdGlibGUgaW5wdXQgcGFzc2VkXCIpfXJldHVybiBhKGUsW3trZXk6XCJpbml0XCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLmluaXRpYWxpc2VkIT09ITApe3ZhciBlPXRoaXMuY29uZmlnLmNhbGxiYWNrT25Jbml0O3RoaXMuaW5pdGlhbGlzZWQ9ITAsdGhpcy5fY3JlYXRlVGVtcGxhdGVzKCksdGhpcy5fY3JlYXRlSW5wdXQoKSx0aGlzLnN0b3JlLnN1YnNjcmliZSh0aGlzLnJlbmRlciksdGhpcy5yZW5kZXIoKSx0aGlzLl9hZGRFdmVudExpc3RlbmVycygpLGUmJigwLHYuaXNUeXBlKShcIkZ1bmN0aW9uXCIsZSkmJmUuY2FsbCh0aGlzKX19fSx7a2V5OlwiZGVzdHJveVwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5pbml0aWFsaXNlZCE9PSExKXt0aGlzLl9yZW1vdmVFdmVudExpc3RlbmVycygpLHRoaXMucGFzc2VkRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuY29uZmlnLmNsYXNzTmFtZXMuaW5wdXQsdGhpcy5jb25maWcuY2xhc3NOYW1lcy5oaWRkZW5TdGF0ZSksdGhpcy5wYXNzZWRFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcInRhYmluZGV4XCIpO3ZhciBlPXRoaXMucGFzc2VkRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNob2ljZS1vcmlnLXN0eWxlXCIpO0Jvb2xlYW4oZSk/KHRoaXMucGFzc2VkRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLWNob2ljZS1vcmlnLXN0eWxlXCIpLHRoaXMucGFzc2VkRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLGUpKTp0aGlzLnBhc3NlZEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwic3R5bGVcIiksdGhpcy5wYXNzZWRFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIpLHRoaXMucGFzc2VkRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLWNob2ljZVwiKSx0aGlzLnBhc3NlZEVsZW1lbnQudmFsdWU9dGhpcy5wYXNzZWRFbGVtZW50LnZhbHVlLHRoaXMuY29udGFpbmVyT3V0ZXIucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5wYXNzZWRFbGVtZW50LHRoaXMuY29udGFpbmVyT3V0ZXIpLHRoaXMuY29udGFpbmVyT3V0ZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmNvbnRhaW5lck91dGVyKSx0aGlzLmNsZWFyU3RvcmUoKSx0aGlzLmNvbmZpZy50ZW1wbGF0ZXM9bnVsbCx0aGlzLmluaXRpYWxpc2VkPSExfX19LHtrZXk6XCJyZW5kZXJHcm91cHNcIix2YWx1ZTpmdW5jdGlvbihlLHQsaSl7dmFyIG49dGhpcyxzPWl8fGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxvPXRoaXMuY29uZmlnLnNvcnRGaWx0ZXI7cmV0dXJuIHRoaXMuY29uZmlnLnNob3VsZFNvcnQmJmUuc29ydChvKSxlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIGk9dC5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIG4uaXNTZWxlY3RPbmVFbGVtZW50P3QuZ3JvdXBJZD09PWUuaWQ6dC5ncm91cElkPT09ZS5pZCYmIXQuc2VsZWN0ZWR9KTtpZihpLmxlbmd0aD49MSl7dmFyIG89bi5fZ2V0VGVtcGxhdGUoXCJjaG9pY2VHcm91cFwiLGUpO3MuYXBwZW5kQ2hpbGQobyksbi5yZW5kZXJDaG9pY2VzKGkscywhMCl9fSksc319LHtrZXk6XCJyZW5kZXJDaG9pY2VzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgaT10aGlzLG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXSxzPXR8fGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxyPXRoaXMuY29uZmlnLGE9ci5yZW5kZXJTZWxlY3RlZENob2ljZXMsYz1yLnNlYXJjaFJlc3VsdExpbWl0LGw9ci5yZW5kZXJDaG9pY2VMaW1pdCxoPXRoaXMuaXNTZWFyY2hpbmc/di5zb3J0QnlTY29yZTp0aGlzLmNvbmZpZy5zb3J0RmlsdGVyLHU9ZnVuY3Rpb24oZSl7dmFyIHQ9XCJhdXRvXCIhPT1hfHwoaS5pc1NlbGVjdE9uZUVsZW1lbnR8fCFlLnNlbGVjdGVkKTtpZih0KXt2YXIgbj1pLl9nZXRUZW1wbGF0ZShcImNob2ljZVwiLGUpO3MuYXBwZW5kQ2hpbGQobil9fSxkPWU7XCJhdXRvXCIhPT1hfHx0aGlzLmlzU2VsZWN0T25lRWxlbWVudHx8KGQ9ZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIWUuc2VsZWN0ZWR9KSk7dmFyIGY9ZC5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5wbGFjZWhvbGRlcj9lLnBsYWNlaG9sZGVyQ2hvaWNlcy5wdXNoKHQpOmUubm9ybWFsQ2hvaWNlcy5wdXNoKHQpLGV9LHtwbGFjZWhvbGRlckNob2ljZXM6W10sbm9ybWFsQ2hvaWNlczpbXX0pLHA9Zi5wbGFjZWhvbGRlckNob2ljZXMsbT1mLm5vcm1hbENob2ljZXM7KHRoaXMuY29uZmlnLnNob3VsZFNvcnR8fHRoaXMuaXNTZWFyY2hpbmcpJiZtLnNvcnQoaCk7dmFyIGc9ZC5sZW5ndGgseT1bXS5jb25jYXQobyhwKSxvKG0pKTt0aGlzLmlzU2VhcmNoaW5nP2c9YzpsPjAmJiFuJiYoZz1sKTtmb3IodmFyIGI9MDtiPGc7YisrKXlbYl0mJnUoeVtiXSk7cmV0dXJuIHN9fSx7a2V5OlwicmVuZGVySXRlbXNcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLGk9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm51bGwsbj1pfHxkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7aWYodGhpcy5jb25maWcuc2hvdWxkU29ydEl0ZW1zJiYhdGhpcy5pc1NlbGVjdE9uZUVsZW1lbnQmJmUuc29ydCh0aGlzLmNvbmZpZy5zb3J0RmlsdGVyKSx0aGlzLmlzVGV4dEVsZW1lbnQpe3ZhciBzPXRoaXMuc3RvcmUuZ2V0SXRlbXNSZWR1Y2VkVG9WYWx1ZXMoZSksbz1zLmpvaW4odGhpcy5jb25maWcuZGVsaW1pdGVyKTt0aGlzLnBhc3NlZEVsZW1lbnQuc2V0QXR0cmlidXRlKFwidmFsdWVcIixvKSx0aGlzLnBhc3NlZEVsZW1lbnQudmFsdWU9b31lbHNle3ZhciByPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIGk9dC5fZ2V0VGVtcGxhdGUoXCJvcHRpb25cIixlKTtyLmFwcGVuZENoaWxkKGkpfSksdGhpcy5wYXNzZWRFbGVtZW50LmlubmVySFRNTD1cIlwiLHRoaXMucGFzc2VkRWxlbWVudC5hcHBlbmRDaGlsZChyKX1yZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBpPXQuX2dldFRlbXBsYXRlKFwiaXRlbVwiLGUpO24uYXBwZW5kQ2hpbGQoaSl9KSxufX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuc3RvcmUuaXNMb2FkaW5nKCkmJih0aGlzLmN1cnJlbnRTdGF0ZT10aGlzLnN0b3JlLmdldFN0YXRlKCksdGhpcy5jdXJyZW50U3RhdGUhPT10aGlzLnByZXZTdGF0ZSkpe2lmKCh0aGlzLmN1cnJlbnRTdGF0ZS5jaG9pY2VzIT09dGhpcy5wcmV2U3RhdGUuY2hvaWNlc3x8dGhpcy5jdXJyZW50U3RhdGUuZ3JvdXBzIT09dGhpcy5wcmV2U3RhdGUuZ3JvdXBzfHx0aGlzLmN1cnJlbnRTdGF0ZS5pdGVtcyE9PXRoaXMucHJldlN0YXRlLml0ZW1zKSYmdGhpcy5pc1NlbGVjdEVsZW1lbnQpe3ZhciBlPXRoaXMuc3RvcmUuZ2V0R3JvdXBzRmlsdGVyZWRCeUFjdGl2ZSgpLHQ9dGhpcy5zdG9yZS5nZXRDaG9pY2VzRmlsdGVyZWRCeUFjdGl2ZSgpLGk9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO3RoaXMuY2hvaWNlTGlzdC5pbm5lckhUTUw9XCJcIix0aGlzLmNvbmZpZy5yZXNldFNjcm9sbFBvc2l0aW9uJiYodGhpcy5jaG9pY2VMaXN0LnNjcm9sbFRvcD0wKSxlLmxlbmd0aD49MSYmdGhpcy5pc1NlYXJjaGluZyE9PSEwP2k9dGhpcy5yZW5kZXJHcm91cHMoZSx0LGkpOnQubGVuZ3RoPj0xJiYoaT10aGlzLnJlbmRlckNob2ljZXModCxpKSk7dmFyIG49dGhpcy5zdG9yZS5nZXRJdGVtc0ZpbHRlcmVkQnlBY3RpdmUoKSxzPXRoaXMuX2NhbkFkZEl0ZW0obix0aGlzLmlucHV0LnZhbHVlKTtpZihpLmNoaWxkTm9kZXMmJmkuY2hpbGROb2Rlcy5sZW5ndGg+MClzLnJlc3BvbnNlPyh0aGlzLmNob2ljZUxpc3QuYXBwZW5kQ2hpbGQoaSksdGhpcy5faGlnaGxpZ2h0Q2hvaWNlKCkpOnRoaXMuY2hvaWNlTGlzdC5hcHBlbmRDaGlsZCh0aGlzLl9nZXRUZW1wbGF0ZShcIm5vdGljZVwiLHMubm90aWNlKSk7ZWxzZXt2YXIgbz12b2lkIDAscj12b2lkIDA7dGhpcy5pc1NlYXJjaGluZz8ocj0oMCx2LmlzVHlwZSkoXCJGdW5jdGlvblwiLHRoaXMuY29uZmlnLm5vUmVzdWx0c1RleHQpP3RoaXMuY29uZmlnLm5vUmVzdWx0c1RleHQoKTp0aGlzLmNvbmZpZy5ub1Jlc3VsdHNUZXh0LG89dGhpcy5fZ2V0VGVtcGxhdGUoXCJub3RpY2VcIixyLFwibm8tcmVzdWx0c1wiKSk6KHI9KDAsdi5pc1R5cGUpKFwiRnVuY3Rpb25cIix0aGlzLmNvbmZpZy5ub0Nob2ljZXNUZXh0KT90aGlzLmNvbmZpZy5ub0Nob2ljZXNUZXh0KCk6dGhpcy5jb25maWcubm9DaG9pY2VzVGV4dCxvPXRoaXMuX2dldFRlbXBsYXRlKFwibm90aWNlXCIscixcIm5vLWNob2ljZXNcIikpLHRoaXMuY2hvaWNlTGlzdC5hcHBlbmRDaGlsZChvKX19aWYodGhpcy5jdXJyZW50U3RhdGUuaXRlbXMhPT10aGlzLnByZXZTdGF0ZS5pdGVtcyl7dmFyIGE9dGhpcy5zdG9yZS5nZXRJdGVtc0ZpbHRlcmVkQnlBY3RpdmUoKTtpZih0aGlzLml0ZW1MaXN0LmlubmVySFRNTD1cIlwiLGEmJmEpe3ZhciBjPXRoaXMucmVuZGVySXRlbXMoYSk7Yy5jaGlsZE5vZGVzJiZ0aGlzLml0ZW1MaXN0LmFwcGVuZENoaWxkKGMpfX10aGlzLnByZXZTdGF0ZT10aGlzLmN1cnJlbnRTdGF0ZX19fSx7a2V5OlwiaGlnaGxpZ2h0SXRlbVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07aWYoIWUpcmV0dXJuIHRoaXM7dmFyIGk9ZS5pZCxuPWUuZ3JvdXBJZCxzPW4+PTA/dGhpcy5zdG9yZS5nZXRHcm91cEJ5SWQobik6bnVsbDtyZXR1cm4gdGhpcy5zdG9yZS5kaXNwYXRjaCgoMCxwLmhpZ2hsaWdodEl0ZW0pKGksITApKSx0JiYocyYmcy52YWx1ZT8oMCx2LnRyaWdnZXJFdmVudCkodGhpcy5wYXNzZWRFbGVtZW50LFwiaGlnaGxpZ2h0SXRlbVwiLHtpZDppLHZhbHVlOmUudmFsdWUsbGFiZWw6ZS5sYWJlbCxncm91cFZhbHVlOnMudmFsdWV9KTooMCx2LnRyaWdnZXJFdmVudCkodGhpcy5wYXNzZWRFbGVtZW50LFwiaGlnaGxpZ2h0SXRlbVwiLHtpZDppLHZhbHVlOmUudmFsdWUsbGFiZWw6ZS5sYWJlbH0pKSx0aGlzfX0se2tleTpcInVuaGlnaGxpZ2h0SXRlbVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiB0aGlzO3ZhciB0PWUuaWQsaT1lLmdyb3VwSWQsbj1pPj0wP3RoaXMuc3RvcmUuZ2V0R3JvdXBCeUlkKGkpOm51bGw7cmV0dXJuIHRoaXMuc3RvcmUuZGlzcGF0Y2goKDAscC5oaWdobGlnaHRJdGVtKSh0LCExKSksbiYmbi52YWx1ZT8oMCx2LnRyaWdnZXJFdmVudCkodGhpcy5wYXNzZWRFbGVtZW50LFwidW5oaWdobGlnaHRJdGVtXCIse2lkOnQsdmFsdWU6ZS52YWx1ZSxsYWJlbDplLmxhYmVsLGdyb3VwVmFsdWU6bi52YWx1ZX0pOigwLHYudHJpZ2dlckV2ZW50KSh0aGlzLnBhc3NlZEVsZW1lbnQsXCJ1bmhpZ2hsaWdodEl0ZW1cIix7aWQ6dCx2YWx1ZTplLnZhbHVlLGxhYmVsOmUubGFiZWx9KSx0aGlzfX0se2tleTpcImhpZ2hsaWdodEFsbFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMuc3RvcmUuZ2V0SXRlbXMoKTtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuaGlnaGxpZ2h0SXRlbSh0KX0pLHRoaXN9fSx7a2V5OlwidW5oaWdobGlnaHRBbGxcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLnN0b3JlLmdldEl0ZW1zKCk7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0KXtlLnVuaGlnaGxpZ2h0SXRlbSh0KX0pLHRoaXN9fSx7a2V5OlwicmVtb3ZlSXRlbXNCeVZhbHVlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZighZXx8ISgwLHYuaXNUeXBlKShcIlN0cmluZ1wiLGUpKXJldHVybiB0aGlzO3ZhciBpPXRoaXMuc3RvcmUuZ2V0SXRlbXNGaWx0ZXJlZEJ5QWN0aXZlKCk7cmV0dXJuIGkuZm9yRWFjaChmdW5jdGlvbihpKXtpLnZhbHVlPT09ZSYmdC5fcmVtb3ZlSXRlbShpKX0pLHRoaXN9fSx7a2V5OlwicmVtb3ZlQWN0aXZlSXRlbXNcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLGk9dGhpcy5zdG9yZS5nZXRJdGVtc0ZpbHRlcmVkQnlBY3RpdmUoKTtyZXR1cm4gaS5mb3JFYWNoKGZ1bmN0aW9uKGkpe2kuYWN0aXZlJiZlIT09aS5pZCYmdC5fcmVtb3ZlSXRlbShpKX0pLHRoaXN9fSx7a2V5OlwicmVtb3ZlSGlnaGxpZ2h0ZWRJdGVtc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF0saT10aGlzLnN0b3JlLmdldEl0ZW1zRmlsdGVyZWRCeUFjdGl2ZSgpO3JldHVybiBpLmZvckVhY2goZnVuY3Rpb24oaSl7aS5oaWdobGlnaHRlZCYmaS5hY3RpdmUmJihlLl9yZW1vdmVJdGVtKGkpLHQmJmUuX3RyaWdnZXJDaGFuZ2UoaS52YWx1ZSkpfSksdGhpc319LHtrZXk6XCJzaG93RHJvcGRvd25cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF0sdD1kb2N1bWVudC5ib2R5LGk9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LG49TWF0aC5tYXgodC5zY3JvbGxIZWlnaHQsdC5vZmZzZXRIZWlnaHQsaS5jbGllbnRIZWlnaHQsaS5zY3JvbGxIZWlnaHQsaS5vZmZzZXRIZWlnaHQpO3RoaXMuY29udGFpbmVyT3V0ZXIuY2xhc3NMaXN0LmFkZCh0aGlzLmNvbmZpZy5jbGFzc05hbWVzLm9wZW5TdGF0ZSksdGhpcy5jb250YWluZXJPdXRlci5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsXCJ0cnVlXCIpLHRoaXMuZHJvcGRvd24uY2xhc3NMaXN0LmFkZCh0aGlzLmNvbmZpZy5jbGFzc05hbWVzLmFjdGl2ZVN0YXRlKSx0aGlzLmRyb3Bkb3duLnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIixcInRydWVcIik7dmFyIHM9dGhpcy5kcm9wZG93bi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxvPU1hdGguY2VpbChzLnRvcCt3aW5kb3cuc2Nyb2xsWSt0aGlzLmRyb3Bkb3duLm9mZnNldEhlaWdodCkscj0hMTtyZXR1cm5cImF1dG9cIj09PXRoaXMuY29uZmlnLnBvc2l0aW9uP3I9bz49bjpcInRvcFwiPT09dGhpcy5jb25maWcucG9zaXRpb24mJihyPSEwKSxyJiZ0aGlzLmNvbnRhaW5lck91dGVyLmNsYXNzTGlzdC5hZGQodGhpcy5jb25maWcuY2xhc3NOYW1lcy5mbGlwcGVkU3RhdGUpLGUmJnRoaXMuY2FuU2VhcmNoJiZkb2N1bWVudC5hY3RpdmVFbGVtZW50IT09dGhpcy5pbnB1dCYmdGhpcy5pbnB1dC5mb2N1cygpLCgwLHYudHJpZ2dlckV2ZW50KSh0aGlzLnBhc3NlZEVsZW1lbnQsXCJzaG93RHJvcGRvd25cIix7fSksdGhpc319LHtrZXk6XCJoaWRlRHJvcGRvd25cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF0sdD10aGlzLmNvbnRhaW5lck91dGVyLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLmNvbmZpZy5jbGFzc05hbWVzLmZsaXBwZWRTdGF0ZSk7cmV0dXJuIHRoaXMuY29udGFpbmVyT3V0ZXIuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmNvbmZpZy5jbGFzc05hbWVzLm9wZW5TdGF0ZSksdGhpcy5jb250YWluZXJPdXRlci5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsXCJmYWxzZVwiKSx0aGlzLmRyb3Bkb3duLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5jb25maWcuY2xhc3NOYW1lcy5hY3RpdmVTdGF0ZSksdGhpcy5kcm9wZG93bi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsXCJmYWxzZVwiKSx0JiZ0aGlzLmNvbnRhaW5lck91dGVyLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5jb25maWcuY2xhc3NOYW1lcy5mbGlwcGVkU3RhdGUpLGUmJnRoaXMuY2FuU2VhcmNoJiZkb2N1bWVudC5hY3RpdmVFbGVtZW50PT09dGhpcy5pbnB1dCYmdGhpcy5pbnB1dC5ibHVyKCksKDAsdi50cmlnZ2VyRXZlbnQpKHRoaXMucGFzc2VkRWxlbWVudCxcImhpZGVEcm9wZG93blwiLHt9KSx0aGlzfX0se2tleTpcInRvZ2dsZURyb3Bkb3duXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmRyb3Bkb3duLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLmNvbmZpZy5jbGFzc05hbWVzLmFjdGl2ZVN0YXRlKTtyZXR1cm4gZT90aGlzLmhpZGVEcm9wZG93bigpOnRoaXMuc2hvd0Ryb3Bkb3duKCEwKSx0aGlzfX0se2tleTpcImdldFZhbHVlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXSxpPXRoaXMuc3RvcmUuZ2V0SXRlbXNGaWx0ZXJlZEJ5QWN0aXZlKCksbj1bXTtyZXR1cm4gaS5mb3JFYWNoKGZ1bmN0aW9uKGkpe2UuaXNUZXh0RWxlbWVudD9uLnB1c2godD9pLnZhbHVlOmkpOmkuYWN0aXZlJiZuLnB1c2godD9pLnZhbHVlOmkpfSksdGhpcy5pc1NlbGVjdE9uZUVsZW1lbnQ/blswXTpufX0se2tleTpcInNldFZhbHVlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZih0aGlzLmluaXRpYWxpc2VkPT09ITApe3ZhciBpPVtdLmNvbmNhdChvKGUpKSxuPWZ1bmN0aW9uKGUpe3ZhciBpPSgwLHYuZ2V0VHlwZSkoZSk7aWYoXCJPYmplY3RcIj09PWkpe2lmKCFlLnZhbHVlKXJldHVybjt0LmlzVGV4dEVsZW1lbnQ/dC5fYWRkSXRlbShlLnZhbHVlLGUubGFiZWwsZS5pZCx2b2lkIDAsZS5jdXN0b21Qcm9wZXJ0aWVzLGUucGxhY2Vob2xkZXIpOnQuX2FkZENob2ljZShlLnZhbHVlLGUubGFiZWwsITAsITEsLTEsZS5jdXN0b21Qcm9wZXJ0aWVzLGUucGxhY2Vob2xkZXIpfWVsc2VcIlN0cmluZ1wiPT09aSYmKHQuaXNUZXh0RWxlbWVudD90Ll9hZGRJdGVtKGUpOnQuX2FkZENob2ljZShlLGUsITAsITEsLTEsbnVsbCkpfTtpLmxlbmd0aD4xP2kuZm9yRWFjaChmdW5jdGlvbihlKXtuKGUpfSk6bihpWzBdKX1yZXR1cm4gdGhpc319LHtrZXk6XCJzZXRWYWx1ZUJ5Q2hvaWNlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZighdGhpcy5pc1RleHRFbGVtZW50KXt2YXIgaT10aGlzLnN0b3JlLmdldENob2ljZXMoKSxuPSgwLHYuaXNUeXBlKShcIkFycmF5XCIsZSk/ZTpbZV07bi5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBuPWkuZmluZChmdW5jdGlvbih0KXtyZXR1cm4gdC52YWx1ZT09PWV9KTtuP24uc2VsZWN0ZWQ/dC5jb25maWcuc2lsZW50fHxjb25zb2xlLndhcm4oXCJBdHRlbXB0aW5nIHRvIHNlbGVjdCBjaG9pY2UgYWxyZWFkeSBzZWxlY3RlZFwiKTp0Ll9hZGRJdGVtKG4udmFsdWUsbi5sYWJlbCxuLmlkLG4uZ3JvdXBJZCxuLmN1c3RvbVByb3BlcnRpZXMsbi5wbGFjZWhvbGRlcixuLmtleUNvZGUpOnQuY29uZmlnLnNpbGVudHx8Y29uc29sZS53YXJuKFwiQXR0ZW1wdGluZyB0byBzZWxlY3QgY2hvaWNlIHRoYXQgZG9lcyBub3QgZXhpc3RcIil9KX1yZXR1cm4gdGhpc319LHtrZXk6XCJzZXRDaG9pY2VzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPXRoaXMscz1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXSYmYXJndW1lbnRzWzNdO2lmKHRoaXMuaW5pdGlhbGlzZWQ9PT0hMCYmdGhpcy5pc1NlbGVjdEVsZW1lbnQpe2lmKCEoMCx2LmlzVHlwZSkoXCJBcnJheVwiLGUpfHwhdClyZXR1cm4gdGhpcztzJiZ0aGlzLl9jbGVhckNob2ljZXMoKSx0aGlzLl9zZXRMb2FkaW5nKCEwKSxlJiZlLmxlbmd0aCYmKHRoaXMuY29udGFpbmVyT3V0ZXIuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmNvbmZpZy5jbGFzc05hbWVzLmxvYWRpbmdTdGF0ZSksZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuY2hvaWNlcz9uLl9hZGRHcm91cChlLGUuaWR8fG51bGwsdCxpKTpuLl9hZGRDaG9pY2UoZVt0XSxlW2ldLGUuc2VsZWN0ZWQsZS5kaXNhYmxlZCx2b2lkIDAsZS5jdXN0b21Qcm9wZXJ0aWVzLGUucGxhY2Vob2xkZXIpfSkpLHRoaXMuX3NldExvYWRpbmcoITEpfXJldHVybiB0aGlzfX0se2tleTpcImNsZWFyU3RvcmVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0b3JlLmRpc3BhdGNoKCgwLHAuY2xlYXJBbGwpKCkpLHRoaXN9fSx7a2V5OlwiY2xlYXJJbnB1dFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5wdXQudmFsdWUmJih0aGlzLmlucHV0LnZhbHVlPVwiXCIpLHRoaXMuaXNTZWxlY3RPbmVFbGVtZW50fHx0aGlzLl9zZXRJbnB1dFdpZHRoKCksIXRoaXMuaXNUZXh0RWxlbWVudCYmdGhpcy5jb25maWcuc2VhcmNoRW5hYmxlZCYmKHRoaXMuaXNTZWFyY2hpbmc9ITEsdGhpcy5zdG9yZS5kaXNwYXRjaCgoMCxwLmFjdGl2YXRlQ2hvaWNlcykoITApKSksdGhpc319LHtrZXk6XCJlbmFibGVcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHRoaXMuaW5pdGlhbGlzZWQpe3RoaXMucGFzc2VkRWxlbWVudC5kaXNhYmxlZD0hMTt2YXIgZT10aGlzLmNvbnRhaW5lck91dGVyLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLmNvbmZpZy5jbGFzc05hbWVzLmRpc2FibGVkU3RhdGUpO2UmJih0aGlzLl9hZGRFdmVudExpc3RlbmVycygpLHRoaXMucGFzc2VkRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSx0aGlzLmlucHV0LnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpLHRoaXMuY29udGFpbmVyT3V0ZXIuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmNvbmZpZy5jbGFzc05hbWVzLmRpc2FibGVkU3RhdGUpLHRoaXMuY29udGFpbmVyT3V0ZXIucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiKSx0aGlzLmlzU2VsZWN0T25lRWxlbWVudCYmdGhpcy5jb250YWluZXJPdXRlci5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLFwiMFwiKSl9cmV0dXJuIHRoaXN9fSx7a2V5OlwiZGlzYWJsZVwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5pbml0aWFsaXNlZCl7dGhpcy5wYXNzZWRFbGVtZW50LmRpc2FibGVkPSEwO3ZhciBlPSF0aGlzLmNvbnRhaW5lck91dGVyLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLmNvbmZpZy5jbGFzc05hbWVzLmRpc2FibGVkU3RhdGUpO2UmJih0aGlzLl9yZW1vdmVFdmVudExpc3RlbmVycygpLHRoaXMucGFzc2VkRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLFwiXCIpLHRoaXMuaW5wdXQuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIixcIlwiKSx0aGlzLmNvbnRhaW5lck91dGVyLmNsYXNzTGlzdC5hZGQodGhpcy5jb25maWcuY2xhc3NOYW1lcy5kaXNhYmxlZFN0YXRlKSx0aGlzLmNvbnRhaW5lck91dGVyLnNldEF0dHJpYnV0ZShcImFyaWEtZGlzYWJsZWRcIixcInRydWVcIiksdGhpcy5pc1NlbGVjdE9uZUVsZW1lbnQmJnRoaXMuY29udGFpbmVyT3V0ZXIuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIixcIi0xXCIpKX1yZXR1cm4gdGhpc319LHtrZXk6XCJhamF4XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5pbml0aWFsaXNlZD09PSEwJiZ0aGlzLmlzU2VsZWN0RWxlbWVudCYmKHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpe3QuX2hhbmRsZUxvYWRpbmdTdGF0ZSghMCl9KSxlKHRoaXMuX2FqYXhDYWxsYmFjaygpKSksdGhpc319LHtrZXk6XCJfdHJpZ2dlckNoYW5nZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2UmJigwLHYudHJpZ2dlckV2ZW50KSh0aGlzLnBhc3NlZEVsZW1lbnQsXCJjaGFuZ2VcIix7dmFsdWU6ZX0pfX0se2tleTpcIl9oYW5kbGVCdXR0b25BY3Rpb25cIix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKGUmJnQmJnRoaXMuY29uZmlnLnJlbW92ZUl0ZW1zJiZ0aGlzLmNvbmZpZy5yZW1vdmVJdGVtQnV0dG9uKXt2YXIgaT10LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiKSxuPWUuZmluZChmdW5jdGlvbihlKXtyZXR1cm4gZS5pZD09PXBhcnNlSW50KGksMTApfSk7dGhpcy5fcmVtb3ZlSXRlbShuKSx0aGlzLl90cmlnZ2VyQ2hhbmdlKG4udmFsdWUpLHRoaXMuaXNTZWxlY3RPbmVFbGVtZW50JiZ0aGlzLl9zZWxlY3RQbGFjZWhvbGRlckNob2ljZSgpfX19LHtrZXk6XCJfc2VsZWN0UGxhY2Vob2xkZXJDaG9pY2VcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuc3RvcmUuZ2V0UGxhY2Vob2xkZXJDaG9pY2UoKTtlJiYodGhpcy5fYWRkSXRlbShlLnZhbHVlLGUubGFiZWwsZS5pZCxlLmdyb3VwSWQsbnVsbCxlLnBsYWNlaG9sZGVyKSx0aGlzLl90cmlnZ2VyQ2hhbmdlKGUudmFsdWUpKX19LHtrZXk6XCJfaGFuZGxlSXRlbUFjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcyxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl07aWYoZSYmdCYmdGhpcy5jb25maWcucmVtb3ZlSXRlbXMmJiF0aGlzLmlzU2VsZWN0T25lRWxlbWVudCl7dmFyIHM9dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIpO2UuZm9yRWFjaChmdW5jdGlvbihlKXtlLmlkIT09cGFyc2VJbnQocywxMCl8fGUuaGlnaGxpZ2h0ZWQ/bnx8ZS5oaWdobGlnaHRlZCYmaS51bmhpZ2hsaWdodEl0ZW0oZSk6aS5oaWdobGlnaHRJdGVtKGUpfSksZG9jdW1lbnQuYWN0aXZlRWxlbWVudCE9PXRoaXMuaW5wdXQmJnRoaXMuaW5wdXQuZm9jdXMoKX19fSx7a2V5OlwiX2hhbmRsZUNob2ljZUFjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYoZSYmdCl7dmFyIGk9dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIpLG49dGhpcy5zdG9yZS5nZXRDaG9pY2VCeUlkKGkpLHM9ZVswXSYmZVswXS5rZXlDb2RlP2VbMF0ua2V5Q29kZTpudWxsLG89dGhpcy5kcm9wZG93bi5jbGFzc0xpc3QuY29udGFpbnModGhpcy5jb25maWcuY2xhc3NOYW1lcy5hY3RpdmVTdGF0ZSk7aWYobi5rZXlDb2RlPXMsKDAsdi50cmlnZ2VyRXZlbnQpKHRoaXMucGFzc2VkRWxlbWVudCxcImNob2ljZVwiLHtjaG9pY2U6bn0pLG4mJiFuLnNlbGVjdGVkJiYhbi5kaXNhYmxlZCl7dmFyIHI9dGhpcy5fY2FuQWRkSXRlbShlLG4udmFsdWUpO3IucmVzcG9uc2UmJih0aGlzLl9hZGRJdGVtKG4udmFsdWUsbi5sYWJlbCxuLmlkLG4uZ3JvdXBJZCxuLmN1c3RvbVByb3BlcnRpZXMsbi5wbGFjZWhvbGRlcixuLmtleUNvZGUpLHRoaXMuX3RyaWdnZXJDaGFuZ2Uobi52YWx1ZSkpfXRoaXMuY2xlYXJJbnB1dCgpLG8mJnRoaXMuaXNTZWxlY3RPbmVFbGVtZW50JiYodGhpcy5oaWRlRHJvcGRvd24oKSx0aGlzLmNvbnRhaW5lck91dGVyLmZvY3VzKCkpfX19LHtrZXk6XCJfaGFuZGxlQmFja3NwYWNlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYodGhpcy5jb25maWcucmVtb3ZlSXRlbXMmJmUpe3ZhciB0PWVbZS5sZW5ndGgtMV0saT1lLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaGlnaGxpZ2h0ZWR9KTt0aGlzLmNvbmZpZy5lZGl0SXRlbXMmJiFpJiZ0Pyh0aGlzLmlucHV0LnZhbHVlPXQudmFsdWUsdGhpcy5fc2V0SW5wdXRXaWR0aCgpLHRoaXMuX3JlbW92ZUl0ZW0odCksdGhpcy5fdHJpZ2dlckNoYW5nZSh0LnZhbHVlKSk6KGl8fHRoaXMuaGlnaGxpZ2h0SXRlbSh0LCExKSx0aGlzLnJlbW92ZUhpZ2hsaWdodGVkSXRlbXMoITApKX19fSx7a2V5OlwiX2NhbkFkZEl0ZW1cIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBpPSEwLG49KDAsdi5pc1R5cGUpKFwiRnVuY3Rpb25cIix0aGlzLmNvbmZpZy5hZGRJdGVtVGV4dCk/dGhpcy5jb25maWcuYWRkSXRlbVRleHQodCk6dGhpcy5jb25maWcuYWRkSXRlbVRleHQ7KHRoaXMuaXNTZWxlY3RNdWx0aXBsZUVsZW1lbnR8fHRoaXMuaXNUZXh0RWxlbWVudCkmJnRoaXMuY29uZmlnLm1heEl0ZW1Db3VudD4wJiZ0aGlzLmNvbmZpZy5tYXhJdGVtQ291bnQ8PWUubGVuZ3RoJiYoaT0hMSxuPSgwLHYuaXNUeXBlKShcIkZ1bmN0aW9uXCIsdGhpcy5jb25maWcubWF4SXRlbVRleHQpP3RoaXMuY29uZmlnLm1heEl0ZW1UZXh0KHRoaXMuY29uZmlnLm1heEl0ZW1Db3VudCk6dGhpcy5jb25maWcubWF4SXRlbVRleHQpLHRoaXMuaXNUZXh0RWxlbWVudCYmdGhpcy5jb25maWcuYWRkSXRlbXMmJmkmJnRoaXMuY29uZmlnLnJlZ2V4RmlsdGVyJiYoaT10aGlzLl9yZWdleEZpbHRlcih0KSk7dmFyIHM9IWUuc29tZShmdW5jdGlvbihlKXtyZXR1cm4oMCx2LmlzVHlwZSkoXCJTdHJpbmdcIix0KT9lLnZhbHVlPT09dC50cmltKCk6ZS52YWx1ZT09PXR9KTtyZXR1cm4gc3x8dGhpcy5jb25maWcuZHVwbGljYXRlSXRlbXN8fHRoaXMuaXNTZWxlY3RPbmVFbGVtZW50fHwhaXx8KGk9ITEsbj0oMCx2LmlzVHlwZSkoXCJGdW5jdGlvblwiLHRoaXMuY29uZmlnLnVuaXF1ZUl0ZW1UZXh0KT90aGlzLmNvbmZpZy51bmlxdWVJdGVtVGV4dCh0KTp0aGlzLmNvbmZpZy51bmlxdWVJdGVtVGV4dCkse3Jlc3BvbnNlOmksbm90aWNlOm59fX0se2tleTpcIl9oYW5kbGVMb2FkaW5nU3RhdGVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPSEoYXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0pfHxhcmd1bWVudHNbMF0sdD10aGlzLml0ZW1MaXN0LnF1ZXJ5U2VsZWN0b3IoXCIuXCIrdGhpcy5jb25maWcuY2xhc3NOYW1lcy5wbGFjZWhvbGRlcik7ZT8odGhpcy5jb250YWluZXJPdXRlci5jbGFzc0xpc3QuYWRkKHRoaXMuY29uZmlnLmNsYXNzTmFtZXMubG9hZGluZ1N0YXRlKSx0aGlzLmNvbnRhaW5lck91dGVyLnNldEF0dHJpYnV0ZShcImFyaWEtYnVzeVwiLFwidHJ1ZVwiKSx0aGlzLmlzU2VsZWN0T25lRWxlbWVudD90P3QuaW5uZXJIVE1MPXRoaXMuY29uZmlnLmxvYWRpbmdUZXh0Oih0PXRoaXMuX2dldFRlbXBsYXRlKFwicGxhY2Vob2xkZXJcIix0aGlzLmNvbmZpZy5sb2FkaW5nVGV4dCksdGhpcy5pdGVtTGlzdC5hcHBlbmRDaGlsZCh0KSk6dGhpcy5pbnB1dC5wbGFjZWhvbGRlcj10aGlzLmNvbmZpZy5sb2FkaW5nVGV4dCk6KHRoaXMuY29udGFpbmVyT3V0ZXIuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmNvbmZpZy5jbGFzc05hbWVzLmxvYWRpbmdTdGF0ZSksdGhpcy5pc1NlbGVjdE9uZUVsZW1lbnQ/dC5pbm5lckhUTUw9dGhpcy5wbGFjZWhvbGRlcnx8XCJcIjp0aGlzLmlucHV0LnBsYWNlaG9sZGVyPXRoaXMucGxhY2Vob2xkZXJ8fFwiXCIpfX0se2tleTpcIl9hamF4Q2FsbGJhY2tcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHQsaSxuKXtpZih0JiZpKXt2YXIgcz0oMCx2LmlzVHlwZSkoXCJPYmplY3RcIix0KT9bdF06dDtzJiYoMCx2LmlzVHlwZSkoXCJBcnJheVwiLHMpJiZzLmxlbmd0aD8oZS5faGFuZGxlTG9hZGluZ1N0YXRlKCExKSxlLl9zZXRMb2FkaW5nKCEwKSxzLmZvckVhY2goZnVuY3Rpb24odCl7aWYodC5jaG9pY2VzKXt2YXIgcz10LmlkfHxudWxsO2UuX2FkZEdyb3VwKHQscyxpLG4pfWVsc2UgZS5fYWRkQ2hvaWNlKHRbaV0sdFtuXSx0LnNlbGVjdGVkLHQuZGlzYWJsZWQsdm9pZCAwLHQuY3VzdG9tUHJvcGVydGllcyx0LnBsYWNlaG9sZGVyKX0pLGUuX3NldExvYWRpbmcoITEpLGUuaXNTZWxlY3RPbmVFbGVtZW50JiZlLl9zZWxlY3RQbGFjZWhvbGRlckNob2ljZSgpKTplLl9oYW5kbGVMb2FkaW5nU3RhdGUoITEpLGUuY29udGFpbmVyT3V0ZXIucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1idXN5XCIpfX19fSx7a2V5OlwiX3NlYXJjaENob2ljZXNcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD0oMCx2LmlzVHlwZSkoXCJTdHJpbmdcIixlKT9lLnRyaW0oKTplLGk9KDAsdi5pc1R5cGUpKFwiU3RyaW5nXCIsdGhpcy5jdXJyZW50VmFsdWUpP3RoaXMuY3VycmVudFZhbHVlLnRyaW0oKTp0aGlzLmN1cnJlbnRWYWx1ZTtpZih0Lmxlbmd0aD49MSYmdCE9PWkrXCIgXCIpe3ZhciBuPXRoaXMuc3RvcmUuZ2V0U2VhcmNoYWJsZUNob2ljZXMoKSxzPXQsbz0oMCx2LmlzVHlwZSkoXCJBcnJheVwiLHRoaXMuY29uZmlnLnNlYXJjaEZpZWxkcyk/dGhpcy5jb25maWcuc2VhcmNoRmllbGRzOlt0aGlzLmNvbmZpZy5zZWFyY2hGaWVsZHNdLHI9T2JqZWN0LmFzc2lnbih0aGlzLmNvbmZpZy5mdXNlT3B0aW9ucyx7a2V5czpvfSksYT1uZXcgbC5kZWZhdWx0KG4sciksYz1hLnNlYXJjaChzKTtyZXR1cm4gdGhpcy5jdXJyZW50VmFsdWU9dCx0aGlzLmhpZ2hsaWdodFBvc2l0aW9uPTAsdGhpcy5pc1NlYXJjaGluZz0hMCx0aGlzLnN0b3JlLmRpc3BhdGNoKCgwLHAuZmlsdGVyQ2hvaWNlcykoYykpLGMubGVuZ3RofXJldHVybiAwfX0se2tleTpcIl9oYW5kbGVTZWFyY2hcIix2YWx1ZTpmdW5jdGlvbihlKXtpZihlKXt2YXIgdD10aGlzLnN0b3JlLmdldENob2ljZXMoKSxpPXQuc29tZShmdW5jdGlvbihlKXtyZXR1cm4hZS5hY3RpdmV9KTtpZih0aGlzLmlucHV0PT09ZG9jdW1lbnQuYWN0aXZlRWxlbWVudClpZihlJiZlLmxlbmd0aD49dGhpcy5jb25maWcuc2VhcmNoRmxvb3Ipe3ZhciBuPTA7dGhpcy5jb25maWcuc2VhcmNoQ2hvaWNlcyYmKG49dGhpcy5fc2VhcmNoQ2hvaWNlcyhlKSksKDAsdi50cmlnZ2VyRXZlbnQpKHRoaXMucGFzc2VkRWxlbWVudCxcInNlYXJjaFwiLHt2YWx1ZTplLHJlc3VsdENvdW50Om59KX1lbHNlIGkmJih0aGlzLmlzU2VhcmNoaW5nPSExLHRoaXMuc3RvcmUuZGlzcGF0Y2goKDAscC5hY3RpdmF0ZUNob2ljZXMpKCEwKSkpfX19LHtrZXk6XCJfYWRkRXZlbnRMaXN0ZW5lcnNcIix2YWx1ZTpmdW5jdGlvbigpe2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLHRoaXMuX29uS2V5VXApLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsdGhpcy5fb25LZXlEb3duKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLl9vbkNsaWNrKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsdGhpcy5fb25Ub3VjaE1vdmUpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLHRoaXMuX29uVG91Y2hFbmQpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzLl9vbk1vdXNlRG93biksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLHRoaXMuX29uTW91c2VPdmVyKSx0aGlzLmlzU2VsZWN0T25lRWxlbWVudCYmKHRoaXMuY29udGFpbmVyT3V0ZXIuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsdGhpcy5fb25Gb2N1cyksdGhpcy5jb250YWluZXJPdXRlci5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLHRoaXMuX29uQmx1cikpLHRoaXMuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsdGhpcy5fb25JbnB1dCksdGhpcy5pbnB1dC5hZGRFdmVudExpc3RlbmVyKFwicGFzdGVcIix0aGlzLl9vblBhc3RlKSx0aGlzLmlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLHRoaXMuX29uRm9jdXMpLHRoaXMuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIix0aGlzLl9vbkJsdXIpfX0se2tleTpcIl9yZW1vdmVFdmVudExpc3RlbmVyc1wiLHZhbHVlOmZ1bmN0aW9uKCl7ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsdGhpcy5fb25LZXlVcCksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix0aGlzLl9vbktleURvd24pLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMuX29uQ2xpY2spLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIix0aGlzLl9vblRvdWNoTW92ZSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcy5fb25Ub3VjaEVuZCksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHRoaXMuX29uTW91c2VEb3duKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsdGhpcy5fb25Nb3VzZU92ZXIpLHRoaXMuaXNTZWxlY3RPbmVFbGVtZW50JiYodGhpcy5jb250YWluZXJPdXRlci5yZW1vdmVFdmVudExpc3RlbmVyKFwiZm9jdXNcIix0aGlzLl9vbkZvY3VzKSx0aGlzLmNvbnRhaW5lck91dGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJibHVyXCIsdGhpcy5fb25CbHVyKSksdGhpcy5pbnB1dC5yZW1vdmVFdmVudExpc3RlbmVyKFwiaW5wdXRcIix0aGlzLl9vbklucHV0KSx0aGlzLmlucHV0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwYXN0ZVwiLHRoaXMuX29uUGFzdGUpLHRoaXMuaW5wdXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsdGhpcy5fb25Gb2N1cyksdGhpcy5pbnB1dC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYmx1clwiLHRoaXMuX29uQmx1cil9fSx7a2V5OlwiX3NldElucHV0V2lkdGhcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucGxhY2Vob2xkZXI/dGhpcy5pbnB1dC52YWx1ZSYmdGhpcy5pbnB1dC52YWx1ZS5sZW5ndGg+PXRoaXMucGxhY2Vob2xkZXIubGVuZ3RoLzEuMjUmJih0aGlzLmlucHV0LnN0eWxlLndpZHRoPSgwLHYuZ2V0V2lkdGhPZklucHV0KSh0aGlzLmlucHV0KSk6dGhpcy5pbnB1dC5zdHlsZS53aWR0aD0oMCx2LmdldFdpZHRoT2ZJbnB1dCkodGhpcy5pbnB1dCl9fSx7a2V5OlwiX29uS2V5RG93blwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0LGk9dGhpcztpZihlLnRhcmdldD09PXRoaXMuaW5wdXR8fHRoaXMuY29udGFpbmVyT3V0ZXIuY29udGFpbnMoZS50YXJnZXQpKXt2YXIgbj1lLnRhcmdldCxvPXRoaXMuc3RvcmUuZ2V0SXRlbXNGaWx0ZXJlZEJ5QWN0aXZlKCkscj10aGlzLmlucHV0PT09ZG9jdW1lbnQuYWN0aXZlRWxlbWVudCxhPXRoaXMuZHJvcGRvd24uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuY29uZmlnLmNsYXNzTmFtZXMuYWN0aXZlU3RhdGUpLGM9dGhpcy5pdGVtTGlzdCYmdGhpcy5pdGVtTGlzdC5jaGlsZHJlbixsPVN0cmluZy5mcm9tQ2hhckNvZGUoZS5rZXlDb2RlKSxoPTQ2LHU9OCxkPTEzLGY9NjUscD0yNyxtPTM4LGc9NDAseT0zMyxiPTM0LEU9ZS5jdHJsS2V5fHxlLm1ldGFLZXk7dGhpcy5pc1RleHRFbGVtZW50fHwhL1thLXpBLVowLTktXyBdLy50ZXN0KGwpfHxhfHx0aGlzLnNob3dEcm9wZG93bighMCksdGhpcy5jYW5TZWFyY2g9dGhpcy5jb25maWcuc2VhcmNoRW5hYmxlZDt2YXIgXz1mdW5jdGlvbigpe0UmJmMmJihpLmNhblNlYXJjaD0hMSxpLmNvbmZpZy5yZW1vdmVJdGVtcyYmIWkuaW5wdXQudmFsdWUmJmkuaW5wdXQ9PT1kb2N1bWVudC5hY3RpdmVFbGVtZW50JiZpLmhpZ2hsaWdodEFsbCgpKX0sUz1mdW5jdGlvbigpe2lmKGkuaXNUZXh0RWxlbWVudCYmbi52YWx1ZSl7dmFyIHQ9aS5pbnB1dC52YWx1ZSxzPWkuX2NhbkFkZEl0ZW0obyx0KTtzLnJlc3BvbnNlJiYoYSYmaS5oaWRlRHJvcGRvd24oKSxpLl9hZGRJdGVtKHQpLGkuX3RyaWdnZXJDaGFuZ2UodCksaS5jbGVhcklucHV0KCkpfWlmKG4uaGFzQXR0cmlidXRlKFwiZGF0YS1idXR0b25cIikmJihpLl9oYW5kbGVCdXR0b25BY3Rpb24obyxuKSxlLnByZXZlbnREZWZhdWx0KCkpLGEpe2UucHJldmVudERlZmF1bHQoKTt2YXIgcj1pLmRyb3Bkb3duLnF1ZXJ5U2VsZWN0b3IoXCIuXCIraS5jb25maWcuY2xhc3NOYW1lcy5oaWdobGlnaHRlZFN0YXRlKTtyJiYob1swXSYmKG9bMF0ua2V5Q29kZT1kKSxpLl9oYW5kbGVDaG9pY2VBY3Rpb24obyxyKSl9ZWxzZSBpLmlzU2VsZWN0T25lRWxlbWVudCYmKGF8fChpLnNob3dEcm9wZG93bighMCksZS5wcmV2ZW50RGVmYXVsdCgpKSl9LEk9ZnVuY3Rpb24oKXthJiYoaS50b2dnbGVEcm9wZG93bigpLGkuY29udGFpbmVyT3V0ZXIuZm9jdXMoKSl9LHc9ZnVuY3Rpb24oKXtpZihhfHxpLmlzU2VsZWN0T25lRWxlbWVudCl7YXx8aS5zaG93RHJvcGRvd24oITApLGkuY2FuU2VhcmNoPSExO3ZhciB0PWUua2V5Q29kZT09PWd8fGUua2V5Q29kZT09PWI/MTotMSxuPWUubWV0YUtleXx8ZS5rZXlDb2RlPT09Ynx8ZS5rZXlDb2RlPT09eSxzPXZvaWQgMDtpZihuKXM9dD4wP0FycmF5LmZyb20oaS5kcm9wZG93bi5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtY2hvaWNlLXNlbGVjdGFibGVdXCIpKS5wb3AoKTppLmRyb3Bkb3duLnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1jaG9pY2Utc2VsZWN0YWJsZV1cIik7ZWxzZXt2YXIgbz1pLmRyb3Bkb3duLnF1ZXJ5U2VsZWN0b3IoXCIuXCIraS5jb25maWcuY2xhc3NOYW1lcy5oaWdobGlnaHRlZFN0YXRlKTtzPW8/KDAsdi5nZXRBZGphY2VudEVsKShvLFwiW2RhdGEtY2hvaWNlLXNlbGVjdGFibGVdXCIsdCk6aS5kcm9wZG93bi5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtY2hvaWNlLXNlbGVjdGFibGVdXCIpfXMmJigoMCx2LmlzU2Nyb2xsZWRJbnRvVmlldykocyxpLmNob2ljZUxpc3QsdCl8fGkuX3Njcm9sbFRvQ2hvaWNlKHMsdCksaS5faGlnaGxpZ2h0Q2hvaWNlKHMpKSxlLnByZXZlbnREZWZhdWx0KCl9fSxUPWZ1bmN0aW9uKCl7IXJ8fGUudGFyZ2V0LnZhbHVlfHxpLmlzU2VsZWN0T25lRWxlbWVudHx8KGkuX2hhbmRsZUJhY2tzcGFjZShvKSxlLnByZXZlbnREZWZhdWx0KCkpfSxDPSh0PXt9LHModCxmLF8pLHModCxkLFMpLHModCxwLEkpLHModCxtLHcpLHModCx5LHcpLHModCxnLHcpLHModCxiLHcpLHModCx1LFQpLHModCxoLFQpLHQpO0NbZS5rZXlDb2RlXSYmQ1tlLmtleUNvZGVdKCl9fX0se2tleTpcIl9vbktleVVwXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoZS50YXJnZXQ9PT10aGlzLmlucHV0KXt2YXIgdD10aGlzLmlucHV0LnZhbHVlLGk9dGhpcy5zdG9yZS5nZXRJdGVtc0ZpbHRlcmVkQnlBY3RpdmUoKSxuPXRoaXMuX2NhbkFkZEl0ZW0oaSx0KTtpZih0aGlzLmlzVGV4dEVsZW1lbnQpe3ZhciBzPXRoaXMuZHJvcGRvd24uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuY29uZmlnLmNsYXNzTmFtZXMuYWN0aXZlU3RhdGUpO2lmKHQpe2lmKG4ubm90aWNlKXt2YXIgbz10aGlzLl9nZXRUZW1wbGF0ZShcIm5vdGljZVwiLG4ubm90aWNlKTt0aGlzLmRyb3Bkb3duLmlubmVySFRNTD1vLm91dGVySFRNTH1uLnJlc3BvbnNlPT09ITA/c3x8dGhpcy5zaG93RHJvcGRvd24oKTohbi5ub3RpY2UmJnMmJnRoaXMuaGlkZURyb3Bkb3duKCl9ZWxzZSBzJiZ0aGlzLmhpZGVEcm9wZG93bigpfWVsc2V7dmFyIHI9NDYsYT04O2Uua2V5Q29kZSE9PXImJmUua2V5Q29kZSE9PWF8fGUudGFyZ2V0LnZhbHVlP3RoaXMuY2FuU2VhcmNoJiZuLnJlc3BvbnNlJiZ0aGlzLl9oYW5kbGVTZWFyY2godGhpcy5pbnB1dC52YWx1ZSk6IXRoaXMuaXNUZXh0RWxlbWVudCYmdGhpcy5pc1NlYXJjaGluZyYmKHRoaXMuaXNTZWFyY2hpbmc9ITEsdGhpcy5zdG9yZS5kaXNwYXRjaCgoMCxwLmFjdGl2YXRlQ2hvaWNlcykoITApKSl9dGhpcy5jYW5TZWFyY2g9dGhpcy5jb25maWcuc2VhcmNoRW5hYmxlZH19fSx7a2V5OlwiX29uSW5wdXRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaXNTZWxlY3RPbmVFbGVtZW50fHx0aGlzLl9zZXRJbnB1dFdpZHRoKCl9fSx7a2V5OlwiX29uVG91Y2hNb3ZlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLndhc1RhcD09PSEwJiYodGhpcy53YXNUYXA9ITEpfX0se2tleTpcIl9vblRvdWNoRW5kXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXR8fGUudG91Y2hlc1swXS50YXJnZXQsaT10aGlzLmRyb3Bkb3duLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLmNvbmZpZy5jbGFzc05hbWVzLmFjdGl2ZVN0YXRlKTt0aGlzLndhc1RhcD09PSEwJiZ0aGlzLmNvbnRhaW5lck91dGVyLmNvbnRhaW5zKHQpJiYodCE9PXRoaXMuY29udGFpbmVyT3V0ZXImJnQhPT10aGlzLmNvbnRhaW5lcklubmVyfHx0aGlzLmlzU2VsZWN0T25lRWxlbWVudHx8KHRoaXMuaXNUZXh0RWxlbWVudD9kb2N1bWVudC5hY3RpdmVFbGVtZW50IT09dGhpcy5pbnB1dCYmdGhpcy5pbnB1dC5mb2N1cygpOml8fHRoaXMuc2hvd0Ryb3Bkb3duKCEwKSksZS5zdG9wUHJvcGFnYXRpb24oKSksdGhpcy53YXNUYXA9ITB9fSx7a2V5OlwiX29uTW91c2VEb3duXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXQ7aWYodD09PXRoaXMuY2hvaWNlTGlzdCYmdGhpcy5pc0llMTEmJih0aGlzLmlzU2Nyb2xsaW5nT25JZT0hMCksdGhpcy5jb250YWluZXJPdXRlci5jb250YWlucyh0KSYmdCE9PXRoaXMuaW5wdXQpe3ZhciBpPXZvaWQgMCxuPXRoaXMuc3RvcmUuZ2V0SXRlbXNGaWx0ZXJlZEJ5QWN0aXZlKCkscz1lLnNoaWZ0S2V5OyhpPSgwLHYuZmluZEFuY2VzdG9yQnlBdHRyTmFtZSkodCxcImRhdGEtYnV0dG9uXCIpKT90aGlzLl9oYW5kbGVCdXR0b25BY3Rpb24obixpKTooaT0oMCx2LmZpbmRBbmNlc3RvckJ5QXR0ck5hbWUpKHQsXCJkYXRhLWl0ZW1cIikpP3RoaXMuX2hhbmRsZUl0ZW1BY3Rpb24obixpLHMpOihpPSgwLHYuZmluZEFuY2VzdG9yQnlBdHRyTmFtZSkodCxcImRhdGEtY2hvaWNlXCIpKSYmdGhpcy5faGFuZGxlQ2hvaWNlQWN0aW9uKG4saSksZS5wcmV2ZW50RGVmYXVsdCgpfX19LHtrZXk6XCJfb25DbGlja1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUudGFyZ2V0LGk9dGhpcy5kcm9wZG93bi5jbGFzc0xpc3QuY29udGFpbnModGhpcy5jb25maWcuY2xhc3NOYW1lcy5hY3RpdmVTdGF0ZSksbj10aGlzLnN0b3JlLmdldEl0ZW1zRmlsdGVyZWRCeUFjdGl2ZSgpO2lmKHRoaXMuY29udGFpbmVyT3V0ZXIuY29udGFpbnModCkpdC5oYXNBdHRyaWJ1dGUoXCJkYXRhLWJ1dHRvblwiKSYmdGhpcy5faGFuZGxlQnV0dG9uQWN0aW9uKG4sdCksaT90aGlzLmlzU2VsZWN0T25lRWxlbWVudCYmdCE9PXRoaXMuaW5wdXQmJiF0aGlzLmRyb3Bkb3duLmNvbnRhaW5zKHQpJiZ0aGlzLmhpZGVEcm9wZG93bighMCk6dGhpcy5pc1RleHRFbGVtZW50P2RvY3VtZW50LmFjdGl2ZUVsZW1lbnQhPT10aGlzLmlucHV0JiZ0aGlzLmlucHV0LmZvY3VzKCk6dGhpcy5jYW5TZWFyY2g/dGhpcy5zaG93RHJvcGRvd24oITApOih0aGlzLnNob3dEcm9wZG93bigpLHRoaXMuY29udGFpbmVyT3V0ZXIuZm9jdXMoKSk7ZWxzZXt2YXIgcz1uLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaGlnaGxpZ2h0ZWR9KTtzJiZ0aGlzLnVuaGlnaGxpZ2h0QWxsKCksdGhpcy5jb250YWluZXJPdXRlci5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuY29uZmlnLmNsYXNzTmFtZXMuZm9jdXNTdGF0ZSksaSYmdGhpcy5oaWRlRHJvcGRvd24oKX19fSx7a2V5OlwiX29uTW91c2VPdmVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7KGUudGFyZ2V0PT09dGhpcy5kcm9wZG93bnx8dGhpcy5kcm9wZG93bi5jb250YWlucyhlLnRhcmdldCkpJiZlLnRhcmdldC5oYXNBdHRyaWJ1dGUoXCJkYXRhLWNob2ljZVwiKSYmdGhpcy5faGlnaGxpZ2h0Q2hvaWNlKGUudGFyZ2V0KX19LHtrZXk6XCJfb25QYXN0ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2UudGFyZ2V0IT09dGhpcy5pbnB1dHx8dGhpcy5jb25maWcucGFzdGV8fGUucHJldmVudERlZmF1bHQoKX19LHtrZXk6XCJfb25Gb2N1c1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsaT1lLnRhcmdldDtpZih0aGlzLmNvbnRhaW5lck91dGVyLmNvbnRhaW5zKGkpKXt2YXIgbj10aGlzLmRyb3Bkb3duLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLmNvbmZpZy5jbGFzc05hbWVzLmFjdGl2ZVN0YXRlKSxzPXt0ZXh0OmZ1bmN0aW9uKCl7aT09PXQuaW5wdXQmJnQuY29udGFpbmVyT3V0ZXIuY2xhc3NMaXN0LmFkZCh0LmNvbmZpZy5jbGFzc05hbWVzLmZvY3VzU3RhdGUpfSxcInNlbGVjdC1vbmVcIjpmdW5jdGlvbigpe3QuY29udGFpbmVyT3V0ZXIuY2xhc3NMaXN0LmFkZCh0LmNvbmZpZy5jbGFzc05hbWVzLmZvY3VzU3RhdGUpLGk9PT10LmlucHV0JiYobnx8dC5zaG93RHJvcGRvd24oKSl9LFwic2VsZWN0LW11bHRpcGxlXCI6ZnVuY3Rpb24oKXtpPT09dC5pbnB1dCYmKHQuY29udGFpbmVyT3V0ZXIuY2xhc3NMaXN0LmFkZCh0LmNvbmZpZy5jbGFzc05hbWVzLmZvY3VzU3RhdGUpLG58fHQuc2hvd0Ryb3Bkb3duKCEwKSl9fTtzW3RoaXMucGFzc2VkRWxlbWVudC50eXBlXSgpfX19LHtrZXk6XCJfb25CbHVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxpPWUudGFyZ2V0O2lmKHRoaXMuY29udGFpbmVyT3V0ZXIuY29udGFpbnMoaSkmJiF0aGlzLmlzU2Nyb2xsaW5nT25JZSl7dmFyIG49dGhpcy5zdG9yZS5nZXRJdGVtc0ZpbHRlcmVkQnlBY3RpdmUoKSxzPXRoaXMuZHJvcGRvd24uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuY29uZmlnLmNsYXNzTmFtZXMuYWN0aXZlU3RhdGUpLG89bi5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiBlLmhpZ2hsaWdodGVkfSkscj17dGV4dDpmdW5jdGlvbigpe2k9PT10LmlucHV0JiYodC5jb250YWluZXJPdXRlci5jbGFzc0xpc3QucmVtb3ZlKHQuY29uZmlnLmNsYXNzTmFtZXMuZm9jdXNTdGF0ZSksbyYmdC51bmhpZ2hsaWdodEFsbCgpLHMmJnQuaGlkZURyb3Bkb3duKCkpfSxcInNlbGVjdC1vbmVcIjpmdW5jdGlvbigpe3QuY29udGFpbmVyT3V0ZXIuY2xhc3NMaXN0LnJlbW92ZSh0LmNvbmZpZy5jbGFzc05hbWVzLmZvY3VzU3RhdGUpLGk9PT10LmNvbnRhaW5lck91dGVyJiZzJiYhdC5jYW5TZWFyY2gmJnQuaGlkZURyb3Bkb3duKCksaT09PXQuaW5wdXQmJnMmJnQuaGlkZURyb3Bkb3duKCl9LFwic2VsZWN0LW11bHRpcGxlXCI6ZnVuY3Rpb24oKXtpPT09dC5pbnB1dCYmKHQuY29udGFpbmVyT3V0ZXIuY2xhc3NMaXN0LnJlbW92ZSh0LmNvbmZpZy5jbGFzc05hbWVzLmZvY3VzU3RhdGUpLHMmJnQuaGlkZURyb3Bkb3duKCksbyYmdC51bmhpZ2hsaWdodEFsbCgpKX19O3JbdGhpcy5wYXNzZWRFbGVtZW50LnR5cGVdKCl9ZWxzZSB0aGlzLmlzU2Nyb2xsaW5nT25JZT0hMSx0aGlzLmlucHV0LmZvY3VzKCl9fSx7a2V5OlwiX3JlZ2V4RmlsdGVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuITE7dmFyIHQ9dGhpcy5jb25maWcucmVnZXhGaWx0ZXIsaT1uZXcgUmVnRXhwKHQuc291cmNlLFwiaVwiKTtyZXR1cm4gaS50ZXN0KGUpfX0se2tleTpcIl9zY3JvbGxUb0Nob2ljZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcztpZihlKXt2YXIgbj10aGlzLmNob2ljZUxpc3Qub2Zmc2V0SGVpZ2h0LHM9ZS5vZmZzZXRIZWlnaHQsbz1lLm9mZnNldFRvcCtzLHI9dGhpcy5jaG9pY2VMaXN0LnNjcm9sbFRvcCtuLGE9dD4wP3RoaXMuY2hvaWNlTGlzdC5zY3JvbGxUb3Arby1yOmUub2Zmc2V0VG9wLGM9ZnVuY3Rpb24gZSgpe3ZhciBuPTQscz1pLmNob2ljZUxpc3Quc2Nyb2xsVG9wLG89ITEscj12b2lkIDAsYz12b2lkIDA7dD4wPyhyPShhLXMpL24sYz1yPjE/cjoxLGkuY2hvaWNlTGlzdC5zY3JvbGxUb3A9cytjLHM8YSYmKG89ITApKToocj0ocy1hKS9uLGM9cj4xP3I6MSxpLmNob2ljZUxpc3Quc2Nyb2xsVG9wPXMtYyxzPmEmJihvPSEwKSksbyYmcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKGkpe2UoaSxhLHQpfSl9O3JlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbihlKXtjKGUsYSx0KX0pfX19LHtrZXk6XCJfaGlnaGxpZ2h0Q2hvaWNlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOm51bGwsaT1BcnJheS5mcm9tKHRoaXMuZHJvcGRvd24ucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLWNob2ljZS1zZWxlY3RhYmxlXVwiKSksbj10O2lmKGkmJmkubGVuZ3RoKXt2YXIgcz1BcnJheS5mcm9tKHRoaXMuZHJvcGRvd24ucXVlcnlTZWxlY3RvckFsbChcIi5cIit0aGlzLmNvbmZpZy5jbGFzc05hbWVzLmhpZ2hsaWdodGVkU3RhdGUpKTtzLmZvckVhY2goZnVuY3Rpb24odCl7dC5jbGFzc0xpc3QucmVtb3ZlKGUuY29uZmlnLmNsYXNzTmFtZXMuaGlnaGxpZ2h0ZWRTdGF0ZSksdC5zZXRBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIsXCJmYWxzZVwiKX0pLG4/dGhpcy5oaWdobGlnaHRQb3NpdGlvbj1pLmluZGV4T2Yobik6KG49aS5sZW5ndGg+dGhpcy5oaWdobGlnaHRQb3NpdGlvbj9pW3RoaXMuaGlnaGxpZ2h0UG9zaXRpb25dOmlbaS5sZW5ndGgtMV0sbnx8KG49aVswXSkpLG4uY2xhc3NMaXN0LmFkZCh0aGlzLmNvbmZpZy5jbGFzc05hbWVzLmhpZ2hsaWdodGVkU3RhdGUpLG4uc2V0QXR0cmlidXRlKFwiYXJpYS1zZWxlY3RlZFwiLFwidHJ1ZVwiKSx0aGlzLmNvbnRhaW5lck91dGVyLnNldEF0dHJpYnV0ZShcImFyaWEtYWN0aXZlZGVzY2VuZGFudFwiLG4uaWQpfX19LHtrZXk6XCJfYWRkSXRlbVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpudWxsLGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOi0xLG49YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOi0xLHM9YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0/YXJndW1lbnRzWzRdOm51bGwsbz1hcmd1bWVudHMubGVuZ3RoPjUmJnZvaWQgMCE9PWFyZ3VtZW50c1s1XSYmYXJndW1lbnRzWzVdLHI9YXJndW1lbnRzLmxlbmd0aD42JiZ2b2lkIDAhPT1hcmd1bWVudHNbNl0/YXJndW1lbnRzWzZdOm51bGwsYT0oMCx2LmlzVHlwZSkoXCJTdHJpbmdcIixlKT9lLnRyaW0oKTplLGM9cixsPXRoaXMuc3RvcmUuZ2V0SXRlbXMoKSxoPXR8fGEsdT1wYXJzZUludChpLDEwKXx8LTEsZD1uPj0wP3RoaXMuc3RvcmUuZ2V0R3JvdXBCeUlkKG4pOm51bGwsZj1sP2wubGVuZ3RoKzE6MTtyZXR1cm4gdGhpcy5jb25maWcucHJlcGVuZFZhbHVlJiYoYT10aGlzLmNvbmZpZy5wcmVwZW5kVmFsdWUrYS50b1N0cmluZygpKSx0aGlzLmNvbmZpZy5hcHBlbmRWYWx1ZSYmKGErPXRoaXMuY29uZmlnLmFwcGVuZFZhbHVlLnRvU3RyaW5nKCkpLHRoaXMuc3RvcmUuZGlzcGF0Y2goKDAscC5hZGRJdGVtKShhLGgsZix1LG4scyxvLGMpKSxcbnRoaXMuaXNTZWxlY3RPbmVFbGVtZW50JiZ0aGlzLnJlbW92ZUFjdGl2ZUl0ZW1zKGYpLGQmJmQudmFsdWU/KDAsdi50cmlnZ2VyRXZlbnQpKHRoaXMucGFzc2VkRWxlbWVudCxcImFkZEl0ZW1cIix7aWQ6Zix2YWx1ZTphLGxhYmVsOmgsZ3JvdXBWYWx1ZTpkLnZhbHVlLGtleUNvZGU6Y30pOigwLHYudHJpZ2dlckV2ZW50KSh0aGlzLnBhc3NlZEVsZW1lbnQsXCJhZGRJdGVtXCIse2lkOmYsdmFsdWU6YSxsYWJlbDpoLGtleUNvZGU6Y30pLHRoaXN9fSx7a2V5OlwiX3JlbW92ZUl0ZW1cIix2YWx1ZTpmdW5jdGlvbihlKXtpZighZXx8ISgwLHYuaXNUeXBlKShcIk9iamVjdFwiLGUpKXJldHVybiB0aGlzO3ZhciB0PWUuaWQsaT1lLnZhbHVlLG49ZS5sYWJlbCxzPWUuY2hvaWNlSWQsbz1lLmdyb3VwSWQscj1vPj0wP3RoaXMuc3RvcmUuZ2V0R3JvdXBCeUlkKG8pOm51bGw7cmV0dXJuIHRoaXMuc3RvcmUuZGlzcGF0Y2goKDAscC5yZW1vdmVJdGVtKSh0LHMpKSxyJiZyLnZhbHVlPygwLHYudHJpZ2dlckV2ZW50KSh0aGlzLnBhc3NlZEVsZW1lbnQsXCJyZW1vdmVJdGVtXCIse2lkOnQsdmFsdWU6aSxsYWJlbDpuLGdyb3VwVmFsdWU6ci52YWx1ZX0pOigwLHYudHJpZ2dlckV2ZW50KSh0aGlzLnBhc3NlZEVsZW1lbnQsXCJyZW1vdmVJdGVtXCIse2lkOnQsdmFsdWU6aSxsYWJlbDpufSksdGhpc319LHtrZXk6XCJfYWRkQ2hvaWNlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm51bGwsaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdLG49YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10mJmFyZ3VtZW50c1szXSxzPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdP2FyZ3VtZW50c1s0XTotMSxvPWFyZ3VtZW50cy5sZW5ndGg+NSYmdm9pZCAwIT09YXJndW1lbnRzWzVdP2FyZ3VtZW50c1s1XTpudWxsLHI9YXJndW1lbnRzLmxlbmd0aD42JiZ2b2lkIDAhPT1hcmd1bWVudHNbNl0mJmFyZ3VtZW50c1s2XSxhPWFyZ3VtZW50cy5sZW5ndGg+NyYmdm9pZCAwIT09YXJndW1lbnRzWzddP2FyZ3VtZW50c1s3XTpudWxsO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl7dmFyIGM9dGhpcy5zdG9yZS5nZXRDaG9pY2VzKCksbD10fHxlLGg9Yz9jLmxlbmd0aCsxOjEsdT10aGlzLmJhc2VJZCtcIi1cIit0aGlzLmlkTmFtZXMuaXRlbUNob2ljZStcIi1cIitoO3RoaXMuc3RvcmUuZGlzcGF0Y2goKDAscC5hZGRDaG9pY2UpKGUsbCxoLHMsbix1LG8scixhKSksaSYmdGhpcy5fYWRkSXRlbShlLGwsaCx2b2lkIDAsbyxyLGEpfX19LHtrZXk6XCJfY2xlYXJDaG9pY2VzXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnN0b3JlLmRpc3BhdGNoKCgwLHAuY2xlYXJDaG9pY2VzKSgpKX19LHtrZXk6XCJfYWRkR3JvdXBcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBpPXRoaXMsbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06XCJ2YWx1ZVwiLHM9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOlwibGFiZWxcIixvPSgwLHYuaXNUeXBlKShcIk9iamVjdFwiLGUpP2UuY2hvaWNlczpBcnJheS5mcm9tKGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJPUFRJT05cIikpLHI9dD90Ok1hdGguZmxvb3IoKG5ldyBEYXRlKS52YWx1ZU9mKCkqTWF0aC5yYW5kb20oKSksYT0hIWUuZGlzYWJsZWQmJmUuZGlzYWJsZWQ7bz8odGhpcy5zdG9yZS5kaXNwYXRjaCgoMCxwLmFkZEdyb3VwKShlLmxhYmVsLHIsITAsYSkpLG8uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1lLmRpc2FibGVkfHxlLnBhcmVudE5vZGUmJmUucGFyZW50Tm9kZS5kaXNhYmxlZDtpLl9hZGRDaG9pY2UoZVtuXSwoMCx2LmlzVHlwZSkoXCJPYmplY3RcIixlKT9lW3NdOmUuaW5uZXJIVE1MLGUuc2VsZWN0ZWQsdCxyLGUuY3VzdG9tUHJvcGVydGllcyxlLnBsYWNlaG9sZGVyKX0pKTp0aGlzLnN0b3JlLmRpc3BhdGNoKCgwLHAuYWRkR3JvdXApKGUubGFiZWwsZS5pZCwhMSxlLmRpc2FibGVkKSl9fSx7a2V5OlwiX2dldFRlbXBsYXRlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuIG51bGw7Zm9yKHZhciB0PXRoaXMuY29uZmlnLnRlbXBsYXRlcyxpPWFyZ3VtZW50cy5sZW5ndGgsbj1BcnJheShpPjE/aS0xOjApLHM9MTtzPGk7cysrKW5bcy0xXT1hcmd1bWVudHNbc107cmV0dXJuIHRbZV0uYXBwbHkodCxuKX19LHtrZXk6XCJfY3JlYXRlVGVtcGxhdGVzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5jb25maWcuY2xhc3NOYW1lcyxpPXtjb250YWluZXJPdXRlcjpmdW5jdGlvbihpKXtyZXR1cm4oMCx2LnN0clRvRWwpKCdcXG4gICAgICAgICAgPGRpdlxcbiAgICAgICAgICAgIGNsYXNzPVwiJyt0LmNvbnRhaW5lck91dGVyKydcIlxcbiAgICAgICAgICAgICcrKGUuaXNTZWxlY3RFbGVtZW50P2UuY29uZmlnLnNlYXJjaEVuYWJsZWQ/J3JvbGU9XCJjb21ib2JveFwiIGFyaWEtYXV0b2NvbXBsZXRlPVwibGlzdFwiJzoncm9sZT1cImxpc3Rib3hcIic6XCJcIikrJ1xcbiAgICAgICAgICAgIGRhdGEtdHlwZT1cIicrZS5wYXNzZWRFbGVtZW50LnR5cGUrJ1wiXFxuICAgICAgICAgICAgJysoZS5pc1NlbGVjdE9uZUVsZW1lbnQ/J3RhYmluZGV4PVwiMFwiJzpcIlwiKSsnXFxuICAgICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxcbiAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiXFxuICAgICAgICAgICAgZGlyPVwiJytpKydcIlxcbiAgICAgICAgICAgID5cXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICAnKX0sY29udGFpbmVySW5uZXI6ZnVuY3Rpb24oKXtyZXR1cm4oMCx2LnN0clRvRWwpKCdcXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIicrdC5jb250YWluZXJJbm5lcisnXCI+PC9kaXY+XFxuICAgICAgICAnKX0saXRlbUxpc3Q6ZnVuY3Rpb24oKXt2YXIgaSxuPSgwLHUuZGVmYXVsdCkodC5saXN0LChpPXt9LHMoaSx0Lmxpc3RTaW5nbGUsZS5pc1NlbGVjdE9uZUVsZW1lbnQpLHMoaSx0Lmxpc3RJdGVtcywhZS5pc1NlbGVjdE9uZUVsZW1lbnQpLGkpKTtyZXR1cm4oMCx2LnN0clRvRWwpKCdcXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIicrbisnXCI+PC9kaXY+XFxuICAgICAgICAnKX0scGxhY2Vob2xkZXI6ZnVuY3Rpb24oZSl7cmV0dXJuKDAsdi5zdHJUb0VsKSgnXFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCInK3QucGxhY2Vob2xkZXIrJ1wiPlxcbiAgICAgICAgICAgICcrZStcIlxcbiAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIFwiKX0saXRlbTpmdW5jdGlvbihpKXt2YXIgbixvPSgwLHUuZGVmYXVsdCkodC5pdGVtLChuPXt9LHMobix0LmhpZ2hsaWdodGVkU3RhdGUsaS5oaWdobGlnaHRlZCkscyhuLHQuaXRlbVNlbGVjdGFibGUsIWkuaGlnaGxpZ2h0ZWQpLHMobix0LnBsYWNlaG9sZGVyLGkucGxhY2Vob2xkZXIpLG4pKTtpZihlLmNvbmZpZy5yZW1vdmVJdGVtQnV0dG9uKXt2YXIgcjtyZXR1cm4gbz0oMCx1LmRlZmF1bHQpKHQuaXRlbSwocj17fSxzKHIsdC5oaWdobGlnaHRlZFN0YXRlLGkuaGlnaGxpZ2h0ZWQpLHMocix0Lml0ZW1TZWxlY3RhYmxlLCFpLmRpc2FibGVkKSxzKHIsdC5wbGFjZWhvbGRlcixpLnBsYWNlaG9sZGVyKSxyKSksKDAsdi5zdHJUb0VsKSgnXFxuICAgICAgICAgICAgPGRpdlxcbiAgICAgICAgICAgICAgY2xhc3M9XCInK28rJ1wiXFxuICAgICAgICAgICAgICBkYXRhLWl0ZW1cXG4gICAgICAgICAgICAgIGRhdGEtaWQ9XCInK2kuaWQrJ1wiXFxuICAgICAgICAgICAgICBkYXRhLXZhbHVlPVwiJytpLnZhbHVlKydcIlxcbiAgICAgICAgICAgICAgZGF0YS1kZWxldGFibGVcXG4gICAgICAgICAgICAgICcrKGkuYWN0aXZlPydhcmlhLXNlbGVjdGVkPVwidHJ1ZVwiJzpcIlwiKStcIlxcbiAgICAgICAgICAgICAgXCIrKGkuZGlzYWJsZWQ/J2FyaWEtZGlzYWJsZWQ9XCJ0cnVlXCInOlwiXCIpK1wiXFxuICAgICAgICAgICAgICA+XFxuICAgICAgICAgICAgICBcIitpLmxhYmVsKyc8IS0tXFxuICAgICAgICAgICAtLT48YnV0dG9uXFxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxcbiAgICAgICAgICAgICAgICBjbGFzcz1cIicrdC5idXR0b24rJ1wiXFxuICAgICAgICAgICAgICAgIGRhdGEtYnV0dG9uXFxuICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJSZW1vdmUgaXRlbTogXFwnJytpLnZhbHVlK1wiJ1xcXCJcXG4gICAgICAgICAgICAgICAgPlxcbiAgICAgICAgICAgICAgICBSZW1vdmUgaXRlbVxcbiAgICAgICAgICAgICAgPC9idXR0b24+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgIFwiKX1yZXR1cm4oMCx2LnN0clRvRWwpKCdcXG4gICAgICAgICAgPGRpdlxcbiAgICAgICAgICAgIGNsYXNzPVwiJytvKydcIlxcbiAgICAgICAgICAgIGRhdGEtaXRlbVxcbiAgICAgICAgICAgIGRhdGEtaWQ9XCInK2kuaWQrJ1wiXFxuICAgICAgICAgICAgZGF0YS12YWx1ZT1cIicraS52YWx1ZSsnXCJcXG4gICAgICAgICAgICAnKyhpLmFjdGl2ZT8nYXJpYS1zZWxlY3RlZD1cInRydWVcIic6XCJcIikrXCJcXG4gICAgICAgICAgICBcIisoaS5kaXNhYmxlZD8nYXJpYS1kaXNhYmxlZD1cInRydWVcIic6XCJcIikrXCJcXG4gICAgICAgICAgICA+XFxuICAgICAgICAgICAgXCIraS5sYWJlbCtcIlxcbiAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIFwiKX0sY2hvaWNlTGlzdDpmdW5jdGlvbigpe3JldHVybigwLHYuc3RyVG9FbCkoJ1xcbiAgICAgICAgICA8ZGl2XFxuICAgICAgICAgICAgY2xhc3M9XCInK3QubGlzdCsnXCJcXG4gICAgICAgICAgICBkaXI9XCJsdHJcIlxcbiAgICAgICAgICAgIHJvbGU9XCJsaXN0Ym94XCJcXG4gICAgICAgICAgICAnKyhlLmlzU2VsZWN0T25lRWxlbWVudD9cIlwiOidhcmlhLW11bHRpc2VsZWN0YWJsZT1cInRydWVcIicpK1wiXFxuICAgICAgICAgICAgPlxcbiAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIFwiKX0sY2hvaWNlR3JvdXA6ZnVuY3Rpb24oZSl7dmFyIGk9KDAsdS5kZWZhdWx0KSh0Lmdyb3VwLHMoe30sdC5pdGVtRGlzYWJsZWQsZS5kaXNhYmxlZCkpO3JldHVybigwLHYuc3RyVG9FbCkoJ1xcbiAgICAgICAgICA8ZGl2XFxuICAgICAgICAgICAgY2xhc3M9XCInK2krJ1wiXFxuICAgICAgICAgICAgZGF0YS1ncm91cFxcbiAgICAgICAgICAgIGRhdGEtaWQ9XCInK2UuaWQrJ1wiXFxuICAgICAgICAgICAgZGF0YS12YWx1ZT1cIicrZS52YWx1ZSsnXCJcXG4gICAgICAgICAgICByb2xlPVwiZ3JvdXBcIlxcbiAgICAgICAgICAgICcrKGUuZGlzYWJsZWQ/J2FyaWEtZGlzYWJsZWQ9XCJ0cnVlXCInOlwiXCIpKydcXG4gICAgICAgICAgICA+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIicrdC5ncm91cEhlYWRpbmcrJ1wiPicrZS52YWx1ZStcIjwvZGl2PlxcbiAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIFwiKX0sY2hvaWNlOmZ1bmN0aW9uKGkpe3ZhciBuLG89KDAsdS5kZWZhdWx0KSh0Lml0ZW0sdC5pdGVtQ2hvaWNlLChuPXt9LHMobix0Lml0ZW1EaXNhYmxlZCxpLmRpc2FibGVkKSxzKG4sdC5pdGVtU2VsZWN0YWJsZSwhaS5kaXNhYmxlZCkscyhuLHQucGxhY2Vob2xkZXIsaS5wbGFjZWhvbGRlciksbikpO3JldHVybigwLHYuc3RyVG9FbCkoJ1xcbiAgICAgICAgICA8ZGl2XFxuICAgICAgICAgICAgY2xhc3M9XCInK28rJ1wiXFxuICAgICAgICAgICAgZGF0YS1zZWxlY3QtdGV4dD1cIicrZS5jb25maWcuaXRlbVNlbGVjdFRleHQrJ1wiXFxuICAgICAgICAgICAgZGF0YS1jaG9pY2VcXG4gICAgICAgICAgICBkYXRhLWlkPVwiJytpLmlkKydcIlxcbiAgICAgICAgICAgIGRhdGEtdmFsdWU9XCInK2kudmFsdWUrJ1wiXFxuICAgICAgICAgICAgJysoaS5kaXNhYmxlZD8nZGF0YS1jaG9pY2UtZGlzYWJsZWQgYXJpYS1kaXNhYmxlZD1cInRydWVcIic6XCJkYXRhLWNob2ljZS1zZWxlY3RhYmxlXCIpKydcXG4gICAgICAgICAgICBpZD1cIicraS5lbGVtZW50SWQrJ1wiXFxuICAgICAgICAgICAgJysoaS5ncm91cElkPjA/J3JvbGU9XCJ0cmVlaXRlbVwiJzoncm9sZT1cIm9wdGlvblwiJykrXCJcXG4gICAgICAgICAgICA+XFxuICAgICAgICAgICAgXCIraS5sYWJlbCtcIlxcbiAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIFwiKX0saW5wdXQ6ZnVuY3Rpb24oKXt2YXIgZT0oMCx1LmRlZmF1bHQpKHQuaW5wdXQsdC5pbnB1dENsb25lZCk7cmV0dXJuKDAsdi5zdHJUb0VsKSgnXFxuICAgICAgICAgIDxpbnB1dFxcbiAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcXG4gICAgICAgICAgICBjbGFzcz1cIicrZSsnXCJcXG4gICAgICAgICAgICBhdXRvY29tcGxldGU9XCJvZmZcIlxcbiAgICAgICAgICAgIGF1dG9jYXBpdGFsaXplPVwib2ZmXCJcXG4gICAgICAgICAgICBzcGVsbGNoZWNrPVwiZmFsc2VcIlxcbiAgICAgICAgICAgIHJvbGU9XCJ0ZXh0Ym94XCJcXG4gICAgICAgICAgICBhcmlhLWF1dG9jb21wbGV0ZT1cImxpc3RcIlxcbiAgICAgICAgICAgID5cXG4gICAgICAgICcpfSxkcm9wZG93bjpmdW5jdGlvbigpe3ZhciBlPSgwLHUuZGVmYXVsdCkodC5saXN0LHQubGlzdERyb3Bkb3duKTtyZXR1cm4oMCx2LnN0clRvRWwpKCdcXG4gICAgICAgICAgPGRpdlxcbiAgICAgICAgICAgIGNsYXNzPVwiJytlKydcIlxcbiAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiXFxuICAgICAgICAgICAgPlxcbiAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICcpfSxub3RpY2U6ZnVuY3Rpb24oZSl7dmFyIGksbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06XCJcIixvPSgwLHUuZGVmYXVsdCkodC5pdGVtLHQuaXRlbUNob2ljZSwoaT17fSxzKGksdC5ub1Jlc3VsdHMsXCJuby1yZXN1bHRzXCI9PT1uKSxzKGksdC5ub0Nob2ljZXMsXCJuby1jaG9pY2VzXCI9PT1uKSxpKSk7cmV0dXJuKDAsdi5zdHJUb0VsKSgnXFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCInK28rJ1wiPlxcbiAgICAgICAgICAgICcrZStcIlxcbiAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIFwiKX0sb3B0aW9uOmZ1bmN0aW9uKGUpe3JldHVybigwLHYuc3RyVG9FbCkoJ1xcbiAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiJytlLnZhbHVlKydcIiBzZWxlY3RlZD4nK2UubGFiZWwrXCI8L29wdGlvbj5cXG4gICAgICAgIFwiKX19LG49dGhpcy5jb25maWcuY2FsbGJhY2tPbkNyZWF0ZVRlbXBsYXRlcyxvPXt9O24mJigwLHYuaXNUeXBlKShcIkZ1bmN0aW9uXCIsbikmJihvPW4uY2FsbCh0aGlzLHYuc3RyVG9FbCkpLHRoaXMuY29uZmlnLnRlbXBsYXRlcz0oMCx2LmV4dGVuZCkoaSxvKX19LHtrZXk6XCJfc2V0TG9hZGluZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuc3RvcmUuZGlzcGF0Y2goKDAscC5zZXRJc0xvYWRpbmcpKGUpKX19LHtrZXk6XCJfY3JlYXRlSW5wdXRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLnBhc3NlZEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGlyXCIpfHxcImx0clwiLGk9dGhpcy5fZ2V0VGVtcGxhdGUoXCJjb250YWluZXJPdXRlclwiLHQpLG49dGhpcy5fZ2V0VGVtcGxhdGUoXCJjb250YWluZXJJbm5lclwiKSxzPXRoaXMuX2dldFRlbXBsYXRlKFwiaXRlbUxpc3RcIiksbz10aGlzLl9nZXRUZW1wbGF0ZShcImNob2ljZUxpc3RcIikscj10aGlzLl9nZXRUZW1wbGF0ZShcImlucHV0XCIpLGE9dGhpcy5fZ2V0VGVtcGxhdGUoXCJkcm9wZG93blwiKTt0aGlzLmNvbnRhaW5lck91dGVyPWksdGhpcy5jb250YWluZXJJbm5lcj1uLHRoaXMuaW5wdXQ9cix0aGlzLmNob2ljZUxpc3Q9byx0aGlzLml0ZW1MaXN0PXMsdGhpcy5kcm9wZG93bj1hLHRoaXMucGFzc2VkRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuY29uZmlnLmNsYXNzTmFtZXMuaW5wdXQsdGhpcy5jb25maWcuY2xhc3NOYW1lcy5oaWRkZW5TdGF0ZSksdGhpcy5wYXNzZWRFbGVtZW50LnRhYkluZGV4PVwiLTFcIjt2YXIgYz10aGlzLnBhc3NlZEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwic3R5bGVcIik7aWYoQm9vbGVhbihjKSYmdGhpcy5wYXNzZWRFbGVtZW50LnNldEF0dHJpYnV0ZShcImRhdGEtY2hvaWNlLW9yaWctc3R5bGVcIixjKSx0aGlzLnBhc3NlZEVsZW1lbnQuc2V0QXR0cmlidXRlKFwic3R5bGVcIixcImRpc3BsYXk6bm9uZTtcIiksdGhpcy5wYXNzZWRFbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsXCJ0cnVlXCIpLHRoaXMucGFzc2VkRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNob2ljZVwiLFwiYWN0aXZlXCIpLCgwLHYud3JhcCkodGhpcy5wYXNzZWRFbGVtZW50LG4pLCgwLHYud3JhcCkobixpKSx0aGlzLmlzU2VsZWN0T25lRWxlbWVudD9yLnBsYWNlaG9sZGVyPXRoaXMuY29uZmlnLnNlYXJjaFBsYWNlaG9sZGVyVmFsdWV8fFwiXCI6dGhpcy5wbGFjZWhvbGRlciYmKHIucGxhY2Vob2xkZXI9dGhpcy5wbGFjZWhvbGRlcixyLnN0eWxlLndpZHRoPSgwLHYuZ2V0V2lkdGhPZklucHV0KShyKSksdGhpcy5jb25maWcuYWRkSXRlbXN8fHRoaXMuZGlzYWJsZSgpLGkuYXBwZW5kQ2hpbGQobiksaS5hcHBlbmRDaGlsZChhKSxuLmFwcGVuZENoaWxkKHMpLHRoaXMuaXNUZXh0RWxlbWVudHx8YS5hcHBlbmRDaGlsZChvKSx0aGlzLmlzU2VsZWN0TXVsdGlwbGVFbGVtZW50fHx0aGlzLmlzVGV4dEVsZW1lbnQ/bi5hcHBlbmRDaGlsZChyKTp0aGlzLmNhblNlYXJjaCYmYS5pbnNlcnRCZWZvcmUocixhLmZpcnN0Q2hpbGQpLHRoaXMuaXNTZWxlY3RFbGVtZW50KXt2YXIgbD1BcnJheS5mcm9tKHRoaXMucGFzc2VkRWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcIk9QVEdST1VQXCIpKTtpZih0aGlzLmhpZ2hsaWdodFBvc2l0aW9uPTAsdGhpcy5pc1NlYXJjaGluZz0hMSx0aGlzLl9zZXRMb2FkaW5nKCEwKSxsJiZsLmxlbmd0aClsLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fYWRkR3JvdXAodCx0LmlkfHxudWxsKX0pO2Vsc2V7dmFyIGg9QXJyYXkuZnJvbSh0aGlzLnBhc3NlZEVsZW1lbnQub3B0aW9ucyksdT10aGlzLmNvbmZpZy5zb3J0RmlsdGVyLGQ9dGhpcy5wcmVzZXRDaG9pY2VzO2guZm9yRWFjaChmdW5jdGlvbihlKXtkLnB1c2goe3ZhbHVlOmUudmFsdWUsbGFiZWw6ZS5pbm5lckhUTUwsc2VsZWN0ZWQ6ZS5zZWxlY3RlZCxkaXNhYmxlZDplLmRpc2FibGVkfHxlLnBhcmVudE5vZGUuZGlzYWJsZWQscGxhY2Vob2xkZXI6ZS5oYXNBdHRyaWJ1dGUoXCJwbGFjZWhvbGRlclwiKX0pfSksdGhpcy5jb25maWcuc2hvdWxkU29ydCYmZC5zb3J0KHUpO3ZhciBmPWQuc29tZShmdW5jdGlvbihlKXtyZXR1cm4gZS5zZWxlY3RlZH0pO2QuZm9yRWFjaChmdW5jdGlvbih0LGkpe2lmKGUuaXNTZWxlY3RPbmVFbGVtZW50KXt2YXIgbj1mfHwhZiYmaT4wO2UuX2FkZENob2ljZSh0LnZhbHVlLHQubGFiZWwsIW58fHQuc2VsZWN0ZWQsISFuJiZ0LmRpc2FibGVkLHZvaWQgMCx0LmN1c3RvbVByb3BlcnRpZXMsdC5wbGFjZWhvbGRlcil9ZWxzZSBlLl9hZGRDaG9pY2UodC52YWx1ZSx0LmxhYmVsLHQuc2VsZWN0ZWQsdC5kaXNhYmxlZCx2b2lkIDAsdC5jdXN0b21Qcm9wZXJ0aWVzLHQucGxhY2Vob2xkZXIpfSl9dGhpcy5fc2V0TG9hZGluZyghMSl9ZWxzZSB0aGlzLmlzVGV4dEVsZW1lbnQmJnRoaXMucHJlc2V0SXRlbXMuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgaT0oMCx2LmdldFR5cGUpKHQpO2lmKFwiT2JqZWN0XCI9PT1pKXtpZighdC52YWx1ZSlyZXR1cm47ZS5fYWRkSXRlbSh0LnZhbHVlLHQubGFiZWwsdC5pZCx2b2lkIDAsdC5jdXN0b21Qcm9wZXJ0aWVzLHQucGxhY2Vob2xkZXIpfWVsc2VcIlN0cmluZ1wiPT09aSYmZS5fYWRkSXRlbSh0KX0pfX1dKSxlfSgpO2UuZXhwb3J0cz1tfSxmdW5jdGlvbihlLHQsaSl7IWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoKXtjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLGFyZ3VtZW50cyl9ZnVuY3Rpb24gbihlLHQpe3ZhciBpO3RoaXMubGlzdD1lLHRoaXMub3B0aW9ucz10PXR8fHt9O2ZvcihpIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShpKSYmKFwiYm9vbGVhblwiPT10eXBlb2YgYVtpXT90aGlzLm9wdGlvbnNbaV09aSBpbiB0P3RbaV06YVtpXTp0aGlzLm9wdGlvbnNbaV09dFtpXXx8YVtpXSl9ZnVuY3Rpb24gcyhlLHQsaSl7dmFyIG4scixhLGMsbCxoO2lmKHQpe2lmKGE9dC5pbmRleE9mKFwiLlwiKSxhIT09LTE/KG49dC5zbGljZSgwLGEpLHI9dC5zbGljZShhKzEpKTpuPXQsYz1lW25dLG51bGwhPT1jJiZ2b2lkIDAhPT1jKWlmKHJ8fFwic3RyaW5nXCIhPXR5cGVvZiBjJiZcIm51bWJlclwiIT10eXBlb2YgYylpZihvKGMpKWZvcihsPTAsaD1jLmxlbmd0aDtsPGg7bCsrKXMoY1tsXSxyLGkpO2Vsc2UgciYmcyhjLHIsaSk7ZWxzZSBpLnB1c2goYyl9ZWxzZSBpLnB1c2goZSk7cmV0dXJuIGl9ZnVuY3Rpb24gbyhlKXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9ZnVuY3Rpb24gcihlLHQpe3Q9dHx8e30sdGhpcy5vcHRpb25zPXQsdGhpcy5vcHRpb25zLmxvY2F0aW9uPXQubG9jYXRpb258fHIuZGVmYXVsdE9wdGlvbnMubG9jYXRpb24sdGhpcy5vcHRpb25zLmRpc3RhbmNlPVwiZGlzdGFuY2VcImluIHQ/dC5kaXN0YW5jZTpyLmRlZmF1bHRPcHRpb25zLmRpc3RhbmNlLHRoaXMub3B0aW9ucy50aHJlc2hvbGQ9XCJ0aHJlc2hvbGRcImluIHQ/dC50aHJlc2hvbGQ6ci5kZWZhdWx0T3B0aW9ucy50aHJlc2hvbGQsdGhpcy5vcHRpb25zLm1heFBhdHRlcm5MZW5ndGg9dC5tYXhQYXR0ZXJuTGVuZ3RofHxyLmRlZmF1bHRPcHRpb25zLm1heFBhdHRlcm5MZW5ndGgsdGhpcy5wYXR0ZXJuPXQuY2FzZVNlbnNpdGl2ZT9lOmUudG9Mb3dlckNhc2UoKSx0aGlzLnBhdHRlcm5MZW49ZS5sZW5ndGgsdGhpcy5wYXR0ZXJuTGVuPD10aGlzLm9wdGlvbnMubWF4UGF0dGVybkxlbmd0aCYmKHRoaXMubWF0Y2htYXNrPTE8PHRoaXMucGF0dGVybkxlbi0xLHRoaXMucGF0dGVybkFscGhhYmV0PXRoaXMuX2NhbGN1bGF0ZVBhdHRlcm5BbHBoYWJldCgpKX12YXIgYT17aWQ6bnVsbCxjYXNlU2Vuc2l0aXZlOiExLGluY2x1ZGU6W10sc2hvdWxkU29ydDohMCxzZWFyY2hGbjpyLHNvcnRGbjpmdW5jdGlvbihlLHQpe3JldHVybiBlLnNjb3JlLXQuc2NvcmV9LGdldEZuOnMsa2V5czpbXSx2ZXJib3NlOiExLHRva2VuaXplOiExLG1hdGNoQWxsVG9rZW5zOiExLHRva2VuU2VwYXJhdG9yOi8gKy9nLG1pbk1hdGNoQ2hhckxlbmd0aDoxLGZpbmRBbGxNYXRjaGVzOiExfTtuLlZFUlNJT049XCIyLjcuM1wiLG4ucHJvdG90eXBlLnNldD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5saXN0PWUsZX0sbi5wcm90b3R5cGUuc2VhcmNoPWZ1bmN0aW9uKGUpe3RoaXMub3B0aW9ucy52ZXJib3NlJiZpKFwiXFxuU2VhcmNoIHRlcm06XCIsZSxcIlxcblwiKSx0aGlzLnBhdHRlcm49ZSx0aGlzLnJlc3VsdHM9W10sdGhpcy5yZXN1bHRNYXA9e30sdGhpcy5fa2V5TWFwPW51bGwsdGhpcy5fcHJlcGFyZVNlYXJjaGVycygpLHRoaXMuX3N0YXJ0U2VhcmNoKCksdGhpcy5fY29tcHV0ZVNjb3JlKCksdGhpcy5fc29ydCgpO3ZhciB0PXRoaXMuX2Zvcm1hdCgpO3JldHVybiB0fSxuLnByb3RvdHlwZS5fcHJlcGFyZVNlYXJjaGVycz1mdW5jdGlvbigpe3ZhciBlPXRoaXMub3B0aW9ucyx0PXRoaXMucGF0dGVybixpPWUuc2VhcmNoRm4sbj10LnNwbGl0KGUudG9rZW5TZXBhcmF0b3IpLHM9MCxvPW4ubGVuZ3RoO2lmKHRoaXMub3B0aW9ucy50b2tlbml6ZSlmb3IodGhpcy50b2tlblNlYXJjaGVycz1bXTtzPG87cysrKXRoaXMudG9rZW5TZWFyY2hlcnMucHVzaChuZXcgaShuW3NdLGUpKTt0aGlzLmZ1bGxTZWFjaGVyPW5ldyBpKHQsZSl9LG4ucHJvdG90eXBlLl9zdGFydFNlYXJjaD1mdW5jdGlvbigpe3ZhciBlLHQsaSxuLHM9dGhpcy5vcHRpb25zLG89cy5nZXRGbixyPXRoaXMubGlzdCxhPXIubGVuZ3RoLGM9dGhpcy5vcHRpb25zLmtleXMsbD1jLmxlbmd0aCxoPW51bGw7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHJbMF0pZm9yKGk9MDtpPGE7aSsrKXRoaXMuX2FuYWx5emUoXCJcIixyW2ldLGksaSk7ZWxzZSBmb3IodGhpcy5fa2V5TWFwPXt9LGk9MDtpPGE7aSsrKWZvcihoPXJbaV0sbj0wO248bDtuKyspe2lmKGU9Y1tuXSxcInN0cmluZ1wiIT10eXBlb2YgZSl7aWYodD0xLWUud2VpZ2h0fHwxLHRoaXMuX2tleU1hcFtlLm5hbWVdPXt3ZWlnaHQ6dH0sZS53ZWlnaHQ8PTB8fGUud2VpZ2h0PjEpdGhyb3cgbmV3IEVycm9yKFwiS2V5IHdlaWdodCBoYXMgdG8gYmUgPiAwIGFuZCA8PSAxXCIpO2U9ZS5uYW1lfWVsc2UgdGhpcy5fa2V5TWFwW2VdPXt3ZWlnaHQ6MX07dGhpcy5fYW5hbHl6ZShlLG8oaCxlLFtdKSxoLGkpfX0sbi5wcm90b3R5cGUuX2FuYWx5emU9ZnVuY3Rpb24oZSx0LG4scyl7dmFyIHIsYSxjLGwsaCx1LGQsZixwLHYsbSxnLHksYixFLF89dGhpcy5vcHRpb25zLFM9ITE7aWYodm9pZCAwIT09dCYmbnVsbCE9PXQpe2E9W107dmFyIEk9MDtpZihcInN0cmluZ1wiPT10eXBlb2YgdCl7aWYocj10LnNwbGl0KF8udG9rZW5TZXBhcmF0b3IpLF8udmVyYm9zZSYmaShcIi0tLS0tLS0tLVxcbktleTpcIixlKSx0aGlzLm9wdGlvbnMudG9rZW5pemUpe2ZvcihiPTA7Yjx0aGlzLnRva2VuU2VhcmNoZXJzLmxlbmd0aDtiKyspe2ZvcihmPXRoaXMudG9rZW5TZWFyY2hlcnNbYl0sXy52ZXJib3NlJiZpKFwiUGF0dGVybjpcIixmLnBhdHRlcm4pLHA9W10sZz0hMSxFPTA7RTxyLmxlbmd0aDtFKyspe3Y9cltFXSxtPWYuc2VhcmNoKHYpO3ZhciB3PXt9O20uaXNNYXRjaD8od1t2XT1tLnNjb3JlLFM9ITAsZz0hMCxhLnB1c2gobS5zY29yZSkpOih3W3ZdPTEsdGhpcy5vcHRpb25zLm1hdGNoQWxsVG9rZW5zfHxhLnB1c2goMSkpLHAucHVzaCh3KX1nJiZJKyssXy52ZXJib3NlJiZpKFwiVG9rZW4gc2NvcmVzOlwiLHApfWZvcihsPWFbMF0sdT1hLmxlbmd0aCxiPTE7Yjx1O2IrKylsKz1hW2JdO2wvPXUsXy52ZXJib3NlJiZpKFwiVG9rZW4gc2NvcmUgYXZlcmFnZTpcIixsKX1kPXRoaXMuZnVsbFNlYWNoZXIuc2VhcmNoKHQpLF8udmVyYm9zZSYmaShcIkZ1bGwgdGV4dCBzY29yZTpcIixkLnNjb3JlKSxoPWQuc2NvcmUsdm9pZCAwIT09bCYmKGg9KGgrbCkvMiksXy52ZXJib3NlJiZpKFwiU2NvcmUgYXZlcmFnZTpcIixoKSx5PSF0aGlzLm9wdGlvbnMudG9rZW5pemV8fCF0aGlzLm9wdGlvbnMubWF0Y2hBbGxUb2tlbnN8fEk+PXRoaXMudG9rZW5TZWFyY2hlcnMubGVuZ3RoLF8udmVyYm9zZSYmaShcIkNoZWNrIE1hdGNoZXNcIix5KSwoU3x8ZC5pc01hdGNoKSYmeSYmKGM9dGhpcy5yZXN1bHRNYXBbc10sYz9jLm91dHB1dC5wdXNoKHtrZXk6ZSxzY29yZTpoLG1hdGNoZWRJbmRpY2VzOmQubWF0Y2hlZEluZGljZXN9KToodGhpcy5yZXN1bHRNYXBbc109e2l0ZW06bixvdXRwdXQ6W3trZXk6ZSxzY29yZTpoLG1hdGNoZWRJbmRpY2VzOmQubWF0Y2hlZEluZGljZXN9XX0sdGhpcy5yZXN1bHRzLnB1c2godGhpcy5yZXN1bHRNYXBbc10pKSl9ZWxzZSBpZihvKHQpKWZvcihiPTA7Yjx0Lmxlbmd0aDtiKyspdGhpcy5fYW5hbHl6ZShlLHRbYl0sbixzKX19LG4ucHJvdG90eXBlLl9jb21wdXRlU2NvcmU9ZnVuY3Rpb24oKXt2YXIgZSx0LG4scyxvLHIsYSxjLGwsaD10aGlzLl9rZXlNYXAsdT10aGlzLnJlc3VsdHM7Zm9yKHRoaXMub3B0aW9ucy52ZXJib3NlJiZpKFwiXFxuXFxuQ29tcHV0aW5nIHNjb3JlOlxcblwiKSxlPTA7ZTx1Lmxlbmd0aDtlKyspe2ZvcihuPTAscz11W2VdLm91dHB1dCxvPXMubGVuZ3RoLGM9MSx0PTA7dDxvO3QrKylyPXNbdF0uc2NvcmUsYT1oP2hbc1t0XS5rZXldLndlaWdodDoxLGw9ciphLDEhPT1hP2M9TWF0aC5taW4oYyxsKToobis9bCxzW3RdLm5TY29yZT1sKTsxPT09Yz91W2VdLnNjb3JlPW4vbzp1W2VdLnNjb3JlPWMsdGhpcy5vcHRpb25zLnZlcmJvc2UmJmkodVtlXSl9fSxuLnByb3RvdHlwZS5fc29ydD1mdW5jdGlvbigpe3ZhciBlPXRoaXMub3B0aW9ucztlLnNob3VsZFNvcnQmJihlLnZlcmJvc2UmJmkoXCJcXG5cXG5Tb3J0aW5nLi4uLlwiKSx0aGlzLnJlc3VsdHMuc29ydChlLnNvcnRGbikpfSxuLnByb3RvdHlwZS5fZm9ybWF0PWZ1bmN0aW9uKCl7dmFyIGUsdCxuLHMsbz10aGlzLm9wdGlvbnMscj1vLmdldEZuLGE9W10sYz10aGlzLnJlc3VsdHMsbD1vLmluY2x1ZGU7Zm9yKG8udmVyYm9zZSYmaShcIlxcblxcbk91dHB1dDpcXG5cXG5cIixjKSxuPW8uaWQ/ZnVuY3Rpb24oZSl7Y1tlXS5pdGVtPXIoY1tlXS5pdGVtLG8uaWQsW10pWzBdfTpmdW5jdGlvbigpe30scz1mdW5jdGlvbihlKXt2YXIgdCxpLG4scyxvLHI9Y1tlXTtpZihsLmxlbmd0aD4wKXtpZih0PXtpdGVtOnIuaXRlbX0sbC5pbmRleE9mKFwibWF0Y2hlc1wiKSE9PS0xKWZvcihuPXIub3V0cHV0LHQubWF0Y2hlcz1bXSxpPTA7aTxuLmxlbmd0aDtpKyspcz1uW2ldLG89e2luZGljZXM6cy5tYXRjaGVkSW5kaWNlc30scy5rZXkmJihvLmtleT1zLmtleSksdC5tYXRjaGVzLnB1c2gobyk7bC5pbmRleE9mKFwic2NvcmVcIikhPT0tMSYmKHQuc2NvcmU9Y1tlXS5zY29yZSl9ZWxzZSB0PXIuaXRlbTtyZXR1cm4gdH0sZT0wLHQ9Yy5sZW5ndGg7ZTx0O2UrKyluKGUpLGEucHVzaChzKGUpKTtyZXR1cm4gYX0sci5kZWZhdWx0T3B0aW9ucz17bG9jYXRpb246MCxkaXN0YW5jZToxMDAsdGhyZXNob2xkOi42LG1heFBhdHRlcm5MZW5ndGg6MzJ9LHIucHJvdG90eXBlLl9jYWxjdWxhdGVQYXR0ZXJuQWxwaGFiZXQ9ZnVuY3Rpb24oKXt2YXIgZT17fSx0PTA7Zm9yKHQ9MDt0PHRoaXMucGF0dGVybkxlbjt0KyspZVt0aGlzLnBhdHRlcm4uY2hhckF0KHQpXT0wO2Zvcih0PTA7dDx0aGlzLnBhdHRlcm5MZW47dCsrKWVbdGhpcy5wYXR0ZXJuLmNoYXJBdCh0KV18PTE8PHRoaXMucGF0dGVybi5sZW5ndGgtdC0xO3JldHVybiBlfSxyLnByb3RvdHlwZS5fYml0YXBTY29yZT1mdW5jdGlvbihlLHQpe3ZhciBpPWUvdGhpcy5wYXR0ZXJuTGVuLG49TWF0aC5hYnModGhpcy5vcHRpb25zLmxvY2F0aW9uLXQpO3JldHVybiB0aGlzLm9wdGlvbnMuZGlzdGFuY2U/aStuL3RoaXMub3B0aW9ucy5kaXN0YW5jZTpuPzE6aX0sci5wcm90b3R5cGUuc2VhcmNoPWZ1bmN0aW9uKGUpe3ZhciB0LGksbixzLG8scixhLGMsbCxoLHUsZCxmLHAsdixtLGcseSxiLEUsXyxTLEksdz10aGlzLm9wdGlvbnM7aWYoZT13LmNhc2VTZW5zaXRpdmU/ZTplLnRvTG93ZXJDYXNlKCksdGhpcy5wYXR0ZXJuPT09ZSlyZXR1cm57aXNNYXRjaDohMCxzY29yZTowLG1hdGNoZWRJbmRpY2VzOltbMCxlLmxlbmd0aC0xXV19O2lmKHRoaXMucGF0dGVybkxlbj53Lm1heFBhdHRlcm5MZW5ndGgpe2lmKHk9ZS5tYXRjaChuZXcgUmVnRXhwKHRoaXMucGF0dGVybi5yZXBsYWNlKHcudG9rZW5TZXBhcmF0b3IsXCJ8XCIpKSksYj0hIXkpZm9yKF89W10sdD0wLFM9eS5sZW5ndGg7dDxTO3QrKylJPXlbdF0sXy5wdXNoKFtlLmluZGV4T2YoSSksSS5sZW5ndGgtMV0pO3JldHVybntpc01hdGNoOmIsc2NvcmU6Yj8uNToxLG1hdGNoZWRJbmRpY2VzOl99fWZvcihzPXcuZmluZEFsbE1hdGNoZXMsbz13LmxvY2F0aW9uLG49ZS5sZW5ndGgscj13LnRocmVzaG9sZCxhPWUuaW5kZXhPZih0aGlzLnBhdHRlcm4sbyksRT1bXSx0PTA7dDxuO3QrKylFW3RdPTA7Zm9yKGEhPS0xJiYocj1NYXRoLm1pbih0aGlzLl9iaXRhcFNjb3JlKDAsYSksciksYT1lLmxhc3RJbmRleE9mKHRoaXMucGF0dGVybixvK3RoaXMucGF0dGVybkxlbiksYSE9LTEmJihyPU1hdGgubWluKHRoaXMuX2JpdGFwU2NvcmUoMCxhKSxyKSkpLGE9LTEsbT0xLGc9W10saD10aGlzLnBhdHRlcm5MZW4rbix0PTA7dDx0aGlzLnBhdHRlcm5MZW47dCsrKXtmb3IoYz0wLGw9aDtjPGw7KXRoaXMuX2JpdGFwU2NvcmUodCxvK2wpPD1yP2M9bDpoPWwsbD1NYXRoLmZsb29yKChoLWMpLzIrYyk7Zm9yKGg9bCx1PU1hdGgubWF4KDEsby1sKzEpLGQ9cz9uOk1hdGgubWluKG8rbCxuKSt0aGlzLnBhdHRlcm5MZW4sZj1BcnJheShkKzIpLGZbZCsxXT0oMTw8dCktMSxpPWQ7aT49dTtpLS0paWYodj10aGlzLnBhdHRlcm5BbHBoYWJldFtlLmNoYXJBdChpLTEpXSx2JiYoRVtpLTFdPTEpLGZbaV09KGZbaSsxXTw8MXwxKSZ2LDAhPT10JiYoZltpXXw9KHBbaSsxXXxwW2ldKTw8MXwxfHBbaSsxXSksZltpXSZ0aGlzLm1hdGNobWFzayYmKG09dGhpcy5fYml0YXBTY29yZSh0LGktMSksbTw9cikpe2lmKHI9bSxhPWktMSxnLnB1c2goYSksYTw9bylicmVhazt1PU1hdGgubWF4KDEsMipvLWEpfWlmKHRoaXMuX2JpdGFwU2NvcmUodCsxLG8pPnIpYnJlYWs7cD1mfXJldHVybiBfPXRoaXMuX2dldE1hdGNoZWRJbmRpY2VzKEUpLHtpc01hdGNoOmE+PTAsc2NvcmU6MD09PW0/LjAwMTptLG1hdGNoZWRJbmRpY2VzOl99fSxyLnByb3RvdHlwZS5fZ2V0TWF0Y2hlZEluZGljZXM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LGk9W10sbj0tMSxzPS0xLG89MCxyPWUubGVuZ3RoO288cjtvKyspdD1lW29dLHQmJm49PT0tMT9uPW86dHx8bj09PS0xfHwocz1vLTEscy1uKzE+PXRoaXMub3B0aW9ucy5taW5NYXRjaENoYXJMZW5ndGgmJmkucHVzaChbbixzXSksbj0tMSk7cmV0dXJuIGVbby0xXSYmby0xLW4rMT49dGhpcy5vcHRpb25zLm1pbk1hdGNoQ2hhckxlbmd0aCYmaS5wdXNoKFtuLG8tMV0pLGl9LGUuZXhwb3J0cz1ufSh0aGlzKX0sZnVuY3Rpb24oZSx0LGkpe3ZhciBuLHM7IWZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaSgpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2lmKG4pe3ZhciBzPXR5cGVvZiBuO2lmKFwic3RyaW5nXCI9PT1zfHxcIm51bWJlclwiPT09cyllLnB1c2gobik7ZWxzZSBpZihBcnJheS5pc0FycmF5KG4pKWUucHVzaChpLmFwcGx5KG51bGwsbikpO2Vsc2UgaWYoXCJvYmplY3RcIj09PXMpZm9yKHZhciByIGluIG4pby5jYWxsKG4scikmJm5bcl0mJmUucHVzaChyKX19cmV0dXJuIGUuam9pbihcIiBcIil9dmFyIG89e30uaGFzT3duUHJvcGVydHk7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUmJmUuZXhwb3J0cz9lLmV4cG9ydHM9aToobj1bXSxzPWZ1bmN0aW9uKCl7cmV0dXJuIGl9LmFwcGx5KHQsbiksISh2b2lkIDAhPT1zJiYoZS5leHBvcnRzPXMpKSl9KCl9LGZ1bmN0aW9uKGUsdCxpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiBzKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgdD0wLGk9QXJyYXkoZS5sZW5ndGgpO3Q8ZS5sZW5ndGg7dCsrKWlbdF09ZVt0XTtyZXR1cm4gaX1yZXR1cm4gQXJyYXkuZnJvbShlKX1mdW5jdGlvbiBvKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIG49dFtpXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LGksbil7cmV0dXJuIGkmJmUodC5wcm90b3R5cGUsaSksbiYmZSh0LG4pLHR9fSgpLGE9aSg1KSxjPWkoMjYpLGw9bihjKSxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe28odGhpcyxlKSx0aGlzLnN0b3JlPSgwLGEuY3JlYXRlU3RvcmUpKGwuZGVmYXVsdCx3aW5kb3cuZGV2VG9vbHNFeHRlbnNpb24/d2luZG93LmRldlRvb2xzRXh0ZW5zaW9uKCk6dm9pZCAwKX1yZXR1cm4gcihlLFt7a2V5OlwiZ2V0U3RhdGVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0b3JlLmdldFN0YXRlKCl9fSx7a2V5OlwiZGlzcGF0Y2hcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnN0b3JlLmRpc3BhdGNoKGUpfX0se2tleTpcInN1YnNjcmliZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuc3RvcmUuc3Vic2NyaWJlKGUpfX0se2tleTpcImlzTG9hZGluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zdG9yZS5nZXRTdGF0ZSgpO3JldHVybiBlLmdlbmVyYWwubG9hZGluZ319LHtrZXk6XCJnZXRJdGVtc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zdG9yZS5nZXRTdGF0ZSgpO3JldHVybiBlLml0ZW1zfX0se2tleTpcImdldEl0ZW1zRmlsdGVyZWRCeUFjdGl2ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRJdGVtcygpLHQ9ZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWN0aXZlPT09ITB9LFtdKTtyZXR1cm4gdH19LHtrZXk6XCJnZXRJdGVtc1JlZHVjZWRUb1ZhbHVlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnRoaXMuZ2V0SXRlbXMoKSx0PWUucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUucHVzaCh0LnZhbHVlKSxlfSxbXSk7cmV0dXJuIHR9fSx7a2V5OlwiZ2V0Q2hvaWNlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zdG9yZS5nZXRTdGF0ZSgpO3JldHVybiBlLmNob2ljZXN9fSx7a2V5OlwiZ2V0Q2hvaWNlc0ZpbHRlcmVkQnlBY3RpdmVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0Q2hvaWNlcygpLHQ9ZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWN0aXZlPT09ITB9KTtyZXR1cm4gdH19LHtrZXk6XCJnZXRDaG9pY2VzRmlsdGVyZWRCeVNlbGVjdGFibGVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0Q2hvaWNlcygpLHQ9ZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGlzYWJsZWQhPT0hMH0pO3JldHVybiB0fX0se2tleTpcImdldFNlYXJjaGFibGVDaG9pY2VzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldENob2ljZXNGaWx0ZXJlZEJ5U2VsZWN0YWJsZSgpO3JldHVybiBlLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS5wbGFjZWhvbGRlciE9PSEwfSl9fSx7a2V5OlwiZ2V0Q2hvaWNlQnlJZFwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKGUpe3ZhciB0PXRoaXMuZ2V0Q2hvaWNlc0ZpbHRlcmVkQnlBY3RpdmUoKSxpPXQuZmluZChmdW5jdGlvbih0KXtyZXR1cm4gdC5pZD09PXBhcnNlSW50KGUsMTApfSk7cmV0dXJuIGl9cmV0dXJuITF9fSx7a2V5OlwiZ2V0R3JvdXBzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnN0b3JlLmdldFN0YXRlKCk7cmV0dXJuIGUuZ3JvdXBzfX0se2tleTpcImdldEdyb3Vwc0ZpbHRlcmVkQnlBY3RpdmVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0R3JvdXBzKCksdD10aGlzLmdldENob2ljZXMoKSxpPWUuZmlsdGVyKGZ1bmN0aW9uKGUpe3ZhciBpPWUuYWN0aXZlPT09ITAmJmUuZGlzYWJsZWQ9PT0hMSxuPXQuc29tZShmdW5jdGlvbihlKXtyZXR1cm4gZS5hY3RpdmU9PT0hMCYmZS5kaXNhYmxlZD09PSExfSk7cmV0dXJuIGkmJm59LFtdKTtyZXR1cm4gaX19LHtrZXk6XCJnZXRHcm91cEJ5SWRcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldEdyb3VwcygpLGk9dC5maW5kKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkPT09ZX0pO3JldHVybiBpfX0se2tleTpcImdldFBsYWNlaG9sZGVyQ2hvaWNlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldENob2ljZXMoKSx0PVtdLmNvbmNhdChzKGUpKS5yZXZlcnNlKCkuZmluZChmdW5jdGlvbihlKXtyZXR1cm4gZS5wbGFjZWhvbGRlcj09PSEwfSk7cmV0dXJuIHR9fV0pLGV9KCk7dC5kZWZhdWx0PWgsZS5leHBvcnRzPWh9LGZ1bmN0aW9uKGUsdCxpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX10Ll9fZXNNb2R1bGU9ITAsdC5jb21wb3NlPXQuYXBwbHlNaWRkbGV3YXJlPXQuYmluZEFjdGlvbkNyZWF0b3JzPXQuY29tYmluZVJlZHVjZXJzPXQuY3JlYXRlU3RvcmU9dm9pZCAwO3ZhciBzPWkoNiksbz1uKHMpLHI9aSgyMSksYT1uKHIpLGM9aSgyMyksbD1uKGMpLGg9aSgyNCksdT1uKGgpLGQ9aSgyNSksZj1uKGQpLHA9aSgyMik7bihwKTt0LmNyZWF0ZVN0b3JlPW8uZGVmYXVsdCx0LmNvbWJpbmVSZWR1Y2Vycz1hLmRlZmF1bHQsdC5iaW5kQWN0aW9uQ3JlYXRvcnM9bC5kZWZhdWx0LHQuYXBwbHlNaWRkbGV3YXJlPXUuZGVmYXVsdCx0LmNvbXBvc2U9Zi5kZWZhdWx0fSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gcyhlLHQsaSl7ZnVuY3Rpb24gbigpe2c9PT1tJiYoZz1tLnNsaWNlKCkpfWZ1bmN0aW9uIG8oKXtyZXR1cm4gdn1mdW5jdGlvbiBhKGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgbGlzdGVuZXIgdG8gYmUgYSBmdW5jdGlvbi5cIik7dmFyIHQ9ITA7cmV0dXJuIG4oKSxnLnB1c2goZSksZnVuY3Rpb24oKXtpZih0KXt0PSExLG4oKTt2YXIgaT1nLmluZGV4T2YoZSk7Zy5zcGxpY2UoaSwxKX19fWZ1bmN0aW9uIGgoZSl7aWYoISgwLHIuZGVmYXVsdCkoZSkpdGhyb3cgbmV3IEVycm9yKFwiQWN0aW9ucyBtdXN0IGJlIHBsYWluIG9iamVjdHMuIFVzZSBjdXN0b20gbWlkZGxld2FyZSBmb3IgYXN5bmMgYWN0aW9ucy5cIik7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGUudHlwZSl0aHJvdyBuZXcgRXJyb3IoJ0FjdGlvbnMgbWF5IG5vdCBoYXZlIGFuIHVuZGVmaW5lZCBcInR5cGVcIiBwcm9wZXJ0eS4gSGF2ZSB5b3UgbWlzc3BlbGxlZCBhIGNvbnN0YW50PycpO2lmKHkpdGhyb3cgbmV3IEVycm9yKFwiUmVkdWNlcnMgbWF5IG5vdCBkaXNwYXRjaCBhY3Rpb25zLlwiKTt0cnl7eT0hMCx2PXAodixlKX1maW5hbGx5e3k9ITF9Zm9yKHZhciB0PW09ZyxpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBuPXRbaV07bigpfXJldHVybiBlfWZ1bmN0aW9uIHUoZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3RlZCB0aGUgbmV4dFJlZHVjZXIgdG8gYmUgYSBmdW5jdGlvbi5cIik7cD1lLGgoe3R5cGU6bC5JTklUfSl9ZnVuY3Rpb24gZCgpe3ZhciBlLHQ9YTtyZXR1cm4gZT17c3Vic2NyaWJlOmZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGkoKXtlLm5leHQmJmUubmV4dChvKCkpfWlmKFwib2JqZWN0XCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJFeHBlY3RlZCB0aGUgb2JzZXJ2ZXIgdG8gYmUgYW4gb2JqZWN0LlwiKTtpKCk7dmFyIG49dChpKTtyZXR1cm57dW5zdWJzY3JpYmU6bn19fSxlW2MuZGVmYXVsdF09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sZX12YXIgZjtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZcInVuZGVmaW5lZFwiPT10eXBlb2YgaSYmKGk9dCx0PXZvaWQgMCksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGkpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGkpdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgdGhlIGVuaGFuY2VyIHRvIGJlIGEgZnVuY3Rpb24uXCIpO3JldHVybiBpKHMpKGUsdCl9aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3RlZCB0aGUgcmVkdWNlciB0byBiZSBhIGZ1bmN0aW9uLlwiKTt2YXIgcD1lLHY9dCxtPVtdLGc9bSx5PSExO3JldHVybiBoKHt0eXBlOmwuSU5JVH0pLGY9e2Rpc3BhdGNoOmgsc3Vic2NyaWJlOmEsZ2V0U3RhdGU6byxyZXBsYWNlUmVkdWNlcjp1fSxmW2MuZGVmYXVsdF09ZCxmfXQuX19lc01vZHVsZT0hMCx0LkFjdGlvblR5cGVzPXZvaWQgMCx0LmRlZmF1bHQ9czt2YXIgbz1pKDcpLHI9bihvKSxhPWkoMTcpLGM9bihhKSxsPXQuQWN0aW9uVHlwZXM9e0lOSVQ6XCJAQHJlZHV4L0lOSVRcIn19LGZ1bmN0aW9uKGUsdCxpKXtmdW5jdGlvbiBuKGUpe2lmKCFyKGUpfHxzKGUpIT1hKXJldHVybiExO3ZhciB0PW8oZSk7aWYobnVsbD09PXQpcmV0dXJuITA7dmFyIGk9dS5jYWxsKHQsXCJjb25zdHJ1Y3RvclwiKSYmdC5jb25zdHJ1Y3RvcjtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBpJiZpIGluc3RhbmNlb2YgaSYmaC5jYWxsKGkpPT1kfXZhciBzPWkoOCksbz1pKDE0KSxyPWkoMTYpLGE9XCJbb2JqZWN0IE9iamVjdF1cIixjPUZ1bmN0aW9uLnByb3RvdHlwZSxsPU9iamVjdC5wcm90b3R5cGUsaD1jLnRvU3RyaW5nLHU9bC5oYXNPd25Qcm9wZXJ0eSxkPWguY2FsbChPYmplY3QpO2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQsaSl7ZnVuY3Rpb24gbihlKXtyZXR1cm4gbnVsbD09ZT92b2lkIDA9PT1lP2M6YTpsJiZsIGluIE9iamVjdChlKT9vKGUpOnIoZSl9dmFyIHM9aSg5KSxvPWkoMTIpLHI9aSgxMyksYT1cIltvYmplY3QgTnVsbF1cIixjPVwiW29iamVjdCBVbmRlZmluZWRdXCIsbD1zP3MudG9TdHJpbmdUYWc6dm9pZCAwO2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQsaSl7dmFyIG49aSgxMCkscz1uLlN5bWJvbDtlLmV4cG9ydHM9c30sZnVuY3Rpb24oZSx0LGkpe3ZhciBuPWkoMTEpLHM9XCJvYmplY3RcIj09dHlwZW9mIHNlbGYmJnNlbGYmJnNlbGYuT2JqZWN0PT09T2JqZWN0JiZzZWxmLG89bnx8c3x8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO2UuZXhwb3J0cz1vfSxmdW5jdGlvbihlLHQpeyhmdW5jdGlvbih0KXt2YXIgaT1cIm9iamVjdFwiPT10eXBlb2YgdCYmdCYmdC5PYmplY3Q9PT1PYmplY3QmJnQ7ZS5leHBvcnRzPWl9KS5jYWxsKHQsZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKSl9LGZ1bmN0aW9uKGUsdCxpKXtmdW5jdGlvbiBuKGUpe3ZhciB0PXIuY2FsbChlLGMpLGk9ZVtjXTt0cnl7ZVtjXT12b2lkIDA7dmFyIG49ITB9Y2F0Y2goZSl7fXZhciBzPWEuY2FsbChlKTtyZXR1cm4gbiYmKHQ/ZVtjXT1pOmRlbGV0ZSBlW2NdKSxzfXZhciBzPWkoOSksbz1PYmplY3QucHJvdG90eXBlLHI9by5oYXNPd25Qcm9wZXJ0eSxhPW8udG9TdHJpbmcsYz1zP3MudG9TdHJpbmdUYWc6dm9pZCAwO2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIGkoZSl7cmV0dXJuIHMuY2FsbChlKX12YXIgbj1PYmplY3QucHJvdG90eXBlLHM9bi50b1N0cmluZztlLmV4cG9ydHM9aX0sZnVuY3Rpb24oZSx0LGkpe3ZhciBuPWkoMTUpLHM9bihPYmplY3QuZ2V0UHJvdG90eXBlT2YsT2JqZWN0KTtlLmV4cG9ydHM9c30sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBpKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiBlKHQoaSkpfX1lLmV4cG9ydHM9aX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBpKGUpe3JldHVybiBudWxsIT1lJiZcIm9iamVjdFwiPT10eXBlb2YgZX1lLmV4cG9ydHM9aX0sZnVuY3Rpb24oZSx0LGkpe2UuZXhwb3J0cz1pKDE4KX0sZnVuY3Rpb24oZSx0LGkpeyhmdW5jdGlvbihlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHMoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvLHI9aSgyMCksYT1zKHIpO289XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2YgZT9lOm47dmFyIGM9KDAsYS5kZWZhdWx0KShvKTt0LmRlZmF1bHQ9Y30pLmNhbGwodCxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpLGkoMTkpKGUpKX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUud2VicGFja1BvbHlmaWxsfHwoZS5kZXByZWNhdGU9ZnVuY3Rpb24oKXt9LGUucGF0aHM9W10sZS5jaGlsZHJlbj1bXSxlLndlYnBhY2tQb2x5ZmlsbD0xKSxlfX0sZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUpe3ZhciB0LGk9ZS5TeW1ib2w7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgaT9pLm9ic2VydmFibGU/dD1pLm9ic2VydmFibGU6KHQ9aShcIm9ic2VydmFibGVcIiksaS5vYnNlcnZhYmxlPXQpOnQ9XCJAQG9ic2VydmFibGVcIix0fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1pfSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gcyhlLHQpe3ZhciBpPXQmJnQudHlwZSxuPWkmJidcIicraS50b1N0cmluZygpKydcIid8fFwiYW4gYWN0aW9uXCI7cmV0dXJuXCJHaXZlbiBhY3Rpb24gXCIrbisnLCByZWR1Y2VyIFwiJytlKydcIiByZXR1cm5lZCB1bmRlZmluZWQuIFRvIGlnbm9yZSBhbiBhY3Rpb24sIHlvdSBtdXN0IGV4cGxpY2l0bHkgcmV0dXJuIHRoZSBwcmV2aW91cyBzdGF0ZS4gSWYgeW91IHdhbnQgdGhpcyByZWR1Y2VyIHRvIGhvbGQgbm8gdmFsdWUsIHlvdSBjYW4gcmV0dXJuIG51bGwgaW5zdGVhZCBvZiB1bmRlZmluZWQuJ31mdW5jdGlvbiBvKGUpe09iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGk9ZVt0XSxuPWkodm9pZCAwLHt0eXBlOmEuQWN0aW9uVHlwZXMuSU5JVH0pO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBuKXRocm93IG5ldyBFcnJvcignUmVkdWNlciBcIicrdCtcIlxcXCIgcmV0dXJuZWQgdW5kZWZpbmVkIGR1cmluZyBpbml0aWFsaXphdGlvbi4gSWYgdGhlIHN0YXRlIHBhc3NlZCB0byB0aGUgcmVkdWNlciBpcyB1bmRlZmluZWQsIHlvdSBtdXN0IGV4cGxpY2l0bHkgcmV0dXJuIHRoZSBpbml0aWFsIHN0YXRlLiBUaGUgaW5pdGlhbCBzdGF0ZSBtYXkgbm90IGJlIHVuZGVmaW5lZC4gSWYgeW91IGRvbid0IHdhbnQgdG8gc2V0IGEgdmFsdWUgZm9yIHRoaXMgcmVkdWNlciwgeW91IGNhbiB1c2UgbnVsbCBpbnN0ZWFkIG9mIHVuZGVmaW5lZC5cIik7dmFyIHM9XCJAQHJlZHV4L1BST0JFX1VOS05PV05fQUNUSU9OX1wiK01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZyg3KS5zcGxpdChcIlwiKS5qb2luKFwiLlwiKTtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgaSh2b2lkIDAse3R5cGU6c30pKXRocm93IG5ldyBFcnJvcignUmVkdWNlciBcIicrdCsnXCIgcmV0dXJuZWQgdW5kZWZpbmVkIHdoZW4gcHJvYmVkIHdpdGggYSByYW5kb20gdHlwZS4gJysoXCJEb24ndCB0cnkgdG8gaGFuZGxlIFwiK2EuQWN0aW9uVHlwZXMuSU5JVCsnIG9yIG90aGVyIGFjdGlvbnMgaW4gXCJyZWR1eC8qXCIgJykrXCJuYW1lc3BhY2UuIFRoZXkgYXJlIGNvbnNpZGVyZWQgcHJpdmF0ZS4gSW5zdGVhZCwgeW91IG11c3QgcmV0dXJuIHRoZSBjdXJyZW50IHN0YXRlIGZvciBhbnkgdW5rbm93biBhY3Rpb25zLCB1bmxlc3MgaXQgaXMgdW5kZWZpbmVkLCBpbiB3aGljaCBjYXNlIHlvdSBtdXN0IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZSwgcmVnYXJkbGVzcyBvZiB0aGUgYWN0aW9uIHR5cGUuIFRoZSBpbml0aWFsIHN0YXRlIG1heSBub3QgYmUgdW5kZWZpbmVkLCBidXQgY2FuIGJlIG51bGwuXCIpfSl9ZnVuY3Rpb24gcihlKXtmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksaT17fSxuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl07XCJmdW5jdGlvblwiPT10eXBlb2YgZVtyXSYmKGlbcl09ZVtyXSl9dmFyIGE9T2JqZWN0LmtleXMoaSksYz12b2lkIDA7dHJ5e28oaSl9Y2F0Y2goZSl7Yz1lfXJldHVybiBmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWFyZ3VtZW50c1sxXTtpZihjKXRocm93IGM7Zm9yKHZhciBuPSExLG89e30scj0wO3I8YS5sZW5ndGg7cisrKXt2YXIgbD1hW3JdLGg9aVtsXSx1PWVbbF0sZD1oKHUsdCk7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGQpe3ZhciBmPXMobCx0KTt0aHJvdyBuZXcgRXJyb3IoZil9b1tsXT1kLG49bnx8ZCE9PXV9cmV0dXJuIG4/bzplfX10Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PXI7dmFyIGE9aSg2KSxjPWkoNyksbD0obihjKSxpKDIyKSk7bihsKX0sZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBjb25zb2xlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBjb25zb2xlLmVycm9yJiZjb25zb2xlLmVycm9yKGUpO3RyeXt0aHJvdyBuZXcgRXJyb3IoZSl9Y2F0Y2goZSl7fX10Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PWl9LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlLHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0KGUuYXBwbHkodm9pZCAwLGFyZ3VtZW50cykpfX1mdW5jdGlvbiBuKGUsdCl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZSlyZXR1cm4gaShlLHQpO2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSl0aHJvdyBuZXcgRXJyb3IoXCJiaW5kQWN0aW9uQ3JlYXRvcnMgZXhwZWN0ZWQgYW4gb2JqZWN0IG9yIGEgZnVuY3Rpb24sIGluc3RlYWQgcmVjZWl2ZWQgXCIrKG51bGw9PT1lP1wibnVsbFwiOnR5cGVvZiBlKSsnLiBEaWQgeW91IHdyaXRlIFwiaW1wb3J0IEFjdGlvbkNyZWF0b3JzIGZyb21cIiBpbnN0ZWFkIG9mIFwiaW1wb3J0ICogYXMgQWN0aW9uQ3JlYXRvcnMgZnJvbVwiPycpO2Zvcih2YXIgbj1PYmplY3Qua2V5cyhlKSxzPXt9LG89MDtvPG4ubGVuZ3RoO28rKyl7dmFyIHI9bltvXSxhPWVbcl07XCJmdW5jdGlvblwiPT10eXBlb2YgYSYmKHNbcl09aShhLHQpKX1yZXR1cm4gc310Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PW59LGZ1bmN0aW9uKGUsdCxpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiBzKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1BcnJheShlKSxpPTA7aTxlO2krKyl0W2ldPWFyZ3VtZW50c1tpXTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGksbixzKXt2YXIgcj1lKGksbixzKSxjPXIuZGlzcGF0Y2gsbD1bXSxoPXtnZXRTdGF0ZTpyLmdldFN0YXRlLGRpc3BhdGNoOmZ1bmN0aW9uKGUpe3JldHVybiBjKGUpfX07cmV0dXJuIGw9dC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUoaCl9KSxjPWEuZGVmYXVsdC5hcHBseSh2b2lkIDAsbCkoci5kaXNwYXRjaCksbyh7fSxyLHtkaXNwYXRjaDpjfSl9fX10Ll9fZXNNb2R1bGU9ITA7dmFyIG89T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9YXJndW1lbnRzW3RdO2Zvcih2YXIgbiBpbiBpKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpLG4pJiYoZVtuXT1pW25dKX1yZXR1cm4gZX07dC5kZWZhdWx0PXM7dmFyIHI9aSgyNSksYT1uKHIpfSxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PUFycmF5KGUpLGk9MDtpPGU7aSsrKXRbaV09YXJndW1lbnRzW2ldO3JldHVybiAwPT09dC5sZW5ndGg/ZnVuY3Rpb24oZSl7cmV0dXJuIGV9OjE9PT10Lmxlbmd0aD90WzBdOnQucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodC5hcHBseSh2b2lkIDAsYXJndW1lbnRzKSl9fSl9dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD1pfSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHM9aSg1KSxvPWkoMjcpLHI9bihvKSxhPWkoMjgpLGM9bihhKSxsPWkoMjkpLGg9bihsKSx1PWkoMzApLGQ9bih1KSxmPSgwLHMuY29tYmluZVJlZHVjZXJzKSh7aXRlbXM6ci5kZWZhdWx0LGdyb3VwczpjLmRlZmF1bHQsY2hvaWNlczpoLmRlZmF1bHQsZ2VuZXJhbDpkLmRlZmF1bHR9KSxwPWZ1bmN0aW9uKGUsdCl7dmFyIGk9ZTtyZXR1cm5cIkNMRUFSX0FMTFwiPT09dC50eXBlJiYoaT12b2lkIDApLGYoaSx0KX07dC5kZWZhdWx0PXB9LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlKXtpZihBcnJheS5pc0FycmF5KGUpKXtmb3IodmFyIHQ9MCxpPUFycmF5KGUubGVuZ3RoKTt0PGUubGVuZ3RoO3QrKylpW3RdPWVbdF07cmV0dXJuIGl9cmV0dXJuIEFycmF5LmZyb20oZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06W10sdD1hcmd1bWVudHNbMV07c3dpdGNoKHQudHlwZSl7Y2FzZVwiQUREX0lURU1cIjp2YXIgbj1bXS5jb25jYXQoaShlKSxbe2lkOnQuaWQsY2hvaWNlSWQ6dC5jaG9pY2VJZCxncm91cElkOnQuZ3JvdXBJZCx2YWx1ZTp0LnZhbHVlLGxhYmVsOnQubGFiZWwsYWN0aXZlOiEwLGhpZ2hsaWdodGVkOiExLGN1c3RvbVByb3BlcnRpZXM6dC5jdXN0b21Qcm9wZXJ0aWVzLHBsYWNlaG9sZGVyOnQucGxhY2Vob2xkZXJ8fCExLGtleUNvZGU6bnVsbH1dKTtyZXR1cm4gbi5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaGlnaGxpZ2h0ZWQmJihlLmhpZ2hsaWdodGVkPSExKSxlfSk7Y2FzZVwiUkVNT1ZFX0lURU1cIjpyZXR1cm4gZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWQ9PT10LmlkJiYoZS5hY3RpdmU9ITEpLGV9KTtjYXNlXCJISUdITElHSFRfSVRFTVwiOnJldHVybiBlLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5pZD09PXQuaWQmJihlLmhpZ2hsaWdodGVkPXQuaGlnaGxpZ2h0ZWQpLGV9KTtkZWZhdWx0OnJldHVybiBlfX07dC5kZWZhdWx0PW59LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlKXtpZihBcnJheS5pc0FycmF5KGUpKXtmb3IodmFyIHQ9MCxpPUFycmF5KGUubGVuZ3RoKTt0PGUubGVuZ3RoO3QrKylpW3RdPWVbdF07cmV0dXJuIGl9cmV0dXJuIEFycmF5LmZyb20oZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06W10sdD1hcmd1bWVudHNbMV07c3dpdGNoKHQudHlwZSl7Y2FzZVwiQUREX0dST1VQXCI6cmV0dXJuW10uY29uY2F0KGkoZSksW3tpZDp0LmlkLHZhbHVlOnQudmFsdWUsYWN0aXZlOnQuYWN0aXZlLGRpc2FibGVkOnQuZGlzYWJsZWR9XSk7Y2FzZVwiQ0xFQVJfQ0hPSUNFU1wiOnJldHVybiBlLmdyb3Vwcz1bXTtkZWZhdWx0OnJldHVybiBlfX07dC5kZWZhdWx0PW59LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlKXtpZihBcnJheS5pc0FycmF5KGUpKXtmb3IodmFyIHQ9MCxpPUFycmF5KGUubGVuZ3RoKTt0PGUubGVuZ3RoO3QrKylpW3RdPWVbdF07cmV0dXJuIGl9cmV0dXJuIEFycmF5LmZyb20oZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06W10sdD1hcmd1bWVudHNbMV07c3dpdGNoKHQudHlwZSl7Y2FzZVwiQUREX0NIT0lDRVwiOnJldHVybltdLmNvbmNhdChpKGUpLFt7aWQ6dC5pZCxlbGVtZW50SWQ6dC5lbGVtZW50SWQsZ3JvdXBJZDp0Lmdyb3VwSWQsdmFsdWU6dC52YWx1ZSxsYWJlbDp0LmxhYmVsfHx0LnZhbHVlLGRpc2FibGVkOnQuZGlzYWJsZWR8fCExLHNlbGVjdGVkOiExLGFjdGl2ZTohMCxzY29yZTo5OTk5LGN1c3RvbVByb3BlcnRpZXM6dC5jdXN0b21Qcm9wZXJ0aWVzLHBsYWNlaG9sZGVyOnQucGxhY2Vob2xkZXJ8fCExLGtleUNvZGU6bnVsbH1dKTtjYXNlXCJBRERfSVRFTVwiOnZhciBuPWU7cmV0dXJuIHQuYWN0aXZhdGVPcHRpb25zJiYobj1lLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5hY3RpdmU9dC5hY3RpdmUsZX0pKSx0LmNob2ljZUlkPi0xJiYobj1lLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5pZD09PXBhcnNlSW50KHQuY2hvaWNlSWQsMTApJiYoZS5zZWxlY3RlZD0hMCksZX0pKSxuO2Nhc2VcIlJFTU9WRV9JVEVNXCI6cmV0dXJuIHQuY2hvaWNlSWQ+LTE/ZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWQ9PT1wYXJzZUludCh0LmNob2ljZUlkLDEwKSYmKGUuc2VsZWN0ZWQ9ITEpLGV9KTplO2Nhc2VcIkZJTFRFUl9DSE9JQ0VTXCI6dmFyIHM9dC5yZXN1bHRzLG89ZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWN0aXZlPXMuc29tZShmdW5jdGlvbih0KXtyZXR1cm4gdC5pdGVtLmlkPT09ZS5pZCYmKGUuc2NvcmU9dC5zY29yZSwhMCl9KSxlfSk7cmV0dXJuIG87Y2FzZVwiQUNUSVZBVEVfQ0hPSUNFU1wiOnJldHVybiBlLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5hY3RpdmU9dC5hY3RpdmUsZX0pO2Nhc2VcIkNMRUFSX0NIT0lDRVNcIjpyZXR1cm4gZS5jaG9pY2VzPVtdO2RlZmF1bHQ6cmV0dXJuIGV9fTt0LmRlZmF1bHQ9bn0sZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7bG9hZGluZzohMX0sdD1hcmd1bWVudHNbMV07c3dpdGNoKHQudHlwZSl7Y2FzZVwiTE9BRElOR1wiOnJldHVybntsb2FkaW5nOnQuaXNMb2FkaW5nfTtkZWZhdWx0OnJldHVybiBlfX07dC5kZWZhdWx0PWl9LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dC5hZGRJdGVtPWZ1bmN0aW9uKGUsdCxpLG4scyxvLHIsYSl7cmV0dXJue3R5cGU6XCJBRERfSVRFTVwiLHZhbHVlOmUsbGFiZWw6dCxpZDppLGNob2ljZUlkOm4sZ3JvdXBJZDpzLGN1c3RvbVByb3BlcnRpZXM6byxwbGFjZWhvbGRlcjpyLGtleUNvZGU6YX19LHQucmVtb3ZlSXRlbT1mdW5jdGlvbihlLHQpe3JldHVybnt0eXBlOlwiUkVNT1ZFX0lURU1cIixpZDplLGNob2ljZUlkOnR9fSx0LmhpZ2hsaWdodEl0ZW09ZnVuY3Rpb24oZSx0KXtyZXR1cm57dHlwZTpcIkhJR0hMSUdIVF9JVEVNXCIsaWQ6ZSxoaWdobGlnaHRlZDp0fX0sdC5hZGRDaG9pY2U9ZnVuY3Rpb24oZSx0LGksbixzLG8scixhLGMpe3JldHVybnt0eXBlOlwiQUREX0NIT0lDRVwiLHZhbHVlOmUsbGFiZWw6dCxpZDppLGdyb3VwSWQ6bixkaXNhYmxlZDpzLGVsZW1lbnRJZDpvLGN1c3RvbVByb3BlcnRpZXM6cixwbGFjZWhvbGRlcjphLGtleUNvZGU6Y319LHQuZmlsdGVyQ2hvaWNlcz1mdW5jdGlvbihlKXtyZXR1cm57dHlwZTpcIkZJTFRFUl9DSE9JQ0VTXCIscmVzdWx0czplfX0sdC5hY3RpdmF0ZUNob2ljZXM9ZnVuY3Rpb24oKXt2YXIgZT0hKGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdKXx8YXJndW1lbnRzWzBdO3JldHVybnt0eXBlOlwiQUNUSVZBVEVfQ0hPSUNFU1wiLGFjdGl2ZTplfX0sdC5jbGVhckNob2ljZXM9ZnVuY3Rpb24oKXtyZXR1cm57dHlwZTpcIkNMRUFSX0NIT0lDRVNcIn19LHQuYWRkR3JvdXA9ZnVuY3Rpb24oZSx0LGksbil7cmV0dXJue3R5cGU6XCJBRERfR1JPVVBcIix2YWx1ZTplLGlkOnQsYWN0aXZlOmksZGlzYWJsZWQ6bn19LHQuY2xlYXJBbGw9ZnVuY3Rpb24oKXtyZXR1cm57dHlwZTpcIkNMRUFSX0FMTFwifX0sdC5zZXRJc0xvYWRpbmc9ZnVuY3Rpb24oZSl7cmV0dXJue3R5cGU6XCJMT0FESU5HXCIsaXNMb2FkaW5nOmV9fX0sZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSxuPSh0LmNhcGl0YWxpc2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvXFx3XFxTKi9nLGZ1bmN0aW9uKGUpe3JldHVybiBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Uuc3Vic3RyKDEpLnRvTG93ZXJDYXNlKCl9KX0sdC5nZW5lcmF0ZUNoYXJzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1cIlwiLGk9MDtpPGU7aSsrKXt2YXIgbj1hKDAsMzYpO3QrPW4udG9TdHJpbmcoMzYpfXJldHVybiB0fSkscz0odC5nZW5lcmF0ZUlkPWZ1bmN0aW9uKGUsdCl7dmFyIGk9ZS5pZHx8ZS5uYW1lJiZlLm5hbWUrXCItXCIrbigyKXx8big0KTtyZXR1cm4gaT1pLnJlcGxhY2UoLyg6fFxcLnxcXFt8XFxdfCwpL2csXCJcIiksaT10K2l9LHQuZ2V0VHlwZT1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpfSksbz10LmlzVHlwZT1mdW5jdGlvbihlLHQpe3ZhciBpPXModCk7XG5yZXR1cm4gdm9pZCAwIT09dCYmbnVsbCE9PXQmJmk9PT1lfSxyPSh0LmlzTm9kZT1mdW5jdGlvbihlKXtyZXR1cm5cIm9iamVjdFwiPT09KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBOb2RlP1widW5kZWZpbmVkXCI6aShOb2RlKSk/ZSBpbnN0YW5jZW9mIE5vZGU6ZSYmXCJvYmplY3RcIj09PShcInVuZGVmaW5lZFwiPT10eXBlb2YgZT9cInVuZGVmaW5lZFwiOmkoZSkpJiZcIm51bWJlclwiPT10eXBlb2YgZS5ub2RlVHlwZSYmXCJzdHJpbmdcIj09dHlwZW9mIGUubm9kZU5hbWV9LHQuaXNFbGVtZW50PWZ1bmN0aW9uKGUpe3JldHVyblwib2JqZWN0XCI9PT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIEhUTUxFbGVtZW50P1widW5kZWZpbmVkXCI6aShIVE1MRWxlbWVudCkpP2UgaW5zdGFuY2VvZiBIVE1MRWxlbWVudDplJiZcIm9iamVjdFwiPT09KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBlP1widW5kZWZpbmVkXCI6aShlKSkmJm51bGwhPT1lJiYxPT09ZS5ub2RlVHlwZSYmXCJzdHJpbmdcIj09dHlwZW9mIGUubm9kZU5hbWV9LHQuZXh0ZW5kPWZ1bmN0aW9uIGUoKXtmb3IodmFyIHQ9e30saT1hcmd1bWVudHMubGVuZ3RoLG49ZnVuY3Rpb24oaSl7Zm9yKHZhciBuIGluIGkpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGksbikmJihvKFwiT2JqZWN0XCIsaVtuXSk/dFtuXT1lKCEwLHRbbl0saVtuXSk6dFtuXT1pW25dKX0scz0wO3M8aTtzKyspe3ZhciByPWFyZ3VtZW50c1tzXTtvKFwiT2JqZWN0XCIscikmJm4ocil9cmV0dXJuIHR9LHQud2hpY2hUcmFuc2l0aW9uRXZlbnQ9ZnVuY3Rpb24oKXt2YXIgZSx0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmYWtlZWxlbWVudFwiKSxpPXt0cmFuc2l0aW9uOlwidHJhbnNpdGlvbmVuZFwiLE9UcmFuc2l0aW9uOlwib1RyYW5zaXRpb25FbmRcIixNb3pUcmFuc2l0aW9uOlwidHJhbnNpdGlvbmVuZFwiLFdlYmtpdFRyYW5zaXRpb246XCJ3ZWJraXRUcmFuc2l0aW9uRW5kXCJ9O2ZvcihlIGluIGkpaWYodm9pZCAwIT09dC5zdHlsZVtlXSlyZXR1cm4gaVtlXX0sdC53aGljaEFuaW1hdGlvbkV2ZW50PWZ1bmN0aW9uKCl7dmFyIGUsdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZmFrZWVsZW1lbnRcIiksaT17YW5pbWF0aW9uOlwiYW5pbWF0aW9uZW5kXCIsT0FuaW1hdGlvbjpcIm9BbmltYXRpb25FbmRcIixNb3pBbmltYXRpb246XCJhbmltYXRpb25lbmRcIixXZWJraXRBbmltYXRpb246XCJ3ZWJraXRBbmltYXRpb25FbmRcIn07Zm9yKGUgaW4gaSlpZih2b2lkIDAhPT10LnN0eWxlW2VdKXJldHVybiBpW2VdfSksYT0odC5nZXRQYXJlbnRzVW50aWw9ZnVuY3Rpb24oZSx0LGkpe2Zvcih2YXIgbj1bXTtlJiZlIT09ZG9jdW1lbnQ7ZT1lLnBhcmVudE5vZGUpe2lmKHQpe3ZhciBzPXQuY2hhckF0KDApO2lmKFwiLlwiPT09cyYmZS5jbGFzc0xpc3QuY29udGFpbnModC5zdWJzdHIoMSkpKWJyZWFrO2lmKFwiI1wiPT09cyYmZS5pZD09PXQuc3Vic3RyKDEpKWJyZWFrO2lmKFwiW1wiPT09cyYmZS5oYXNBdHRyaWJ1dGUodC5zdWJzdHIoMSx0Lmxlbmd0aC0xKSkpYnJlYWs7aWYoZS50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PT10KWJyZWFrfWlmKGkpe3ZhciBvPWkuY2hhckF0KDApO1wiLlwiPT09byYmZS5jbGFzc0xpc3QuY29udGFpbnMoaS5zdWJzdHIoMSkpJiZuLnB1c2goZSksXCIjXCI9PT1vJiZlLmlkPT09aS5zdWJzdHIoMSkmJm4ucHVzaChlKSxcIltcIj09PW8mJmUuaGFzQXR0cmlidXRlKGkuc3Vic3RyKDEsaS5sZW5ndGgtMSkpJiZuLnB1c2goZSksZS50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PT1pJiZuLnB1c2goZSl9ZWxzZSBuLnB1c2goZSl9cmV0dXJuIDA9PT1uLmxlbmd0aD9udWxsOm59LHQud3JhcD1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksZS5uZXh0U2libGluZz9lLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHQsZS5uZXh0U2libGluZyk6ZS5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHQpLHQuYXBwZW5kQ2hpbGQoZSl9LHQuZ2V0U2libGluZ3M9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLGk9ZS5wYXJlbnROb2RlLmZpcnN0Q2hpbGQ7aTtpPWkubmV4dFNpYmxpbmcpMT09PWkubm9kZVR5cGUmJmkhPT1lJiZ0LnB1c2goaSk7cmV0dXJuIHR9LHQuZmluZEFuY2VzdG9yPWZ1bmN0aW9uKGUsdCl7Zm9yKDsoZT1lLnBhcmVudEVsZW1lbnQpJiYhZS5jbGFzc0xpc3QuY29udGFpbnModCk7KTtyZXR1cm4gZX0sdC5maW5kQW5jZXN0b3JCeUF0dHJOYW1lPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPWU7aTspe2lmKGkuaGFzQXR0cmlidXRlKHQpKXJldHVybiBpO2k9aS5wYXJlbnRFbGVtZW50fXJldHVybiBudWxsfSx0LmRlYm91bmNlPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbjtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgcz10aGlzLG89YXJndW1lbnRzLHI9ZnVuY3Rpb24oKXtuPW51bGwsaXx8ZS5hcHBseShzLG8pfSxhPWkmJiFuO2NsZWFyVGltZW91dChuKSxuPXNldFRpbWVvdXQocix0KSxhJiZlLmFwcGx5KHMsbyl9fSx0LmdldEVsZW1EaXN0YW5jZT1mdW5jdGlvbihlKXt2YXIgdD0wO2lmKGUub2Zmc2V0UGFyZW50KWRvIHQrPWUub2Zmc2V0VG9wLGU9ZS5vZmZzZXRQYXJlbnQ7d2hpbGUoZSk7cmV0dXJuIHQ+PTA/dDowfSx0LmdldEVsZW1lbnRPZmZzZXQ9ZnVuY3Rpb24oZSx0KXt2YXIgaT10O3JldHVybiBpPjEmJihpPTEpLGk+MCYmKGk9MCksTWF0aC5tYXgoZS5vZmZzZXRIZWlnaHQqaSl9LHQuZ2V0QWRqYWNlbnRFbD1mdW5jdGlvbihlLHQpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXToxO2lmKGUmJnQpe3ZhciBuPWUucGFyZW50Tm9kZS5wYXJlbnROb2RlLHM9QXJyYXkuZnJvbShuLnF1ZXJ5U2VsZWN0b3JBbGwodCkpLG89cy5pbmRleE9mKGUpLHI9aT4wPzE6LTE7cmV0dXJuIHNbbytyXX19LHQuZ2V0U2Nyb2xsUG9zaXRpb249ZnVuY3Rpb24oZSl7cmV0dXJuXCJib3R0b21cIj09PWU/TWF0aC5tYXgoKHdpbmRvdy5zY3JvbGxZfHx3aW5kb3cucGFnZVlPZmZzZXQpKyh3aW5kb3cuaW5uZXJIZWlnaHR8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpKTp3aW5kb3cuc2Nyb2xsWXx8d2luZG93LnBhZ2VZT2Zmc2V0fSx0LmlzSW5WaWV3PWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gdGhpcy5nZXRTY3JvbGxQb3NpdGlvbih0KT50aGlzLmdldEVsZW1EaXN0YW5jZShlKSt0aGlzLmdldEVsZW1lbnRPZmZzZXQoZSxpKX0sdC5pc1Njcm9sbGVkSW50b1ZpZXc9ZnVuY3Rpb24oZSx0KXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MTtpZihlKXt2YXIgbj12b2lkIDA7cmV0dXJuIG49aT4wP3Quc2Nyb2xsVG9wK3Qub2Zmc2V0SGVpZ2h0Pj1lLm9mZnNldFRvcCtlLm9mZnNldEhlaWdodDplLm9mZnNldFRvcD49dC5zY3JvbGxUb3B9fSx0LnN0cmlwSFRNTD1mdW5jdGlvbihlKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiRElWXCIpO3JldHVybiB0LmlubmVySFRNTD1lLHQudGV4dENvbnRlbnR8fHQuaW5uZXJUZXh0fHxcIlwifSx0LmFkZEFuaW1hdGlvbj1mdW5jdGlvbihlLHQpe3ZhciBpPXIoKSxuPWZ1bmN0aW9uIG4oKXtlLmNsYXNzTGlzdC5yZW1vdmUodCksZS5yZW1vdmVFdmVudExpc3RlbmVyKGksbiwhMSl9O2UuY2xhc3NMaXN0LmFkZCh0KSxlLmFkZEV2ZW50TGlzdGVuZXIoaSxuLCExKX0sdC5nZXRSYW5kb21OdW1iZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKih0LWUpK2UpfSksYz10LnN0clRvRWw9ZnVuY3Rpb24oKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3JldHVybiBmdW5jdGlvbih0KXt2YXIgaT10LnRyaW0oKSxuPXZvaWQgMDtmb3IoZS5pbm5lckhUTUw9aSxuPWUuY2hpbGRyZW5bMF07ZS5maXJzdENoaWxkOyllLnJlbW92ZUNoaWxkKGUuZmlyc3RDaGlsZCk7cmV0dXJuIG59fSgpO3QuZ2V0V2lkdGhPZklucHV0PWZ1bmN0aW9uKGUpe3ZhciB0PWUudmFsdWV8fGUucGxhY2Vob2xkZXIsaT1lLm9mZnNldFdpZHRoO2lmKHQpe3ZhciBuPWMoXCI8c3Bhbj5cIit0K1wiPC9zcGFuPlwiKTtpZihuLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixuLnN0eWxlLnBhZGRpbmc9XCIwXCIsbi5zdHlsZS50b3A9XCItOTk5OXB4XCIsbi5zdHlsZS5sZWZ0PVwiLTk5OTlweFwiLG4uc3R5bGUud2lkdGg9XCJhdXRvXCIsbi5zdHlsZS53aGl0ZVNwYWNlPVwicHJlXCIsZG9jdW1lbnQuYm9keS5jb250YWlucyhlKSYmd2luZG93LmdldENvbXB1dGVkU3R5bGUpe3ZhciBzPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGUpO3MmJihuLnN0eWxlLmZvbnRTaXplPXMuZm9udFNpemUsbi5zdHlsZS5mb250RmFtaWx5PXMuZm9udEZhbWlseSxuLnN0eWxlLmZvbnRXZWlnaHQ9cy5mb250V2VpZ2h0LG4uc3R5bGUuZm9udFN0eWxlPXMuZm9udFN0eWxlLG4uc3R5bGUubGV0dGVyU3BhY2luZz1zLmxldHRlclNwYWNpbmcsbi5zdHlsZS50ZXh0VHJhbnNmb3JtPXMudGV4dFRyYW5zZm9ybSxuLnN0eWxlLnBhZGRpbmc9cy5wYWRkaW5nKX1kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG4pLHQmJm4ub2Zmc2V0V2lkdGghPT1lLm9mZnNldFdpZHRoJiYoaT1uLm9mZnNldFdpZHRoKzQpLGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobil9cmV0dXJuIGkrXCJweFwifSx0LnNvcnRCeUFscGhhPWZ1bmN0aW9uKGUsdCl7dmFyIGk9KGUubGFiZWx8fGUudmFsdWUpLnRvTG93ZXJDYXNlKCksbj0odC5sYWJlbHx8dC52YWx1ZSkudG9Mb3dlckNhc2UoKTtyZXR1cm4gaTxuPy0xOmk+bj8xOjB9LHQuc29ydEJ5U2NvcmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5zY29yZS10LnNjb3JlfSx0LnRyaWdnZXJFdmVudD1mdW5jdGlvbihlLHQpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpudWxsLG49bmV3IEN1c3RvbUV2ZW50KHQse2RldGFpbDppLGJ1YmJsZXM6ITAsY2FuY2VsYWJsZTohMH0pO3JldHVybiBlLmRpc3BhdGNoRXZlbnQobil9fSxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiOyFmdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0PXR8fHtidWJibGVzOiExLGNhbmNlbGFibGU6ITEsZGV0YWlsOnZvaWQgMH07dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJDdXN0b21FdmVudFwiKTtyZXR1cm4gaS5pbml0Q3VzdG9tRXZlbnQoZSx0LmJ1YmJsZXMsdC5jYW5jZWxhYmxlLHQuZGV0YWlsKSxpfUFycmF5LmZyb218fChBcnJheS5mcm9tPWZ1bmN0aW9uKCl7dmFyIGU9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyx0PWZ1bmN0aW9uKHQpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHR8fFwiW29iamVjdCBGdW5jdGlvbl1cIj09PWUuY2FsbCh0KX0saT1mdW5jdGlvbihlKXt2YXIgdD1OdW1iZXIoZSk7cmV0dXJuIGlzTmFOKHQpPzA6MCE9PXQmJmlzRmluaXRlKHQpPyh0PjA/MTotMSkqTWF0aC5mbG9vcihNYXRoLmFicyh0KSk6dH0sbj1NYXRoLnBvdygyLDUzKS0xLHM9ZnVuY3Rpb24oZSl7dmFyIHQ9aShlKTtyZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgodCwwKSxuKX07cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMsbj1PYmplY3QoZSk7aWYobnVsbD09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJyYXkuZnJvbSByZXF1aXJlcyBhbiBhcnJheS1saWtlIG9iamVjdCAtIG5vdCBudWxsIG9yIHVuZGVmaW5lZFwiKTt2YXIgbyxyPWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiByKXtpZighdChyKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJyYXkuZnJvbTogd2hlbiBwcm92aWRlZCwgdGhlIHNlY29uZCBhcmd1bWVudCBtdXN0IGJlIGEgZnVuY3Rpb25cIik7YXJndW1lbnRzLmxlbmd0aD4yJiYobz1hcmd1bWVudHNbMl0pfWZvcih2YXIgYSxjPXMobi5sZW5ndGgpLGw9dChpKT9PYmplY3QobmV3IGkoYykpOm5ldyBBcnJheShjKSxoPTA7aDxjOylhPW5baF0scj9sW2hdPVwidW5kZWZpbmVkXCI9PXR5cGVvZiBvP3IoYSxoKTpyLmNhbGwobyxhLGgpOmxbaF09YSxoKz0xO3JldHVybiBsLmxlbmd0aD1jLGx9fSgpKSxBcnJheS5wcm90b3R5cGUuZmluZHx8KEFycmF5LnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGUpe2lmKG51bGw9PXRoaXMpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFycmF5LnByb3RvdHlwZS5maW5kIGNhbGxlZCBvbiBudWxsIG9yIHVuZGVmaW5lZFwiKTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJwcmVkaWNhdGUgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO2Zvcih2YXIgdCxpPU9iamVjdCh0aGlzKSxuPWkubGVuZ3RoPj4+MCxzPWFyZ3VtZW50c1sxXSxvPTA7bzxuO28rKylpZih0PWlbb10sZS5jYWxsKHMsdCxvLGkpKXJldHVybiB0fSksZS5wcm90b3R5cGU9d2luZG93LkV2ZW50LnByb3RvdHlwZSx3aW5kb3cuQ3VzdG9tRXZlbnQ9ZX0oKX1dKX0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hvaWNlcy5taW4uanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/choices.js/assets/scripts/dist/choices.min.js\n')},"./node_modules/fetch-polyfill/fetch.js":function(module,exports){eval("(function() {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = name.toString();\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = value.toString();\n    }\n    return value\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    var self = this\n    if (headers instanceof Headers) {\n      headers.forEach(function(name, values) {\n        values.forEach(function(value) {\n          self.append(name, value)\n        })\n      })\n\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        self.append(name, headers[name])\n      })\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var list = this.map[name]\n    if (!list) {\n      list = []\n      this.map[name] = list\n    }\n    list.push(value)\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    var values = this.map[normalizeName(name)]\n    return values ? values[0] : null\n  }\n\n  Headers.prototype.getAll = function(name) {\n    return this.map[normalizeName(name)] || []\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = [normalizeValue(value)]\n  }\n\n  // Instead of iterable for now.\n  Headers.prototype.forEach = function(callback) {\n    var self = this\n    Object.getOwnPropertyNames(this.map).forEach(function(name) {\n      callback(name, self.map[name])\n    })\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return fetch.Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new fetch.Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    reader.readAsArrayBuffer(blob)\n    return fileReaderReady(reader)\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    reader.readAsText(blob)\n    return fileReaderReady(reader)\n  }\n\n  var support = {\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob();\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (!body) {\n        this._bodyText = ''\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return fetch.Promise.resolve(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return fetch.Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n\n      this.text = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return readBlobAsText(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as text')\n        } else {\n          return fetch.Promise.resolve(this._bodyText)\n        }\n      }\n    } else {\n      this.text = function() {\n        var rejected = consumed(this)\n        return rejected ? rejected : fetch.Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(function (text) {\n          return JSON.parse(text);\n      });\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(url, options) {\n    options = options || {}\n    this.url = url\n\n    this.credentials = options.credentials || 'omit'\n    this.headers = new Headers(options.headers)\n    this.method = normalizeMethod(options.method || 'GET')\n    this.mode = options.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && options.body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(options.body)\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function headers(xhr) {\n    var head = new Headers()\n    var pairs = xhr.getAllResponseHeaders().trim().split('\\n')\n    pairs.forEach(function(header) {\n      var split = header.trim().split(':')\n      var key = split.shift().trim()\n      var value = split.join(':').trim()\n      head.append(key, value)\n    })\n    return head\n  }\n\n  var noXhrPatch =\n    typeof window !== 'undefined' && !!window.ActiveXObject &&\n      !(window.XMLHttpRequest && (new XMLHttpRequest).dispatchEvent);\n\n  function getXhr() {\n    // from backbone.js 1.1.2\n    // https://github.com/jashkenas/backbone/blob/1.1.2/backbone.js#L1181\n    if (noXhrPatch && !(/^(get|post|head|put|delete|options)$/i.test(this.method))) {\n      this.usingActiveXhr = true;\n      return new ActiveXObject(\"Microsoft.XMLHTTP\");\n    }\n    return new XMLHttpRequest();\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this._initBody(bodyInit)\n    this.type = 'default'\n    this.url = null\n    this.status = options.status\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = options.statusText\n    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers)\n    this.url = options.url || ''\n  }\n\n  Body.call(Response.prototype)\n\n  self.Headers = Headers;\n  self.Request = Request;\n  self.Response = Response;\n\n  self.fetch = function(input, init) {\n    // TODO: Request constructor should accept input, init\n    var request\n    if (Request.prototype.isPrototypeOf(input) && !init) {\n      request = input\n    } else {\n      request = new Request(input, init)\n    }\n\n    return new fetch.Promise(function(resolve, reject) {\n      var xhr = getXhr();\n      if (request.credentials === 'cors') {\n        xhr.withCredentials = true;\n      }\n\n      function responseURL() {\n        if ('responseURL' in xhr) {\n          return xhr.responseURL\n        }\n\n        // Avoid security warnings on getResponseHeader when not allowed by CORS\n        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n          return xhr.getResponseHeader('X-Request-URL')\n        }\n\n        return;\n      }\n\n      function onload() {\n        if (xhr.readyState !== 4) {\n          return\n        }\n        var status = (xhr.status === 1223) ? 204 : xhr.status\n        if (status < 100 || status > 599) {\n          reject(new TypeError('Network request failed'))\n          return\n        }\n        var options = {\n          status: status,\n          statusText: xhr.statusText,\n          headers: headers(xhr),\n          url: responseURL()\n        }\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options))\n      }\n      xhr.onreadystatechange = onload;\n      if (!self.usingActiveXhr) {\n        xhr.onload = onload;\n        xhr.onerror = function() {\n          reject(new TypeError('Network request failed'))\n        }\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(name, values) {\n        values.forEach(function(value) {\n          xhr.setRequestHeader(name, value)\n        })\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  fetch.Promise = self.Promise; // you could change it to your favorite alternative\n  self.fetch.polyfill = true\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZmV0Y2gtcG9seWZpbGwvZmV0Y2guanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmV0Y2gtcG9seWZpbGwvZmV0Y2guanM/MzE4NCJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBpZiAoc2VsZi5mZXRjaCkge1xuICAgIHJldHVyblxuICB9XG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplTmFtZShuYW1lKSB7XG4gICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xuICAgICAgbmFtZSA9IG5hbWUudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgaWYgKC9bXmEtejAtOVxcLSMkJSYnKisuXFxeX2B8fl0vaS50ZXN0KG5hbWUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGNoYXJhY3RlciBpbiBoZWFkZXIgZmllbGQgbmFtZScpXG4gICAgfVxuICAgIHJldHVybiBuYW1lLnRvTG93ZXJDYXNlKClcbiAgfVxuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlXG4gIH1cblxuICBmdW5jdGlvbiBIZWFkZXJzKGhlYWRlcnMpIHtcbiAgICB0aGlzLm1hcCA9IHt9XG5cbiAgICB2YXIgc2VsZiA9IHRoaXNcbiAgICBpZiAoaGVhZGVycyBpbnN0YW5jZW9mIEhlYWRlcnMpIHtcbiAgICAgIGhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbihuYW1lLCB2YWx1ZXMpIHtcbiAgICAgICAgdmFsdWVzLmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBzZWxmLmFwcGVuZChuYW1lLCB2YWx1ZSlcbiAgICAgICAgfSlcbiAgICAgIH0pXG5cbiAgICB9IGVsc2UgaWYgKGhlYWRlcnMpIHtcbiAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgICBzZWxmLmFwcGVuZChuYW1lLCBoZWFkZXJzW25hbWVdKVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgIG5hbWUgPSBub3JtYWxpemVOYW1lKG5hbWUpXG4gICAgdmFsdWUgPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSlcbiAgICB2YXIgbGlzdCA9IHRoaXMubWFwW25hbWVdXG4gICAgaWYgKCFsaXN0KSB7XG4gICAgICBsaXN0ID0gW11cbiAgICAgIHRoaXMubWFwW25hbWVdID0gbGlzdFxuICAgIH1cbiAgICBsaXN0LnB1c2godmFsdWUpXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgZGVsZXRlIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIHZhbHVlcyA9IHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldXG4gICAgcmV0dXJuIHZhbHVlcyA/IHZhbHVlc1swXSA6IG51bGxcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmdldEFsbCA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV0gfHwgW11cbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAuaGFzT3duUHJvcGVydHkobm9ybWFsaXplTmFtZShuYW1lKSlcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV0gPSBbbm9ybWFsaXplVmFsdWUodmFsdWUpXVxuICB9XG5cbiAgLy8gSW5zdGVhZCBvZiBpdGVyYWJsZSBmb3Igbm93LlxuICBIZWFkZXJzLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXNcbiAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzLm1hcCkuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICBjYWxsYmFjayhuYW1lLCBzZWxmLm1hcFtuYW1lXSlcbiAgICB9KVxuICB9XG5cbiAgZnVuY3Rpb24gY29uc3VtZWQoYm9keSkge1xuICAgIGlmIChib2R5LmJvZHlVc2VkKSB7XG4gICAgICByZXR1cm4gZmV0Y2guUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJykpXG4gICAgfVxuICAgIGJvZHkuYm9keVVzZWQgPSB0cnVlXG4gIH1cblxuICBmdW5jdGlvbiBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKSB7XG4gICAgcmV0dXJuIG5ldyBmZXRjaC5Qcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXNvbHZlKHJlYWRlci5yZXN1bHQpXG4gICAgICB9XG4gICAgICByZWFkZXIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QocmVhZGVyLmVycm9yKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBmdW5jdGlvbiByZWFkQmxvYkFzQXJyYXlCdWZmZXIoYmxvYikge1xuICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG4gICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGJsb2IpXG4gICAgcmV0dXJuIGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpXG4gIH1cblxuICBmdW5jdGlvbiByZWFkQmxvYkFzVGV4dChibG9iKSB7XG4gICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcbiAgICByZWFkZXIucmVhZEFzVGV4dChibG9iKVxuICAgIHJldHVybiBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKVxuICB9XG5cbiAgdmFyIHN1cHBvcnQgPSB7XG4gICAgYmxvYjogJ0ZpbGVSZWFkZXInIGluIHNlbGYgJiYgJ0Jsb2InIGluIHNlbGYgJiYgKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbmV3IEJsb2IoKTtcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9KSgpLFxuICAgIGZvcm1EYXRhOiAnRm9ybURhdGEnIGluIHNlbGZcbiAgfVxuXG4gIGZ1bmN0aW9uIEJvZHkoKSB7XG4gICAgdGhpcy5ib2R5VXNlZCA9IGZhbHNlXG5cblxuICAgIHRoaXMuX2luaXRCb2R5ID0gZnVuY3Rpb24oYm9keSkge1xuICAgICAgdGhpcy5fYm9keUluaXQgPSBib2R5XG4gICAgICBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gYm9keVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmJsb2IgJiYgQmxvYi5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICB0aGlzLl9ib2R5QmxvYiA9IGJvZHlcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5mb3JtRGF0YSAmJiBGb3JtRGF0YS5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICB0aGlzLl9ib2R5Rm9ybURhdGEgPSBib2R5XG4gICAgICB9IGVsc2UgaWYgKCFib2R5KSB7XG4gICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gJydcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigndW5zdXBwb3J0ZWQgQm9keUluaXQgdHlwZScpXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN1cHBvcnQuYmxvYikge1xuICAgICAgdGhpcy5ibG9iID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByZWplY3RlZCA9IGNvbnN1bWVkKHRoaXMpXG4gICAgICAgIGlmIChyZWplY3RlZCkge1xuICAgICAgICAgIHJldHVybiByZWplY3RlZFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2JvZHlCbG9iKSB7XG4gICAgICAgICAgcmV0dXJuIGZldGNoLlByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QmxvYilcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5Rm9ybURhdGEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCByZWFkIEZvcm1EYXRhIGJvZHkgYXMgYmxvYicpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGZldGNoLlByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keVRleHRdKSlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLmFycmF5QnVmZmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJsb2IoKS50aGVuKHJlYWRCbG9iQXNBcnJheUJ1ZmZlcilcbiAgICAgIH1cblxuICAgICAgdGhpcy50ZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByZWplY3RlZCA9IGNvbnN1bWVkKHRoaXMpXG4gICAgICAgIGlmIChyZWplY3RlZCkge1xuICAgICAgICAgIHJldHVybiByZWplY3RlZFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2JvZHlCbG9iKSB7XG4gICAgICAgICAgcmV0dXJuIHJlYWRCbG9iQXNUZXh0KHRoaXMuX2JvZHlCbG9iKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyB0ZXh0JylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZmV0Y2guUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlUZXh0KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudGV4dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuICAgICAgICByZXR1cm4gcmVqZWN0ZWQgPyByZWplY3RlZCA6IGZldGNoLlByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5VGV4dClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3VwcG9ydC5mb3JtRGF0YSkge1xuICAgICAgdGhpcy5mb3JtRGF0YSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZXh0KCkudGhlbihkZWNvZGUpXG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5qc29uID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50ZXh0KCkudGhlbihmdW5jdGlvbiAodGV4dCkge1xuICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8vIEhUVFAgbWV0aG9kcyB3aG9zZSBjYXBpdGFsaXphdGlvbiBzaG91bGQgYmUgbm9ybWFsaXplZFxuICB2YXIgbWV0aG9kcyA9IFsnREVMRVRFJywgJ0dFVCcsICdIRUFEJywgJ09QVElPTlMnLCAnUE9TVCcsICdQVVQnXVxuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZU1ldGhvZChtZXRob2QpIHtcbiAgICB2YXIgdXBjYXNlZCA9IG1ldGhvZC50b1VwcGVyQ2FzZSgpXG4gICAgcmV0dXJuIChtZXRob2RzLmluZGV4T2YodXBjYXNlZCkgPiAtMSkgPyB1cGNhc2VkIDogbWV0aG9kXG4gIH1cblxuICBmdW5jdGlvbiBSZXF1ZXN0KHVybCwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG4gICAgdGhpcy51cmwgPSB1cmxcblxuICAgIHRoaXMuY3JlZGVudGlhbHMgPSBvcHRpb25zLmNyZWRlbnRpYWxzIHx8ICdvbWl0J1xuICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKG9wdGlvbnMuaGVhZGVycylcbiAgICB0aGlzLm1ldGhvZCA9IG5vcm1hbGl6ZU1ldGhvZChvcHRpb25zLm1ldGhvZCB8fCAnR0VUJylcbiAgICB0aGlzLm1vZGUgPSBvcHRpb25zLm1vZGUgfHwgbnVsbFxuICAgIHRoaXMucmVmZXJyZXIgPSBudWxsXG5cbiAgICBpZiAoKHRoaXMubWV0aG9kID09PSAnR0VUJyB8fCB0aGlzLm1ldGhvZCA9PT0gJ0hFQUQnKSAmJiBvcHRpb25zLmJvZHkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0JvZHkgbm90IGFsbG93ZWQgZm9yIEdFVCBvciBIRUFEIHJlcXVlc3RzJylcbiAgICB9XG4gICAgdGhpcy5faW5pdEJvZHkob3B0aW9ucy5ib2R5KVxuICB9XG5cbiAgZnVuY3Rpb24gZGVjb2RlKGJvZHkpIHtcbiAgICB2YXIgZm9ybSA9IG5ldyBGb3JtRGF0YSgpXG4gICAgYm9keS50cmltKCkuc3BsaXQoJyYnKS5mb3JFYWNoKGZ1bmN0aW9uKGJ5dGVzKSB7XG4gICAgICBpZiAoYnl0ZXMpIHtcbiAgICAgICAgdmFyIHNwbGl0ID0gYnl0ZXMuc3BsaXQoJz0nKVxuICAgICAgICB2YXIgbmFtZSA9IHNwbGl0LnNoaWZ0KCkucmVwbGFjZSgvXFwrL2csICcgJylcbiAgICAgICAgdmFyIHZhbHVlID0gc3BsaXQuam9pbignPScpLnJlcGxhY2UoL1xcKy9nLCAnICcpXG4gICAgICAgIGZvcm0uYXBwZW5kKGRlY29kZVVSSUNvbXBvbmVudChuYW1lKSwgZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKSlcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBmb3JtXG4gIH1cblxuICBmdW5jdGlvbiBoZWFkZXJzKHhocikge1xuICAgIHZhciBoZWFkID0gbmV3IEhlYWRlcnMoKVxuICAgIHZhciBwYWlycyA9IHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKS50cmltKCkuc3BsaXQoJ1xcbicpXG4gICAgcGFpcnMuZm9yRWFjaChmdW5jdGlvbihoZWFkZXIpIHtcbiAgICAgIHZhciBzcGxpdCA9IGhlYWRlci50cmltKCkuc3BsaXQoJzonKVxuICAgICAgdmFyIGtleSA9IHNwbGl0LnNoaWZ0KCkudHJpbSgpXG4gICAgICB2YXIgdmFsdWUgPSBzcGxpdC5qb2luKCc6JykudHJpbSgpXG4gICAgICBoZWFkLmFwcGVuZChrZXksIHZhbHVlKVxuICAgIH0pXG4gICAgcmV0dXJuIGhlYWRcbiAgfVxuXG4gIHZhciBub1hoclBhdGNoID1cbiAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiAhIXdpbmRvdy5BY3RpdmVYT2JqZWN0ICYmXG4gICAgICAhKHdpbmRvdy5YTUxIdHRwUmVxdWVzdCAmJiAobmV3IFhNTEh0dHBSZXF1ZXN0KS5kaXNwYXRjaEV2ZW50KTtcblxuICBmdW5jdGlvbiBnZXRYaHIoKSB7XG4gICAgLy8gZnJvbSBiYWNrYm9uZS5qcyAxLjEuMlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9qYXNoa2VuYXMvYmFja2JvbmUvYmxvYi8xLjEuMi9iYWNrYm9uZS5qcyNMMTE4MVxuICAgIGlmIChub1hoclBhdGNoICYmICEoL14oZ2V0fHBvc3R8aGVhZHxwdXR8ZGVsZXRlfG9wdGlvbnMpJC9pLnRlc3QodGhpcy5tZXRob2QpKSkge1xuICAgICAgdGhpcy51c2luZ0FjdGl2ZVhociA9IHRydWU7XG4gICAgICByZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoXCJNaWNyb3NvZnQuWE1MSFRUUFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICB9XG5cbiAgQm9keS5jYWxsKFJlcXVlc3QucHJvdG90eXBlKVxuXG4gIGZ1bmN0aW9uIFJlc3BvbnNlKGJvZHlJbml0LCBvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0ge31cbiAgICB9XG5cbiAgICB0aGlzLl9pbml0Qm9keShib2R5SW5pdClcbiAgICB0aGlzLnR5cGUgPSAnZGVmYXVsdCdcbiAgICB0aGlzLnVybCA9IG51bGxcbiAgICB0aGlzLnN0YXR1cyA9IG9wdGlvbnMuc3RhdHVzXG4gICAgdGhpcy5vayA9IHRoaXMuc3RhdHVzID49IDIwMCAmJiB0aGlzLnN0YXR1cyA8IDMwMFxuICAgIHRoaXMuc3RhdHVzVGV4dCA9IG9wdGlvbnMuc3RhdHVzVGV4dFxuICAgIHRoaXMuaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycyBpbnN0YW5jZW9mIEhlYWRlcnMgPyBvcHRpb25zLmhlYWRlcnMgOiBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpXG4gICAgdGhpcy51cmwgPSBvcHRpb25zLnVybCB8fCAnJ1xuICB9XG5cbiAgQm9keS5jYWxsKFJlc3BvbnNlLnByb3RvdHlwZSlcblxuICBzZWxmLkhlYWRlcnMgPSBIZWFkZXJzO1xuICBzZWxmLlJlcXVlc3QgPSBSZXF1ZXN0O1xuICBzZWxmLlJlc3BvbnNlID0gUmVzcG9uc2U7XG5cbiAgc2VsZi5mZXRjaCA9IGZ1bmN0aW9uKGlucHV0LCBpbml0KSB7XG4gICAgLy8gVE9ETzogUmVxdWVzdCBjb25zdHJ1Y3RvciBzaG91bGQgYWNjZXB0IGlucHV0LCBpbml0XG4gICAgdmFyIHJlcXVlc3RcbiAgICBpZiAoUmVxdWVzdC5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihpbnB1dCkgJiYgIWluaXQpIHtcbiAgICAgIHJlcXVlc3QgPSBpbnB1dFxuICAgIH0gZWxzZSB7XG4gICAgICByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoaW5wdXQsIGluaXQpXG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBmZXRjaC5Qcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHhociA9IGdldFhocigpO1xuICAgICAgaWYgKHJlcXVlc3QuY3JlZGVudGlhbHMgPT09ICdjb3JzJykge1xuICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcmVzcG9uc2VVUkwoKSB7XG4gICAgICAgIGlmICgncmVzcG9uc2VVUkwnIGluIHhocikge1xuICAgICAgICAgIHJldHVybiB4aHIucmVzcG9uc2VVUkxcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEF2b2lkIHNlY3VyaXR5IHdhcm5pbmdzIG9uIGdldFJlc3BvbnNlSGVhZGVyIHdoZW4gbm90IGFsbG93ZWQgYnkgQ09SU1xuICAgICAgICBpZiAoL15YLVJlcXVlc3QtVVJMOi9tLnRlc3QoeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSkge1xuICAgICAgICAgIHJldHVybiB4aHIuZ2V0UmVzcG9uc2VIZWFkZXIoJ1gtUmVxdWVzdC1VUkwnKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBvbmxvYWQoKSB7XG4gICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSAhPT0gNCkge1xuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIHZhciBzdGF0dXMgPSAoeGhyLnN0YXR1cyA9PT0gMTIyMykgPyAyMDQgOiB4aHIuc3RhdHVzXG4gICAgICAgIGlmIChzdGF0dXMgPCAxMDAgfHwgc3RhdHVzID4gNTk5KSB7XG4gICAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSlcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgICBzdGF0dXM6IHN0YXR1cyxcbiAgICAgICAgICBzdGF0dXNUZXh0OiB4aHIuc3RhdHVzVGV4dCxcbiAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzKHhociksXG4gICAgICAgICAgdXJsOiByZXNwb25zZVVSTCgpXG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJvZHkgPSAncmVzcG9uc2UnIGluIHhociA/IHhoci5yZXNwb25zZSA6IHhoci5yZXNwb25zZVRleHQ7XG4gICAgICAgIHJlc29sdmUobmV3IFJlc3BvbnNlKGJvZHksIG9wdGlvbnMpKVxuICAgICAgfVxuICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG9ubG9hZDtcbiAgICAgIGlmICghc2VsZi51c2luZ0FjdGl2ZVhocikge1xuICAgICAgICB4aHIub25sb2FkID0gb25sb2FkO1xuICAgICAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJlamVjdChuZXcgVHlwZUVycm9yKCdOZXR3b3JrIHJlcXVlc3QgZmFpbGVkJykpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgeGhyLm9wZW4ocmVxdWVzdC5tZXRob2QsIHJlcXVlc3QudXJsLCB0cnVlKVxuXG4gICAgICBpZiAoJ3Jlc3BvbnNlVHlwZScgaW4geGhyICYmIHN1cHBvcnQuYmxvYikge1xuICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2Jsb2InXG4gICAgICB9XG5cbiAgICAgIHJlcXVlc3QuaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUsIHZhbHVlcykge1xuICAgICAgICB2YWx1ZXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKG5hbWUsIHZhbHVlKVxuICAgICAgICB9KVxuICAgICAgfSlcblxuICAgICAgeGhyLnNlbmQodHlwZW9mIHJlcXVlc3QuX2JvZHlJbml0ID09PSAndW5kZWZpbmVkJyA/IG51bGwgOiByZXF1ZXN0Ll9ib2R5SW5pdClcbiAgICB9KVxuICB9XG4gIGZldGNoLlByb21pc2UgPSBzZWxmLlByb21pc2U7IC8vIHlvdSBjb3VsZCBjaGFuZ2UgaXQgdG8geW91ciBmYXZvcml0ZSBhbHRlcm5hdGl2ZVxuICBzZWxmLmZldGNoLnBvbHlmaWxsID0gdHJ1ZVxufSkoKTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/fetch-polyfill/fetch.js\n")},"./node_modules/flatpickr/dist/flatpickr.js":function(module,exports,__webpack_require__){eval('/* flatpickr v4.1.4, @license MIT */\n(function (global, factory) {\n\t true ? module.exports = factory() :\n\tundefined;\n}(this, (function () { \'use strict\';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the "License"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\n\r\n\r\nvar __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n};\n\nfunction compareDates(date1, date2, timeless) {\r\n    if (timeless !== false) {\r\n        return (new Date(date1.getTime()).setHours(0, 0, 0, 0) -\r\n            new Date(date2.getTime()).setHours(0, 0, 0, 0));\r\n    }\r\n    return date1.getTime() - date2.getTime();\r\n}\r\nvar monthToStr = function (monthNumber, shorthand, locale) { return locale.months[shorthand ? "shorthand" : "longhand"][monthNumber]; };\r\nvar getWeek = function (givenDate) {\r\n    var onejan = new Date(givenDate.getFullYear(), 0, 1);\r\n    return Math.ceil(((givenDate.getTime() - onejan.getTime()) / 86400000 +\r\n        onejan.getDay() +\r\n        1) /\r\n        7);\r\n};\r\nvar duration = {\r\n    DAY: 86400000,\r\n};\n\nvar defaults = {\r\n    _disable: [],\r\n    _enable: [],\r\n    allowInput: false,\r\n    altFormat: "F j, Y",\r\n    altInput: false,\r\n    altInputClass: "form-control input",\r\n    animate: typeof window === "object" &&\r\n        window.navigator.userAgent.indexOf("MSIE") === -1,\r\n    ariaDateFormat: "F j, Y",\r\n    clickOpens: true,\r\n    closeOnSelect: true,\r\n    conjunction: ", ",\r\n    dateFormat: "Y-m-d",\r\n    defaultHour: 12,\r\n    defaultMinute: 0,\r\n    defaultSeconds: 0,\r\n    disable: [],\r\n    disableMobile: false,\r\n    enable: [],\r\n    enableSeconds: false,\r\n    enableTime: false,\r\n    errorHandler: console.warn,\r\n    getWeek: getWeek,\r\n    hourIncrement: 1,\r\n    ignoredFocusElements: [],\r\n    inline: false,\r\n    locale: "default",\r\n    minuteIncrement: 5,\r\n    mode: "single",\r\n    nextArrow: "<svg version=\'1.1\' xmlns=\'http://www.w3.org/2000/svg\' xmlns:xlink=\'http://www.w3.org/1999/xlink\' viewBox=\'0 0 17 17\'><g></g><path d=\'M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z\' /></svg>",\r\n    noCalendar: false,\r\n    onChange: [],\r\n    onClose: [],\r\n    onDayCreate: [],\r\n    onDestroy: [],\r\n    onKeyDown: [],\r\n    onMonthChange: [],\r\n    onOpen: [],\r\n    onParseConfig: [],\r\n    onReady: [],\r\n    onValueUpdate: [],\r\n    onYearChange: [],\r\n    plugins: [],\r\n    position: "auto",\r\n    positionElement: undefined,\r\n    prevArrow: "<svg version=\'1.1\' xmlns=\'http://www.w3.org/2000/svg\' xmlns:xlink=\'http://www.w3.org/1999/xlink\' viewBox=\'0 0 17 17\'><g></g><path d=\'M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z\' /></svg>",\r\n    shorthandCurrentMonth: false,\r\n    static: false,\r\n    time_24hr: false,\r\n    weekNumbers: false,\r\n    wrap: false,\r\n};\n\nvar english = {\r\n    weekdays: {\r\n        shorthand: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],\r\n        longhand: [\r\n            "Sunday",\r\n            "Monday",\r\n            "Tuesday",\r\n            "Wednesday",\r\n            "Thursday",\r\n            "Friday",\r\n            "Saturday",\r\n        ],\r\n    },\r\n    months: {\r\n        shorthand: [\r\n            "Jan",\r\n            "Feb",\r\n            "Mar",\r\n            "Apr",\r\n            "May",\r\n            "Jun",\r\n            "Jul",\r\n            "Aug",\r\n            "Sep",\r\n            "Oct",\r\n            "Nov",\r\n            "Dec",\r\n        ],\r\n        longhand: [\r\n            "January",\r\n            "February",\r\n            "March",\r\n            "April",\r\n            "May",\r\n            "June",\r\n            "July",\r\n            "August",\r\n            "September",\r\n            "October",\r\n            "November",\r\n            "December",\r\n        ],\r\n    },\r\n    daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\r\n    firstDayOfWeek: 0,\r\n    ordinal: function (nth) {\r\n        var s = nth % 100;\r\n        if (s > 3 && s < 21)\r\n            return "th";\r\n        switch (s % 10) {\r\n            case 1:\r\n                return "st";\r\n            case 2:\r\n                return "nd";\r\n            case 3:\r\n                return "rd";\r\n            default:\r\n                return "th";\r\n        }\r\n    },\r\n    rangeSeparator: " to ",\r\n    weekAbbreviation: "Wk",\r\n    scrollTitle: "Scroll to increment",\r\n    toggleTitle: "Click to toggle",\r\n    amPM: ["AM", "PM"],\r\n};\n\nvar pad = function (number) { return ("0" + number).slice(-2); };\r\nvar int = function (bool) { return (bool === true ? 1 : 0); };\r\nfunction debounce(func, wait, immediate) {\r\n    if (immediate === void 0) { immediate = false; }\r\n    var timeout;\r\n    return function () {\r\n        var context = this, args = arguments;\r\n        timeout !== null && clearTimeout(timeout);\r\n        timeout = window.setTimeout(function () {\r\n            timeout = null;\r\n            if (!immediate)\r\n                func.apply(context, args);\r\n        }, wait);\r\n        if (immediate && !timeout)\r\n            func.apply(context, args);\r\n    };\r\n}\r\nvar arrayify = function (obj) {\r\n    return obj instanceof Array ? obj : [obj];\r\n};\r\nfunction mouseDelta(e) {\r\n    var delta = e.wheelDelta || -e.deltaY;\r\n    return delta >= 0 ? 1 : -1;\r\n}\n\nfunction toggleClass(elem, className, bool) {\r\n    if (bool === true)\r\n        return elem.classList.add(className);\r\n    elem.classList.remove(className);\r\n}\r\nfunction createElement(tag, className, content) {\r\n    var e = window.document.createElement(tag);\r\n    className = className || "";\r\n    content = content || "";\r\n    e.className = className;\r\n    if (content !== undefined)\r\n        e.textContent = content;\r\n    return e;\r\n}\r\nfunction clearNode(node) {\r\n    while (node.firstChild)\r\n        node.removeChild(node.firstChild);\r\n}\r\nfunction findParent(node, condition) {\r\n    if (condition(node))\r\n        return node;\r\n    else if (node.parentNode)\r\n        return findParent(node.parentNode, condition);\r\n    return undefined;\r\n}\r\nfunction createNumberInput(inputClassName) {\r\n    var wrapper = createElement("div", "numInputWrapper"), numInput = createElement("input", "numInput " + inputClassName), arrowUp = createElement("span", "arrowUp"), arrowDown = createElement("span", "arrowDown");\r\n    numInput.type = "text";\r\n    numInput.pattern = "\\\\d*";\r\n    wrapper.appendChild(numInput);\r\n    wrapper.appendChild(arrowUp);\r\n    wrapper.appendChild(arrowDown);\r\n    return wrapper;\r\n}\n\nvar do_nothing = function () { return undefined; };\r\nvar revFormat = {\r\n    D: do_nothing,\r\n    F: function (dateObj, monthName, locale) {\r\n        dateObj.setMonth(locale.months.longhand.indexOf(monthName));\r\n    },\r\n    G: function (dateObj, hour) {\r\n        dateObj.setHours(parseFloat(hour));\r\n    },\r\n    H: function (dateObj, hour) {\r\n        dateObj.setHours(parseFloat(hour));\r\n    },\r\n    J: function (dateObj, day) {\r\n        dateObj.setDate(parseFloat(day));\r\n    },\r\n    K: function (dateObj, amPM, locale) {\r\n        dateObj.setHours(dateObj.getHours() % 12 +\r\n            12 * int(new RegExp(locale.amPM[1], "i").test(amPM)));\r\n    },\r\n    M: function (dateObj, shortMonth, locale) {\r\n        dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));\r\n    },\r\n    S: function (dateObj, seconds) {\r\n        dateObj.setSeconds(parseFloat(seconds));\r\n    },\r\n    U: function (_, unixSeconds) { return new Date(parseFloat(unixSeconds) * 1000); },\r\n    W: function (dateObj, weekNum) {\r\n        var weekNumber = parseInt(weekNum);\r\n        return new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);\r\n    },\r\n    Y: function (dateObj, year) {\r\n        dateObj.setFullYear(parseFloat(year));\r\n    },\r\n    Z: function (_, ISODate) { return new Date(ISODate); },\r\n    d: function (dateObj, day) {\r\n        dateObj.setDate(parseFloat(day));\r\n    },\r\n    h: function (dateObj, hour) {\r\n        dateObj.setHours(parseFloat(hour));\r\n    },\r\n    i: function (dateObj, minutes) {\r\n        dateObj.setMinutes(parseFloat(minutes));\r\n    },\r\n    j: function (dateObj, day) {\r\n        dateObj.setDate(parseFloat(day));\r\n    },\r\n    l: do_nothing,\r\n    m: function (dateObj, month) {\r\n        dateObj.setMonth(parseFloat(month) - 1);\r\n    },\r\n    n: function (dateObj, month) {\r\n        dateObj.setMonth(parseFloat(month) - 1);\r\n    },\r\n    s: function (dateObj, seconds) {\r\n        dateObj.setSeconds(parseFloat(seconds));\r\n    },\r\n    w: do_nothing,\r\n    y: function (dateObj, year) {\r\n        dateObj.setFullYear(2000 + parseFloat(year));\r\n    },\r\n};\r\nvar tokenRegex = {\r\n    D: "(\\\\w+)",\r\n    F: "(\\\\w+)",\r\n    G: "(\\\\d\\\\d|\\\\d)",\r\n    H: "(\\\\d\\\\d|\\\\d)",\r\n    J: "(\\\\d\\\\d|\\\\d)\\\\w+",\r\n    K: "",\r\n    M: "(\\\\w+)",\r\n    S: "(\\\\d\\\\d|\\\\d)",\r\n    U: "(.+)",\r\n    W: "(\\\\d\\\\d|\\\\d)",\r\n    Y: "(\\\\d{4})",\r\n    Z: "(.+)",\r\n    d: "(\\\\d\\\\d|\\\\d)",\r\n    h: "(\\\\d\\\\d|\\\\d)",\r\n    i: "(\\\\d\\\\d|\\\\d)",\r\n    j: "(\\\\d\\\\d|\\\\d)",\r\n    l: "(\\\\w+)",\r\n    m: "(\\\\d\\\\d|\\\\d)",\r\n    n: "(\\\\d\\\\d|\\\\d)",\r\n    s: "(\\\\d\\\\d|\\\\d)",\r\n    w: "(\\\\d\\\\d|\\\\d)",\r\n    y: "(\\\\d{2})",\r\n};\r\nvar formats = {\r\n    Z: function (date) { return date.toISOString(); },\r\n    D: function (date, locale, options) {\r\n        return locale.weekdays.shorthand[formats.w(date, locale, options)];\r\n    },\r\n    F: function (date, locale, options) {\r\n        return monthToStr(formats.n(date, locale, options) - 1, false, locale);\r\n    },\r\n    G: function (date, locale, options) {\r\n        return pad(formats.h(date, locale, options));\r\n    },\r\n    H: function (date) { return pad(date.getHours()); },\r\n    J: function (date, locale) {\r\n        return locale.ordinal !== undefined\r\n            ? date.getDate() + locale.ordinal(date.getDate())\r\n            : date.getDate();\r\n    },\r\n    K: function (date, locale) { return locale.amPM[int(date.getHours() > 11)]; },\r\n    M: function (date, locale) {\r\n        return monthToStr(date.getMonth(), true, locale);\r\n    },\r\n    S: function (date) { return pad(date.getSeconds()); },\r\n    U: function (date) { return date.getTime() / 1000; },\r\n    W: function (date, _, options) {\r\n        return options.getWeek(date);\r\n    },\r\n    Y: function (date) { return date.getFullYear(); },\r\n    d: function (date) { return pad(date.getDate()); },\r\n    h: function (date) { return (date.getHours() % 12 ? date.getHours() % 12 : 12); },\r\n    i: function (date) { return pad(date.getMinutes()); },\r\n    j: function (date) { return date.getDate(); },\r\n    l: function (date, locale) {\r\n        return locale.weekdays.longhand[date.getDay()];\r\n    },\r\n    m: function (date) { return pad(date.getMonth() + 1); },\r\n    n: function (date) { return date.getMonth() + 1; },\r\n    s: function (date) { return date.getSeconds(); },\r\n    w: function (date) { return date.getDay(); },\r\n    y: function (date) { return String(date.getFullYear()).substring(2); },\r\n};\n\nif (typeof Object.assign !== "function") {\r\n    Object.assign = function (target) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        if (!target) {\r\n            throw TypeError("Cannot convert undefined or null to object");\r\n        }\r\n        var _loop_1 = function (source) {\r\n            if (source) {\r\n                Object.keys(source).forEach(function (key) { return (target[key] = source[key]); });\r\n            }\r\n        };\r\n        for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\r\n            var source = args_1[_a];\r\n            _loop_1(source);\r\n        }\r\n        return target;\r\n    };\r\n}\n\nfunction FlatpickrInstance(element, instanceConfig) {\r\n    var self = {};\r\n    self.parseDate = parseDate;\r\n    self.formatDate = formatDate;\r\n    self._animationLoop = [];\r\n    self._handlers = [];\r\n    self._bind = bind;\r\n    self._setHoursFromDate = setHoursFromDate;\r\n    self.changeMonth = changeMonth;\r\n    self.changeYear = changeYear;\r\n    self.clear = clear;\r\n    self.close = close;\r\n    self._createElement = createElement;\r\n    self.destroy = destroy;\r\n    self.isEnabled = isEnabled;\r\n    self.jumpToDate = jumpToDate;\r\n    self.open = open;\r\n    self.redraw = redraw;\r\n    self.set = set;\r\n    self.setDate = setDate;\r\n    self.toggle = toggle;\r\n    function setupHelperFunctions() {\r\n        self.utils = {\r\n            getDaysInMonth: function (month, yr) {\r\n                if (month === void 0) { month = self.currentMonth; }\r\n                if (yr === void 0) { yr = self.currentYear; }\r\n                if (month === 1 && ((yr % 4 === 0 && yr % 100 !== 0) || yr % 400 === 0))\r\n                    return 29;\r\n                return self.l10n.daysInMonth[month];\r\n            },\r\n        };\r\n    }\r\n    function init() {\r\n        self.element = self.input = element;\r\n        self.isOpen = false;\r\n        parseConfig();\r\n        setupLocale();\r\n        setupInputs();\r\n        setupDates();\r\n        setupHelperFunctions();\r\n        if (!self.isMobile)\r\n            build();\r\n        bindEvents();\r\n        if (self.selectedDates.length || self.config.noCalendar) {\r\n            if (self.config.enableTime) {\r\n                setHoursFromDate(self.config.noCalendar\r\n                    ? self.latestSelectedDateObj || self.config.minDate\r\n                    : undefined);\r\n            }\r\n            updateValue(false);\r\n        }\r\n        self.showTimeInput =\r\n            self.selectedDates.length > 0 || self.config.noCalendar;\r\n        if (self.weekWrapper !== undefined && self.daysContainer !== undefined) {\r\n            self.calendarContainer.style.width =\r\n                self.daysContainer.offsetWidth + self.weekWrapper.offsetWidth + "px";\r\n        }\r\n        if (!self.isMobile)\r\n            positionCalendar();\r\n        triggerEvent("onReady");\r\n    }\r\n    function bindToInstance(fn) {\r\n        return fn.bind(self);\r\n    }\r\n    function updateTime(e) {\r\n        if (self.config.noCalendar && self.selectedDates.length === 0) {\r\n            var minDate = self.config.minDate;\r\n            self.setDate(new Date().setHours(!minDate ? self.config.defaultHour : minDate.getHours(), !minDate ? self.config.defaultMinute : minDate.getMinutes(), !minDate || !self.config.enableSeconds\r\n                ? self.config.defaultSeconds\r\n                : minDate.getSeconds()), false);\r\n            setHoursFromInputs();\r\n            updateValue();\r\n        }\r\n        timeWrapper(e);\r\n        if (self.selectedDates.length === 0)\r\n            return;\r\n        if (!self.minDateHasTime ||\r\n            e.type !== "input" ||\r\n            e.target.value.length >= 2) {\r\n            setHoursFromInputs();\r\n            updateValue();\r\n        }\r\n        else {\r\n            setTimeout(function () {\r\n                setHoursFromInputs();\r\n                updateValue();\r\n            }, 1000);\r\n        }\r\n    }\r\n    function ampm2military(hour, amPM) {\r\n        return hour % 12 + 12 * int(amPM === self.l10n.amPM[1]);\r\n    }\r\n    function military2ampm(hour) {\r\n        switch (hour % 24) {\r\n            case 0:\r\n            case 12:\r\n                return 12;\r\n            default:\r\n                return hour % 12;\r\n        }\r\n    }\r\n    function setHoursFromInputs() {\r\n        if (self.hourElement === undefined || self.minuteElement === undefined)\r\n            return;\r\n        var hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24, minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60, seconds = self.secondElement !== undefined\r\n            ? (parseInt(self.secondElement.value, 10) || 0) % 60\r\n            : 0;\r\n        if (self.amPM !== undefined)\r\n            hours = ampm2military(hours, self.amPM.textContent);\r\n        if (self.config.minDate &&\r\n            self.minDateHasTime &&\r\n            self.latestSelectedDateObj &&\r\n            compareDates(self.latestSelectedDateObj, self.config.minDate) === 0) {\r\n            hours = Math.max(hours, self.config.minDate.getHours());\r\n            if (hours === self.config.minDate.getHours())\r\n                minutes = Math.max(minutes, self.config.minDate.getMinutes());\r\n        }\r\n        if (self.config.maxDate &&\r\n            self.maxDateHasTime &&\r\n            self.latestSelectedDateObj &&\r\n            compareDates(self.latestSelectedDateObj, self.config.maxDate) === 0) {\r\n            hours = Math.min(hours, self.config.maxDate.getHours());\r\n            if (hours === self.config.maxDate.getHours())\r\n                minutes = Math.min(minutes, self.config.maxDate.getMinutes());\r\n        }\r\n        setHours(hours, minutes, seconds);\r\n    }\r\n    function setHoursFromDate(dateObj) {\r\n        var date = dateObj || self.latestSelectedDateObj;\r\n        if (date)\r\n            setHours(date.getHours(), date.getMinutes(), date.getSeconds());\r\n    }\r\n    function setHours(hours, minutes, seconds) {\r\n        if (self.latestSelectedDateObj !== undefined) {\r\n            self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);\r\n        }\r\n        if (!self.hourElement || !self.minuteElement || self.isMobile)\r\n            return;\r\n        self.hourElement.value = pad(!self.config.time_24hr\r\n            ? (12 + hours) % 12 + 12 * int(hours % 12 === 0)\r\n            : hours);\r\n        self.minuteElement.value = pad(minutes);\r\n        if (self.amPM !== undefined)\r\n            self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];\r\n        if (self.secondElement !== undefined)\r\n            self.secondElement.value = pad(seconds);\r\n    }\r\n    function onYearInput(event) {\r\n        var year = parseInt(event.target.value) + (event.delta || 0);\r\n        if (year.toString().length === 4 || event.key === "Enter") {\r\n            self.currentYearElement.blur();\r\n            if (!/[^\\d]/.test(year.toString()))\r\n                changeYear(year);\r\n        }\r\n    }\r\n    function bind(element, event, handler) {\r\n        if (event instanceof Array)\r\n            return event.forEach(function (ev) { return bind(element, ev, handler); });\r\n        if (element instanceof Array)\r\n            return element.forEach(function (el) { return bind(el, event, handler); });\r\n        element.addEventListener(event, handler);\r\n        self._handlers.push({ element: element, event: event, handler: handler });\r\n    }\r\n    function onClick(handler) {\r\n        return function (evt) {\r\n            evt.which === 1 && handler(evt);\r\n        };\r\n    }\r\n    function triggerChange() {\r\n        triggerEvent("onChange");\r\n    }\r\n    function bindEvents() {\r\n        if (self.config.wrap) {\r\n            ["open", "close", "toggle", "clear"].forEach(function (evt) {\r\n                Array.prototype.forEach.call(self.element.querySelectorAll("[data-" + evt + "]"), function (el) {\r\n                    return bind(el, "click", self[evt]);\r\n                });\r\n            });\r\n        }\r\n        if (self.isMobile) {\r\n            setupMobile();\r\n            return;\r\n        }\r\n        var debouncedResize = debounce(onResize, 50);\r\n        self._debouncedChange = debounce(triggerChange, 300);\r\n        if (self.config.mode === "range" &&\r\n            self.daysContainer &&\r\n            !/iPhone|iPad|iPod/i.test(navigator.userAgent))\r\n            bind(self.daysContainer, "mouseover", function (e) {\r\n                return onMouseOver(e.target);\r\n            });\r\n        bind(window.document.body, "keydown", onKeyDown);\r\n        if (!self.config.static)\r\n            bind(self._input, "keydown", onKeyDown);\r\n        if (!self.config.inline && !self.config.static)\r\n            bind(window, "resize", debouncedResize);\r\n        if (window.ontouchstart !== undefined)\r\n            bind(window.document.body, "touchstart", documentClick);\r\n        bind(window.document.body, "mousedown", onClick(documentClick));\r\n        bind(self._input, "blur", documentClick);\r\n        if (self.config.clickOpens === true) {\r\n            bind(self._input, "focus", self.open);\r\n            bind(self._input, "mousedown", onClick(self.open));\r\n        }\r\n        if (self.daysContainer !== undefined) {\r\n            self.monthNav.addEventListener("wheel", function (e) { return e.preventDefault(); });\r\n            bind(self.monthNav, "wheel", debounce(onMonthNavScroll, 10));\r\n            bind(self.monthNav, "mousedown", onClick(onMonthNavClick));\r\n            bind(self.monthNav, ["keyup", "increment"], onYearInput);\r\n            bind(self.daysContainer, "mousedown", onClick(selectDate));\r\n            if (self.config.animate) {\r\n                bind(self.daysContainer, ["webkitAnimationEnd", "animationend"], animateDays);\r\n                bind(self.monthNav, ["webkitAnimationEnd", "animationend"], animateMonths);\r\n            }\r\n        }\r\n        if (self.timeContainer !== undefined &&\r\n            self.minuteElement !== undefined &&\r\n            self.hourElement !== undefined) {\r\n            var selText = function (e) {\r\n                return e.target.select();\r\n            };\r\n            bind(self.timeContainer, ["wheel", "input", "increment"], updateTime);\r\n            bind(self.timeContainer, "mousedown", onClick(timeIncrement));\r\n            bind(self.timeContainer, ["wheel", "increment"], self._debouncedChange);\r\n            bind(self.timeContainer, "input", triggerChange);\r\n            bind([self.hourElement, self.minuteElement], ["focus", "click"], selText);\r\n            if (self.secondElement !== undefined)\r\n                bind(self.secondElement, "focus", function () { return self.secondElement && self.secondElement.select(); });\r\n            if (self.amPM !== undefined) {\r\n                bind(self.amPM, "mousedown", onClick(function (e) {\r\n                    updateTime(e);\r\n                    triggerChange();\r\n                }));\r\n            }\r\n        }\r\n    }\r\n    function processPostDayAnimation() {\r\n        self._animationLoop.forEach(function (f) { return f(); });\r\n        self._animationLoop = [];\r\n    }\r\n    function animateDays(e) {\r\n        if (self.daysContainer && self.daysContainer.childNodes.length > 1) {\r\n            switch (e.animationName) {\r\n                case "fpSlideLeft":\r\n                    self.daysContainer.lastChild &&\r\n                        self.daysContainer.lastChild.classList.remove("slideLeftNew");\r\n                    self.daysContainer.removeChild(self.daysContainer\r\n                        .firstChild);\r\n                    self.days = self.daysContainer.firstChild;\r\n                    processPostDayAnimation();\r\n                    break;\r\n                case "fpSlideRight":\r\n                    self.daysContainer.firstChild &&\r\n                        self.daysContainer.firstChild.classList.remove("slideRightNew");\r\n                    self.daysContainer.removeChild(self.daysContainer\r\n                        .lastChild);\r\n                    self.days = self.daysContainer.firstChild;\r\n                    processPostDayAnimation();\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n    function animateMonths(e) {\r\n        switch (e.animationName) {\r\n            case "fpSlideLeftNew":\r\n            case "fpSlideRightNew":\r\n                self.navigationCurrentMonth.classList.remove("slideLeftNew");\r\n                self.navigationCurrentMonth.classList.remove("slideRightNew");\r\n                var nav = self.navigationCurrentMonth;\r\n                while (nav.nextSibling &&\r\n                    /curr/.test(nav.nextSibling.className))\r\n                    self.monthNav.removeChild(nav.nextSibling);\r\n                while (nav.previousSibling &&\r\n                    /curr/.test(nav.previousSibling.className))\r\n                    self.monthNav.removeChild(nav.previousSibling);\r\n                self.oldCurMonth = undefined;\r\n                break;\r\n        }\r\n    }\r\n    function jumpToDate(jumpDate) {\r\n        var jumpTo = jumpDate !== undefined\r\n            ? parseDate(jumpDate)\r\n            : self.latestSelectedDateObj ||\r\n                (self.config.minDate && self.config.minDate > self.now\r\n                    ? self.config.minDate\r\n                    : self.config.maxDate && self.config.maxDate < self.now\r\n                        ? self.config.maxDate\r\n                        : self.now);\r\n        try {\r\n            if (jumpTo !== undefined) {\r\n                self.currentYear = jumpTo.getFullYear();\r\n                self.currentMonth = jumpTo.getMonth();\r\n            }\r\n        }\r\n        catch (e) {\r\n            e.message = "Invalid date supplied: " + jumpTo;\r\n            self.config.errorHandler(e);\r\n        }\r\n        self.redraw();\r\n    }\r\n    function timeIncrement(e) {\r\n        if (~e.target.className.indexOf("arrow"))\r\n            incrementNumInput(e, e.target.classList.contains("arrowUp") ? 1 : -1);\r\n    }\r\n    function incrementNumInput(e, delta, inputElem) {\r\n        var target = e && e.target;\r\n        var input = inputElem ||\r\n            (target && target.parentNode && target.parentNode.firstChild);\r\n        var event = createEvent("increment");\r\n        event.delta = delta;\r\n        input && input.dispatchEvent(event);\r\n    }\r\n    function build() {\r\n        var fragment = window.document.createDocumentFragment();\r\n        self.calendarContainer = createElement("div", "flatpickr-calendar");\r\n        self.calendarContainer.tabIndex = -1;\r\n        if (!self.config.noCalendar) {\r\n            fragment.appendChild(buildMonthNav());\r\n            self.innerContainer = createElement("div", "flatpickr-innerContainer");\r\n            if (self.config.weekNumbers) {\r\n                var _a = buildWeeks(), weekWrapper = _a.weekWrapper, weekNumbers = _a.weekNumbers;\r\n                self.innerContainer.appendChild(weekWrapper);\r\n                self.weekNumbers = weekNumbers;\r\n                self.weekWrapper = weekWrapper;\r\n            }\r\n            self.rContainer = createElement("div", "flatpickr-rContainer");\r\n            self.rContainer.appendChild(buildWeekdays());\r\n            if (!self.daysContainer) {\r\n                self.daysContainer = createElement("div", "flatpickr-days");\r\n                self.daysContainer.tabIndex = -1;\r\n            }\r\n            buildDays();\r\n            self.rContainer.appendChild(self.daysContainer);\r\n            self.innerContainer.appendChild(self.rContainer);\r\n            fragment.appendChild(self.innerContainer);\r\n        }\r\n        if (self.config.enableTime) {\r\n            fragment.appendChild(buildTime());\r\n        }\r\n        toggleClass(self.calendarContainer, "rangeMode", self.config.mode === "range");\r\n        toggleClass(self.calendarContainer, "animate", self.config.animate);\r\n        self.calendarContainer.appendChild(fragment);\r\n        var customAppend = self.config.appendTo !== undefined && self.config.appendTo.nodeType;\r\n        if (self.config.inline || self.config.static) {\r\n            self.calendarContainer.classList.add(self.config.inline ? "inline" : "static");\r\n            if (self.config.inline) {\r\n                if (!customAppend && self.element.parentNode)\r\n                    self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);\r\n                else if (self.config.appendTo !== undefined)\r\n                    self.config.appendTo.appendChild(self.calendarContainer);\r\n            }\r\n            if (self.config.static) {\r\n                var wrapper = createElement("div", "flatpickr-wrapper");\r\n                if (self.element.parentNode)\r\n                    self.element.parentNode.insertBefore(wrapper, self.element);\r\n                wrapper.appendChild(self.element);\r\n                if (self.altInput)\r\n                    wrapper.appendChild(self.altInput);\r\n                wrapper.appendChild(self.calendarContainer);\r\n            }\r\n        }\r\n        if (!self.config.static && !self.config.inline)\r\n            (self.config.appendTo !== undefined\r\n                ? self.config.appendTo\r\n                : window.document.body).appendChild(self.calendarContainer);\r\n    }\r\n    function createDay(className, date, dayNumber, i) {\r\n        var dateIsEnabled = isEnabled(date, true), dayElement = createElement("span", "flatpickr-day " + className, date.getDate().toString());\r\n        dayElement.dateObj = date;\r\n        dayElement.$i = i;\r\n        dayElement.setAttribute("aria-label", self.formatDate(date, self.config.ariaDateFormat));\r\n        if (compareDates(date, self.now) === 0) {\r\n            self.todayDateElem = dayElement;\r\n            dayElement.classList.add("today");\r\n        }\r\n        if (dateIsEnabled) {\r\n            dayElement.tabIndex = -1;\r\n            if (isDateSelected(date)) {\r\n                dayElement.classList.add("selected");\r\n                self.selectedDateElem = dayElement;\r\n                if (self.config.mode === "range") {\r\n                    toggleClass(dayElement, "startRange", self.selectedDates[0] &&\r\n                        compareDates(date, self.selectedDates[0]) === 0);\r\n                    toggleClass(dayElement, "endRange", self.selectedDates[1] &&\r\n                        compareDates(date, self.selectedDates[1]) === 0);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            dayElement.classList.add("disabled");\r\n            if (self.selectedDates[0] &&\r\n                self.minRangeDate &&\r\n                date > self.minRangeDate &&\r\n                date < self.selectedDates[0])\r\n                self.minRangeDate = date;\r\n            else if (self.selectedDates[0] &&\r\n                self.maxRangeDate &&\r\n                date < self.maxRangeDate &&\r\n                date > self.selectedDates[0])\r\n                self.maxRangeDate = date;\r\n        }\r\n        if (self.config.mode === "range") {\r\n            if (isDateInRange(date) && !isDateSelected(date))\r\n                dayElement.classList.add("inRange");\r\n            if (self.selectedDates.length === 1 &&\r\n                self.minRangeDate !== undefined &&\r\n                self.maxRangeDate !== undefined &&\r\n                (date < self.minRangeDate || date > self.maxRangeDate))\r\n                dayElement.classList.add("notAllowed");\r\n        }\r\n        if (self.weekNumbers &&\r\n            className !== "prevMonthDay" &&\r\n            dayNumber % 7 === 1) {\r\n            self.weekNumbers.insertAdjacentHTML("beforeend", "<span class=\'disabled flatpickr-day\'>" +\r\n                self.config.getWeek(date) +\r\n                "</span>");\r\n        }\r\n        triggerEvent("onDayCreate", dayElement);\r\n        return dayElement;\r\n    }\r\n    function focusOnDay(currentIndex, offset) {\r\n        var newIndex = currentIndex + offset || 0, targetNode = (currentIndex !== undefined\r\n            ? self.days.childNodes[newIndex]\r\n            : self.selectedDateElem ||\r\n                self.todayDateElem ||\r\n                self.days.childNodes[0]);\r\n        var focus = function () {\r\n            targetNode = targetNode || self.days.childNodes[newIndex];\r\n            targetNode.focus();\r\n            if (self.config.mode === "range")\r\n                onMouseOver(targetNode);\r\n        };\r\n        if (targetNode === undefined && offset !== 0) {\r\n            if (offset > 0) {\r\n                self.changeMonth(1, true, undefined, true);\r\n                newIndex = newIndex % 42;\r\n            }\r\n            else if (offset < 0) {\r\n                self.changeMonth(-1, true, undefined, true);\r\n                newIndex += 42;\r\n            }\r\n            return afterDayAnim(focus);\r\n        }\r\n        focus();\r\n    }\r\n    function afterDayAnim(fn) {\r\n        self.config.animate === true ? self._animationLoop.push(fn) : fn();\r\n    }\r\n    function buildDays(delta) {\r\n        if (self.daysContainer === undefined) {\r\n            return;\r\n        }\r\n        var firstOfMonth = (new Date(self.currentYear, self.currentMonth, 1).getDay() -\r\n            self.l10n.firstDayOfWeek +\r\n            7) %\r\n            7, isRangeMode = self.config.mode === "range";\r\n        var prevMonthDays = self.utils.getDaysInMonth((self.currentMonth - 1 + 12) % 12);\r\n        var daysInMonth = self.utils.getDaysInMonth(), days = window.document.createDocumentFragment();\r\n        var dayNumber = prevMonthDays + 1 - firstOfMonth, dayIndex = 0;\r\n        if (self.weekNumbers && self.weekNumbers.firstChild)\r\n            self.weekNumbers.textContent = "";\r\n        if (isRangeMode) {\r\n            self.minRangeDate = new Date(self.currentYear, self.currentMonth - 1, dayNumber);\r\n            self.maxRangeDate = new Date(self.currentYear, self.currentMonth + 1, (42 - firstOfMonth) % daysInMonth);\r\n        }\r\n        for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {\r\n            days.appendChild(createDay("prevMonthDay", new Date(self.currentYear, self.currentMonth - 1, dayNumber), dayNumber, dayIndex));\r\n        }\r\n        for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {\r\n            days.appendChild(createDay("", new Date(self.currentYear, self.currentMonth, dayNumber), dayNumber, dayIndex));\r\n        }\r\n        for (var dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth; dayNum++, dayIndex++) {\r\n            days.appendChild(createDay("nextMonthDay", new Date(self.currentYear, self.currentMonth + 1, dayNum % daysInMonth), dayNum, dayIndex));\r\n        }\r\n        if (isRangeMode && self.selectedDates.length === 1 && days.childNodes[0]) {\r\n            self._hidePrevMonthArrow =\r\n                self._hidePrevMonthArrow ||\r\n                    (!!self.minRangeDate &&\r\n                        self.minRangeDate > days.childNodes[0].dateObj);\r\n            self._hideNextMonthArrow =\r\n                self._hideNextMonthArrow ||\r\n                    (!!self.maxRangeDate &&\r\n                        self.maxRangeDate <\r\n                            new Date(self.currentYear, self.currentMonth + 1, 1));\r\n        }\r\n        else\r\n            updateNavigationCurrentMonth();\r\n        var dayContainer = createElement("div", "dayContainer");\r\n        dayContainer.appendChild(days);\r\n        if (!self.config.animate || delta === undefined)\r\n            clearNode(self.daysContainer);\r\n        else {\r\n            while (self.daysContainer.childNodes.length > 1)\r\n                self.daysContainer.removeChild(self.daysContainer.firstChild);\r\n        }\r\n        if (delta && delta >= 0)\r\n            self.daysContainer.appendChild(dayContainer);\r\n        else\r\n            self.daysContainer.insertBefore(dayContainer, self.daysContainer.firstChild);\r\n        self.days = self.daysContainer.childNodes[0];\r\n    }\r\n    function buildMonthNav() {\r\n        var monthNavFragment = window.document.createDocumentFragment();\r\n        self.monthNav = createElement("div", "flatpickr-month");\r\n        self.prevMonthNav = createElement("span", "flatpickr-prev-month");\r\n        self.prevMonthNav.innerHTML = self.config.prevArrow;\r\n        self.currentMonthElement = createElement("span", "cur-month");\r\n        self.currentMonthElement.title = self.l10n.scrollTitle;\r\n        var yearInput = createNumberInput("cur-year");\r\n        self.currentYearElement = yearInput.childNodes[0];\r\n        self.currentYearElement.title = self.l10n.scrollTitle;\r\n        if (self.config.minDate)\r\n            self.currentYearElement.min = self.config.minDate\r\n                .getFullYear()\r\n                .toString();\r\n        if (self.config.maxDate) {\r\n            self.currentYearElement.max = self.config.maxDate\r\n                .getFullYear()\r\n                .toString();\r\n            self.currentYearElement.disabled =\r\n                !!self.config.minDate &&\r\n                    self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();\r\n        }\r\n        self.nextMonthNav = createElement("span", "flatpickr-next-month");\r\n        self.nextMonthNav.innerHTML = self.config.nextArrow;\r\n        self.navigationCurrentMonth = createElement("div", "flatpickr-current-month");\r\n        self.navigationCurrentMonth.appendChild(self.currentMonthElement);\r\n        self.navigationCurrentMonth.appendChild(yearInput);\r\n        monthNavFragment.appendChild(self.prevMonthNav);\r\n        monthNavFragment.appendChild(self.navigationCurrentMonth);\r\n        monthNavFragment.appendChild(self.nextMonthNav);\r\n        self.monthNav.appendChild(monthNavFragment);\r\n        Object.defineProperty(self, "_hidePrevMonthArrow", {\r\n            get: function () { return self.__hidePrevMonthArrow; },\r\n            set: function (bool) {\r\n                if (self.__hidePrevMonthArrow !== bool)\r\n                    self.prevMonthNav.style.display = bool ? "none" : "block";\r\n                self.__hidePrevMonthArrow = bool;\r\n            },\r\n        });\r\n        Object.defineProperty(self, "_hideNextMonthArrow", {\r\n            get: function () { return self.__hideNextMonthArrow; },\r\n            set: function (bool) {\r\n                if (self.__hideNextMonthArrow !== bool)\r\n                    self.nextMonthNav.style.display = bool ? "none" : "block";\r\n                self.__hideNextMonthArrow = bool;\r\n            },\r\n        });\r\n        updateNavigationCurrentMonth();\r\n        return self.monthNav;\r\n    }\r\n    function buildTime() {\r\n        self.calendarContainer.classList.add("hasTime");\r\n        if (self.config.noCalendar)\r\n            self.calendarContainer.classList.add("noCalendar");\r\n        self.timeContainer = createElement("div", "flatpickr-time");\r\n        self.timeContainer.tabIndex = -1;\r\n        var separator = createElement("span", "flatpickr-time-separator", ":");\r\n        var hourInput = createNumberInput("flatpickr-hour");\r\n        self.hourElement = hourInput.childNodes[0];\r\n        var minuteInput = createNumberInput("flatpickr-minute");\r\n        self.minuteElement = minuteInput.childNodes[0];\r\n        self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;\r\n        self.hourElement.value = pad(self.latestSelectedDateObj\r\n            ? self.latestSelectedDateObj.getHours()\r\n            : self.config.time_24hr\r\n                ? self.config.defaultHour\r\n                : military2ampm(self.config.defaultHour));\r\n        self.minuteElement.value = pad(self.latestSelectedDateObj\r\n            ? self.latestSelectedDateObj.getMinutes()\r\n            : self.config.defaultMinute);\r\n        self.hourElement.step = self.config.hourIncrement.toString();\r\n        self.minuteElement.step = self.config.minuteIncrement.toString();\r\n        self.hourElement.min = self.config.time_24hr ? "0" : "1";\r\n        self.hourElement.max = self.config.time_24hr ? "23" : "12";\r\n        self.minuteElement.min = "0";\r\n        self.minuteElement.max = "59";\r\n        self.hourElement.title = self.minuteElement.title = self.l10n.scrollTitle;\r\n        self.timeContainer.appendChild(hourInput);\r\n        self.timeContainer.appendChild(separator);\r\n        self.timeContainer.appendChild(minuteInput);\r\n        if (self.config.time_24hr)\r\n            self.timeContainer.classList.add("time24hr");\r\n        if (self.config.enableSeconds) {\r\n            self.timeContainer.classList.add("hasSeconds");\r\n            var secondInput = createNumberInput("flatpickr-second");\r\n            self.secondElement = secondInput.childNodes[0];\r\n            self.secondElement.value = pad(self.latestSelectedDateObj\r\n                ? self.latestSelectedDateObj.getSeconds()\r\n                : self.config.defaultSeconds);\r\n            self.secondElement.step = self.minuteElement.step;\r\n            self.secondElement.min = self.minuteElement.min;\r\n            self.secondElement.max = self.minuteElement.max;\r\n            self.timeContainer.appendChild(createElement("span", "flatpickr-time-separator", ":"));\r\n            self.timeContainer.appendChild(secondInput);\r\n        }\r\n        if (!self.config.time_24hr) {\r\n            self.amPM = createElement("span", "flatpickr-am-pm", self.l10n.amPM[int((self.latestSelectedDateObj\r\n                ? self.hourElement.value\r\n                : self.config.defaultHour) > 11)]);\r\n            self.amPM.title = self.l10n.toggleTitle;\r\n            self.amPM.tabIndex = -1;\r\n            self.timeContainer.appendChild(self.amPM);\r\n        }\r\n        return self.timeContainer;\r\n    }\r\n    function buildWeekdays() {\r\n        if (!self.weekdayContainer)\r\n            self.weekdayContainer = createElement("div", "flatpickr-weekdays");\r\n        var firstDayOfWeek = self.l10n.firstDayOfWeek;\r\n        var weekdays = self.l10n.weekdays.shorthand.slice();\r\n        if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {\r\n            weekdays = weekdays.splice(firstDayOfWeek, weekdays.length).concat(weekdays.splice(0, firstDayOfWeek));\r\n        }\r\n        self.weekdayContainer.innerHTML = "\\n    <span class=flatpickr-weekday>\\n      " + weekdays.join("</span><span class=flatpickr-weekday>") + "\\n    </span>\\n    ";\r\n        return self.weekdayContainer;\r\n    }\r\n    function buildWeeks() {\r\n        self.calendarContainer.classList.add("hasWeeks");\r\n        var weekWrapper = createElement("div", "flatpickr-weekwrapper");\r\n        weekWrapper.appendChild(createElement("span", "flatpickr-weekday", self.l10n.weekAbbreviation));\r\n        var weekNumbers = createElement("div", "flatpickr-weeks");\r\n        weekWrapper.appendChild(weekNumbers);\r\n        return {\r\n            weekWrapper: weekWrapper,\r\n            weekNumbers: weekNumbers,\r\n        };\r\n    }\r\n    function changeMonth(value, is_offset, animate, from_keyboard) {\r\n        if (is_offset === void 0) { is_offset = true; }\r\n        if (animate === void 0) { animate = self.config.animate; }\r\n        if (from_keyboard === void 0) { from_keyboard = false; }\r\n        var delta = is_offset ? value : value - self.currentMonth;\r\n        if ((delta < 0 && self._hidePrevMonthArrow) ||\r\n            (delta > 0 && self._hideNextMonthArrow))\r\n            return;\r\n        self.currentMonth += delta;\r\n        if (self.currentMonth < 0 || self.currentMonth > 11) {\r\n            self.currentYear += self.currentMonth > 11 ? 1 : -1;\r\n            self.currentMonth = (self.currentMonth + 12) % 12;\r\n            triggerEvent("onYearChange");\r\n        }\r\n        buildDays(animate ? delta : undefined);\r\n        if (!animate) {\r\n            triggerEvent("onMonthChange");\r\n            return updateNavigationCurrentMonth();\r\n        }\r\n        var nav = self.navigationCurrentMonth;\r\n        if (delta < 0) {\r\n            while (nav.nextSibling &&\r\n                /curr/.test(nav.nextSibling.className))\r\n                self.monthNav.removeChild(nav.nextSibling);\r\n        }\r\n        else if (delta > 0) {\r\n            while (nav.previousSibling &&\r\n                /curr/.test(nav.previousSibling.className))\r\n                self.monthNav.removeChild(nav.previousSibling);\r\n        }\r\n        self.oldCurMonth = self.navigationCurrentMonth;\r\n        self.navigationCurrentMonth = self.monthNav.insertBefore(self.oldCurMonth.cloneNode(true), delta > 0 ? self.oldCurMonth.nextSibling : self.oldCurMonth);\r\n        var daysContainer = self.daysContainer;\r\n        if (daysContainer.firstChild && daysContainer.lastChild) {\r\n            if (delta > 0) {\r\n                daysContainer.firstChild.classList.add("slideLeft");\r\n                daysContainer.lastChild.classList.add("slideLeftNew");\r\n                self.oldCurMonth.classList.add("slideLeft");\r\n                self.navigationCurrentMonth.classList.add("slideLeftNew");\r\n            }\r\n            else if (delta < 0) {\r\n                daysContainer.firstChild.classList.add("slideRightNew");\r\n                daysContainer.lastChild.classList.add("slideRight");\r\n                self.oldCurMonth.classList.add("slideRight");\r\n                self.navigationCurrentMonth.classList.add("slideRightNew");\r\n            }\r\n        }\r\n        self.currentMonthElement = self.navigationCurrentMonth\r\n            .firstChild;\r\n        self.currentYearElement = self.navigationCurrentMonth.lastChild\r\n            .childNodes[0];\r\n        updateNavigationCurrentMonth();\r\n        if (self.oldCurMonth.firstChild)\r\n            self.oldCurMonth.firstChild.textContent = monthToStr(self.currentMonth - delta, self.config.shorthandCurrentMonth, self.l10n);\r\n        afterDayAnim(function () { return triggerEvent("onMonthChange"); });\r\n        if (from_keyboard &&\r\n            document.activeElement &&\r\n            document.activeElement.$i) {\r\n            var index_1 = document.activeElement.$i;\r\n            afterDayAnim(function () {\r\n                focusOnDay(index_1, 0);\r\n            });\r\n        }\r\n    }\r\n    function clear(triggerChangeEvent) {\r\n        if (triggerChangeEvent === void 0) { triggerChangeEvent = true; }\r\n        self.input.value = "";\r\n        if (self.altInput)\r\n            self.altInput.value = "";\r\n        if (self.mobileInput)\r\n            self.mobileInput.value = "";\r\n        self.selectedDates = [];\r\n        self.latestSelectedDateObj = undefined;\r\n        self.showTimeInput = false;\r\n        self.redraw();\r\n        if (triggerChangeEvent)\r\n            triggerEvent("onChange");\r\n    }\r\n    function close() {\r\n        self.isOpen = false;\r\n        if (!self.isMobile) {\r\n            self.calendarContainer.classList.remove("open");\r\n            self._input.classList.remove("active");\r\n        }\r\n        triggerEvent("onClose");\r\n    }\r\n    function destroy() {\r\n        if (self.config !== undefined)\r\n            triggerEvent("onDestroy");\r\n        for (var i = self._handlers.length; i--;) {\r\n            var h = self._handlers[i];\r\n            h.element.removeEventListener(h.event, h.handler);\r\n        }\r\n        self._handlers = [];\r\n        if (self.mobileInput) {\r\n            if (self.mobileInput.parentNode)\r\n                self.mobileInput.parentNode.removeChild(self.mobileInput);\r\n            self.mobileInput = undefined;\r\n        }\r\n        else if (self.calendarContainer && self.calendarContainer.parentNode)\r\n            self.calendarContainer.parentNode.removeChild(self.calendarContainer);\r\n        if (self.altInput) {\r\n            self.input.type = "text";\r\n            if (self.altInput.parentNode)\r\n                self.altInput.parentNode.removeChild(self.altInput);\r\n            delete self.altInput;\r\n        }\r\n        if (self.input) {\r\n            self.input.type = self.input._type;\r\n            self.input.classList.remove("flatpickr-input");\r\n            self.input.removeAttribute("readonly");\r\n            self.input.value = "";\r\n        }\r\n        [\r\n            "_showTimeInput",\r\n            "latestSelectedDateObj",\r\n            "_hideNextMonthArrow",\r\n            "_hidePrevMonthArrow",\r\n            "__hideNextMonthArrow",\r\n            "__hidePrevMonthArrow",\r\n            "isMobile",\r\n            "isOpen",\r\n            "selectedDateElem",\r\n            "minDateHasTime",\r\n            "maxDateHasTime",\r\n            "days",\r\n            "daysContainer",\r\n            "_input",\r\n            "_positionElement",\r\n            "innerContainer",\r\n            "rContainer",\r\n            "monthNav",\r\n            "todayDateElem",\r\n            "calendarContainer",\r\n            "weekdayContainer",\r\n            "prevMonthNav",\r\n            "nextMonthNav",\r\n            "currentMonthElement",\r\n            "currentYearElement",\r\n            "navigationCurrentMonth",\r\n            "selectedDateElem",\r\n            "config",\r\n        ].forEach(function (k) {\r\n            try {\r\n                delete self[k];\r\n            }\r\n            catch (_) { }\r\n        });\r\n    }\r\n    function isCalendarElem(elem) {\r\n        if (self.config.appendTo && self.config.appendTo.contains(elem))\r\n            return true;\r\n        return self.calendarContainer.contains(elem);\r\n    }\r\n    function documentClick(e) {\r\n        if (self.isOpen && !self.config.inline) {\r\n            var isCalendarElement = isCalendarElem(e.target);\r\n            var isInput = e.target === self.input ||\r\n                e.target === self.altInput ||\r\n                self.element.contains(e.target) ||\r\n                (e.path &&\r\n                    e.path.indexOf &&\r\n                    (~e.path.indexOf(self.input) ||\r\n                        ~e.path.indexOf(self.altInput)));\r\n            var lostFocus = e.type === "blur"\r\n                ? isInput &&\r\n                    e.relatedTarget &&\r\n                    !isCalendarElem(e.relatedTarget)\r\n                : !isInput && !isCalendarElement;\r\n            if (lostFocus &&\r\n                self.config.ignoredFocusElements.indexOf(e.target) === -1) {\r\n                self.close();\r\n                if (self.config.mode === "range" && self.selectedDates.length === 1) {\r\n                    self.clear(false);\r\n                    self.redraw();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    function changeYear(newYear) {\r\n        if (!newYear ||\r\n            (self.currentYearElement.min &&\r\n                newYear < parseInt(self.currentYearElement.min)) ||\r\n            (self.currentYearElement.max &&\r\n                newYear > parseInt(self.currentYearElement.max)))\r\n            return;\r\n        var newYearNum = newYear, isNewYear = self.currentYear !== newYearNum;\r\n        self.currentYear = newYearNum || self.currentYear;\r\n        if (self.config.maxDate &&\r\n            self.currentYear === self.config.maxDate.getFullYear()) {\r\n            self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);\r\n        }\r\n        else if (self.config.minDate &&\r\n            self.currentYear === self.config.minDate.getFullYear()) {\r\n            self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);\r\n        }\r\n        if (isNewYear) {\r\n            self.redraw();\r\n            triggerEvent("onYearChange");\r\n        }\r\n    }\r\n    function isEnabled(date, timeless) {\r\n        if (timeless === void 0) { timeless = true; }\r\n        var dateToCheck = self.parseDate(date, undefined, timeless);\r\n        if ((self.config.minDate &&\r\n            dateToCheck &&\r\n            compareDates(dateToCheck, self.config.minDate, timeless !== undefined ? timeless : !self.minDateHasTime) < 0) ||\r\n            (self.config.maxDate &&\r\n                dateToCheck &&\r\n                compareDates(dateToCheck, self.config.maxDate, timeless !== undefined ? timeless : !self.maxDateHasTime) > 0))\r\n            return false;\r\n        if (!self.config.enable.length && !self.config.disable.length)\r\n            return true;\r\n        if (dateToCheck === undefined)\r\n            return false;\r\n        var bool = self.config.enable.length > 0, array = bool ? self.config.enable : self.config.disable;\r\n        for (var i = 0, d = void 0; i < array.length; i++) {\r\n            d = array[i];\r\n            if (typeof d === "function" &&\r\n                d(dateToCheck))\r\n                return bool;\r\n            else if (d instanceof Date &&\r\n                dateToCheck !== undefined &&\r\n                d.getTime() === dateToCheck.getTime())\r\n                return bool;\r\n            else if (typeof d === "string" && dateToCheck !== undefined) {\r\n                var parsed = self.parseDate(d, undefined, true);\r\n                return parsed && parsed.getTime() === dateToCheck.getTime()\r\n                    ? bool\r\n                    : !bool;\r\n            }\r\n            else if (typeof d === "object" &&\r\n                dateToCheck !== undefined &&\r\n                d.from &&\r\n                d.to &&\r\n                dateToCheck.getTime() >= d.from.getTime() &&\r\n                dateToCheck.getTime() <= d.to.getTime())\r\n                return bool;\r\n        }\r\n        return !bool;\r\n    }\r\n    function onKeyDown(e) {\r\n        var isInput = e.target === self._input;\r\n        var calendarElem = isCalendarElem(e.target);\r\n        var allowInput = self.config.allowInput;\r\n        var allowKeydown = self.isOpen && (!allowInput || !isInput);\r\n        var allowInlineKeydown = self.config.inline && isInput && !allowInput;\r\n        if (e.key === "Enter" && isInput) {\r\n            if (allowInput) {\r\n                self.setDate(self._input.value, true, e.target === self.altInput\r\n                    ? self.config.altFormat\r\n                    : self.config.dateFormat);\r\n                return e.target.blur();\r\n            }\r\n            else\r\n                self.open();\r\n        }\r\n        else if (calendarElem || allowKeydown || allowInlineKeydown) {\r\n            var isTimeObj = !!self.timeContainer &&\r\n                self.timeContainer.contains(e.target);\r\n            switch (e.key) {\r\n                case "Enter":\r\n                    if (isTimeObj)\r\n                        updateValue();\r\n                    else\r\n                        selectDate(e);\r\n                    break;\r\n                case "Escape":\r\n                    e.preventDefault();\r\n                    self.close();\r\n                    break;\r\n                case "Backspace":\r\n                case "Delete":\r\n                    if (isInput && !self.config.allowInput)\r\n                        self.clear();\r\n                    break;\r\n                case "ArrowLeft":\r\n                case "ArrowRight":\r\n                    if (!isTimeObj) {\r\n                        e.preventDefault();\r\n                        if (self.daysContainer) {\r\n                            var delta_1 = e.key === "ArrowRight" ? 1 : -1;\r\n                            if (!e.ctrlKey)\r\n                                focusOnDay(e.target.$i, delta_1);\r\n                            else\r\n                                changeMonth(delta_1, true, undefined, true);\r\n                        }\r\n                    }\r\n                    else if (self.hourElement)\r\n                        self.hourElement.focus();\r\n                    break;\r\n                case "ArrowUp":\r\n                case "ArrowDown":\r\n                    e.preventDefault();\r\n                    var delta = e.key === "ArrowDown" ? 1 : -1;\r\n                    if (self.daysContainer && e.target.$i !== undefined) {\r\n                        if (e.ctrlKey) {\r\n                            changeYear(self.currentYear - delta);\r\n                            focusOnDay(e.target.$i, 0);\r\n                        }\r\n                        else if (!isTimeObj)\r\n                            focusOnDay(e.target.$i, delta * 7);\r\n                    }\r\n                    else if (self.config.enableTime) {\r\n                        if (!isTimeObj && self.hourElement)\r\n                            self.hourElement.focus();\r\n                        updateTime(e);\r\n                        self._debouncedChange();\r\n                    }\r\n                    break;\r\n                case "Tab":\r\n                    if (e.target === self.hourElement) {\r\n                        e.preventDefault();\r\n                        self.minuteElement.select();\r\n                    }\r\n                    else if (e.target === self.minuteElement &&\r\n                        (self.secondElement || self.amPM)) {\r\n                        e.preventDefault();\r\n                        if (self.secondElement !== undefined)\r\n                            self.secondElement.focus();\r\n                        else if (self.amPM !== undefined)\r\n                            self.amPM.focus();\r\n                    }\r\n                    else if (e.target === self.secondElement && self.amPM) {\r\n                        e.preventDefault();\r\n                        self.amPM.focus();\r\n                    }\r\n                    break;\r\n                case self.l10n.amPM[0].charAt(0):\r\n                    if (self.amPM !== undefined && e.target === self.amPM) {\r\n                        self.amPM.textContent = self.l10n.amPM[0];\r\n                        setHoursFromInputs();\r\n                        updateValue();\r\n                    }\r\n                    break;\r\n                case self.l10n.amPM[1].charAt(0):\r\n                    if (self.amPM !== undefined && e.target === self.amPM) {\r\n                        self.amPM.textContent = self.l10n.amPM[1];\r\n                        setHoursFromInputs();\r\n                        updateValue();\r\n                    }\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n            triggerEvent("onKeyDown", e);\r\n        }\r\n    }\r\n    function onMouseOver(elem) {\r\n        if (self.selectedDates.length !== 1 ||\r\n            !elem.classList.contains("flatpickr-day") ||\r\n            self.minRangeDate === undefined ||\r\n            self.maxRangeDate === undefined)\r\n            return;\r\n        var hoverDate = elem.dateObj, initialDate = self.parseDate(self.selectedDates[0], undefined, true), rangeStartDate = Math.min(hoverDate.getTime(), self.selectedDates[0].getTime()), rangeEndDate = Math.max(hoverDate.getTime(), self.selectedDates[0].getTime()), containsDisabled = false;\r\n        for (var t = rangeStartDate; t < rangeEndDate; t += duration.DAY) {\r\n            if (!isEnabled(new Date(t))) {\r\n                containsDisabled = true;\r\n                break;\r\n            }\r\n        }\r\n        var _loop_1 = function (i, date) {\r\n            var timestamp = date.getTime();\r\n            var outOfRange = timestamp < self.minRangeDate.getTime() ||\r\n                timestamp > self.maxRangeDate.getTime(), dayElem = self.days.childNodes[i];\r\n            if (outOfRange) {\r\n                dayElem.classList.add("notAllowed");\r\n                ["inRange", "startRange", "endRange"].forEach(function (c) {\r\n                    dayElem.classList.remove(c);\r\n                });\r\n                return "continue";\r\n            }\r\n            else if (containsDisabled && !outOfRange)\r\n                return "continue";\r\n            ["startRange", "inRange", "endRange", "notAllowed"].forEach(function (c) {\r\n                dayElem.classList.remove(c);\r\n            });\r\n            var minRangeDate = Math.max(self.minRangeDate.getTime(), rangeStartDate), maxRangeDate = Math.min(self.maxRangeDate.getTime(), rangeEndDate);\r\n            elem.classList.add(hoverDate < self.selectedDates[0] ? "startRange" : "endRange");\r\n            if (initialDate < hoverDate && timestamp === initialDate.getTime())\r\n                dayElem.classList.add("startRange");\r\n            else if (initialDate > hoverDate && timestamp === initialDate.getTime())\r\n                dayElem.classList.add("endRange");\r\n            if (timestamp >= minRangeDate && timestamp <= maxRangeDate)\r\n                dayElem.classList.add("inRange");\r\n        };\r\n        for (var i = 0, date = self.days.childNodes[i].dateObj; i < 42; i++, date =\r\n                self.days.childNodes[i] &&\r\n                    self.days.childNodes[i].dateObj) {\r\n            _loop_1(i, date);\r\n        }\r\n    }\r\n    function onResize() {\r\n        if (self.isOpen && !self.config.static && !self.config.inline)\r\n            positionCalendar();\r\n    }\r\n    function open(e, positionElement) {\r\n        if (positionElement === void 0) { positionElement = self._input; }\r\n        if (self.isMobile) {\r\n            if (e) {\r\n                e.preventDefault();\r\n                e.target && e.target.blur();\r\n            }\r\n            setTimeout(function () {\r\n                self.mobileInput !== undefined && self.mobileInput.click();\r\n            }, 0);\r\n            triggerEvent("onOpen");\r\n            return;\r\n        }\r\n        if (self._input.disabled || self.config.inline)\r\n            return;\r\n        var wasOpen = self.isOpen;\r\n        self.isOpen = true;\r\n        positionCalendar(positionElement);\r\n        self.calendarContainer.classList.add("open");\r\n        self._input.classList.add("active");\r\n        !wasOpen && triggerEvent("onOpen");\r\n    }\r\n    function minMaxDateSetter(type) {\r\n        return function (date) {\r\n            var dateObj = (self.config["_" + type + "Date"] = self.parseDate(date));\r\n            var inverseDateObj = self.config["_" + (type === "min" ? "max" : "min") + "Date"];\r\n            if (dateObj !== undefined) {\r\n                self[type === "min" ? "minDateHasTime" : "maxDateHasTime"] =\r\n                    dateObj.getHours() > 0 ||\r\n                        dateObj.getMinutes() > 0 ||\r\n                        dateObj.getSeconds() > 0;\r\n            }\r\n            if (self.selectedDates) {\r\n                self.selectedDates = self.selectedDates.filter(function (d) { return isEnabled(d); });\r\n                if (!self.selectedDates.length && type === "min")\r\n                    setHoursFromDate(dateObj);\r\n                updateValue();\r\n            }\r\n            if (self.daysContainer) {\r\n                redraw();\r\n                if (dateObj !== undefined)\r\n                    self.currentYearElement[type] = dateObj.getFullYear().toString();\r\n                else\r\n                    self.currentYearElement.removeAttribute(type);\r\n                self.currentYearElement.disabled =\r\n                    !!inverseDateObj &&\r\n                        dateObj !== undefined &&\r\n                        inverseDateObj.getFullYear() === dateObj.getFullYear();\r\n            }\r\n        };\r\n    }\r\n    function parseConfig() {\r\n        var boolOpts = [\r\n            "wrap",\r\n            "weekNumbers",\r\n            "allowInput",\r\n            "clickOpens",\r\n            "time_24hr",\r\n            "enableTime",\r\n            "noCalendar",\r\n            "altInput",\r\n            "shorthandCurrentMonth",\r\n            "inline",\r\n            "static",\r\n            "enableSeconds",\r\n            "disableMobile",\r\n        ];\r\n        var hooks = [\r\n            "onChange",\r\n            "onClose",\r\n            "onDayCreate",\r\n            "onDestroy",\r\n            "onKeyDown",\r\n            "onMonthChange",\r\n            "onOpen",\r\n            "onParseConfig",\r\n            "onReady",\r\n            "onValueUpdate",\r\n            "onYearChange",\r\n        ];\r\n        self.config = __assign({}, flatpickr.defaultConfig);\r\n        var userConfig = __assign({}, instanceConfig, JSON.parse(JSON.stringify(element.dataset || {})));\r\n        var formats$$1 = {};\r\n        Object.defineProperty(self.config, "enable", {\r\n            get: function () { return self.config._enable || []; },\r\n            set: function (dates) {\r\n                self.config._enable = parseDateRules(dates);\r\n            },\r\n        });\r\n        Object.defineProperty(self.config, "disable", {\r\n            get: function () { return self.config._disable || []; },\r\n            set: function (dates) {\r\n                self.config._disable = parseDateRules(dates);\r\n            },\r\n        });\r\n        if (!userConfig.dateFormat && userConfig.enableTime) {\r\n            formats$$1.dateFormat = userConfig.noCalendar\r\n                ? "H:i" + (userConfig.enableSeconds ? ":S" : "")\r\n                : flatpickr.defaultConfig.dateFormat +\r\n                    " H:i" +\r\n                    (userConfig.enableSeconds ? ":S" : "");\r\n        }\r\n        if (userConfig.altInput && userConfig.enableTime && !userConfig.altFormat) {\r\n            formats$$1.altFormat = userConfig.noCalendar\r\n                ? "h:i" + (userConfig.enableSeconds ? ":S K" : " K")\r\n                : flatpickr.defaultConfig.altFormat +\r\n                    (" h:i" + (userConfig.enableSeconds ? ":S" : "") + " K");\r\n        }\r\n        Object.defineProperty(self.config, "minDate", {\r\n            get: function () { return self.config._minDate; },\r\n            set: minMaxDateSetter("min"),\r\n        });\r\n        Object.defineProperty(self.config, "maxDate", {\r\n            get: function () { return self.config._maxDate; },\r\n            set: minMaxDateSetter("max"),\r\n        });\r\n        Object.assign(self.config, formats$$1, userConfig);\r\n        for (var i = 0; i < boolOpts.length; i++)\r\n            self.config[boolOpts[i]] =\r\n                self.config[boolOpts[i]] === true ||\r\n                    self.config[boolOpts[i]] === "true";\r\n        for (var i = hooks.length; i--;) {\r\n            if (self.config[hooks[i]] !== undefined) {\r\n                self.config[hooks[i]] = arrayify(self.config[hooks[i]] || []).map(bindToInstance);\r\n            }\r\n        }\r\n        for (var i = 0; i < self.config.plugins.length; i++) {\r\n            var pluginConf = self.config.plugins[i](self) || {};\r\n            for (var key in pluginConf) {\r\n                if (~hooks.indexOf(key)) {\r\n                    self.config[key] = arrayify(pluginConf[key])\r\n                        .map(bindToInstance)\r\n                        .concat(self.config[key]);\r\n                }\r\n                else if (typeof userConfig[key] === "undefined")\r\n                    self.config[key] = pluginConf[key];\r\n            }\r\n        }\r\n        self.isMobile =\r\n            !self.config.disableMobile &&\r\n                !self.config.inline &&\r\n                self.config.mode === "single" &&\r\n                !self.config.disable.length &&\r\n                !self.config.enable.length &&\r\n                !self.config.weekNumbers &&\r\n                /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\r\n        triggerEvent("onParseConfig");\r\n    }\r\n    function setupLocale() {\r\n        if (typeof self.config.locale !== "object" &&\r\n            typeof flatpickr.l10ns[self.config.locale] === "undefined")\r\n            self.config.errorHandler(new Error("flatpickr: invalid locale " + self.config.locale));\r\n        self.l10n = __assign({}, flatpickr.l10ns.default, typeof self.config.locale === "object"\r\n            ? self.config.locale\r\n            : self.config.locale !== "default"\r\n                ? flatpickr.l10ns[self.config.locale]\r\n                : undefined);\r\n        tokenRegex.K = "(" + self.l10n.amPM[0] + "|" + self.l10n.amPM[1] + "|" + self.l10n.amPM[0].toLowerCase() + "|" + self.l10n.amPM[1].toLowerCase() + ")";\r\n    }\r\n    function positionCalendar(positionElement) {\r\n        if (positionElement === void 0) { positionElement = self._positionElement; }\r\n        if (self.calendarContainer === undefined)\r\n            return;\r\n        var calendarHeight = self.calendarContainer.offsetHeight, calendarWidth = self.calendarContainer.offsetWidth, configPos = self.config.position, inputBounds = positionElement.getBoundingClientRect(), distanceFromBottom = window.innerHeight - inputBounds.bottom, showOnTop = configPos === "above" ||\r\n            (configPos !== "below" &&\r\n                distanceFromBottom < calendarHeight &&\r\n                inputBounds.top > calendarHeight);\r\n        var top = window.pageYOffset +\r\n            inputBounds.top +\r\n            (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);\r\n        toggleClass(self.calendarContainer, "arrowTop", !showOnTop);\r\n        toggleClass(self.calendarContainer, "arrowBottom", showOnTop);\r\n        if (self.config.inline)\r\n            return;\r\n        var left = window.pageXOffset + inputBounds.left;\r\n        var right = window.document.body.offsetWidth - inputBounds.right;\r\n        var rightMost = left + calendarWidth > window.document.body.offsetWidth;\r\n        toggleClass(self.calendarContainer, "rightMost", rightMost);\r\n        if (self.config.static)\r\n            return;\r\n        self.calendarContainer.style.top = top + "px";\r\n        if (!rightMost) {\r\n            self.calendarContainer.style.left = left + "px";\r\n            self.calendarContainer.style.right = "auto";\r\n        }\r\n        else {\r\n            self.calendarContainer.style.left = "auto";\r\n            self.calendarContainer.style.right = right + "px";\r\n        }\r\n    }\r\n    function redraw() {\r\n        if (self.config.noCalendar || self.isMobile)\r\n            return;\r\n        buildWeekdays();\r\n        updateNavigationCurrentMonth();\r\n        buildDays();\r\n    }\r\n    function selectDate(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        var isSelectable = function (day) {\r\n            return day.classList &&\r\n                day.classList.contains("flatpickr-day") &&\r\n                !day.classList.contains("disabled") &&\r\n                !day.classList.contains("notAllowed");\r\n        };\r\n        var t = findParent(e.target, isSelectable);\r\n        if (t === undefined)\r\n            return;\r\n        var target = t;\r\n        var selectedDate = (self.latestSelectedDateObj = new Date(target.dateObj.getTime()));\r\n        var shouldChangeMonth = selectedDate.getMonth() !== self.currentMonth &&\r\n            self.config.mode !== "range";\r\n        self.selectedDateElem = target;\r\n        if (self.config.mode === "single")\r\n            self.selectedDates = [selectedDate];\r\n        else if (self.config.mode === "multiple") {\r\n            var selectedIndex = isDateSelected(selectedDate);\r\n            if (selectedIndex)\r\n                self.selectedDates.splice(parseInt(selectedIndex), 1);\r\n            else\r\n                self.selectedDates.push(selectedDate);\r\n        }\r\n        else if (self.config.mode === "range") {\r\n            if (self.selectedDates.length === 2)\r\n                self.clear();\r\n            self.selectedDates.push(selectedDate);\r\n            if (compareDates(selectedDate, self.selectedDates[0], true) !== 0)\r\n                self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\r\n        }\r\n        setHoursFromInputs();\r\n        if (shouldChangeMonth) {\r\n            var isNewYear = self.currentYear !== selectedDate.getFullYear();\r\n            self.currentYear = selectedDate.getFullYear();\r\n            self.currentMonth = selectedDate.getMonth();\r\n            if (isNewYear)\r\n                triggerEvent("onYearChange");\r\n            triggerEvent("onMonthChange");\r\n        }\r\n        buildDays();\r\n        if (self.config.minDate &&\r\n            self.minDateHasTime &&\r\n            self.config.enableTime &&\r\n            compareDates(selectedDate, self.config.minDate) === 0)\r\n            setHoursFromDate(self.config.minDate);\r\n        updateValue();\r\n        if (self.config.enableTime)\r\n            setTimeout(function () { return (self.showTimeInput = true); }, 50);\r\n        if (self.config.mode === "range") {\r\n            if (self.selectedDates.length === 1) {\r\n                onMouseOver(target);\r\n                self._hidePrevMonthArrow =\r\n                    self._hidePrevMonthArrow ||\r\n                        (self.minRangeDate !== undefined &&\r\n                            self.minRangeDate >\r\n                                self.days.childNodes[0].dateObj);\r\n                self._hideNextMonthArrow =\r\n                    self._hideNextMonthArrow ||\r\n                        (self.maxRangeDate !== undefined &&\r\n                            self.maxRangeDate <\r\n                                new Date(self.currentYear, self.currentMonth + 1, 1));\r\n            }\r\n            else\r\n                updateNavigationCurrentMonth();\r\n        }\r\n        triggerEvent("onChange");\r\n        if (!shouldChangeMonth)\r\n            focusOnDay(target.$i, 0);\r\n        else\r\n            afterDayAnim(function () { return self.selectedDateElem && self.selectedDateElem.focus(); });\r\n        if (self.hourElement !== undefined)\r\n            setTimeout(function () { return self.hourElement !== undefined && self.hourElement.select(); }, 451);\r\n        if (self.config.closeOnSelect) {\r\n            var single = self.config.mode === "single" && !self.config.enableTime;\r\n            var range = self.config.mode === "range" &&\r\n                self.selectedDates.length === 2 &&\r\n                !self.config.enableTime;\r\n            if (single || range)\r\n                self.close();\r\n        }\r\n    }\r\n    function set(option, value) {\r\n        if (option !== null && typeof option === "object")\r\n            Object.assign(self.config, option);\r\n        else\r\n            self.config[option] = value;\r\n        self.redraw();\r\n        jumpToDate();\r\n    }\r\n    function setSelectedDate(inputDate, format) {\r\n        var dates = [];\r\n        if (inputDate instanceof Array)\r\n            dates = inputDate.map(function (d) { return self.parseDate(d, format); });\r\n        else if (inputDate instanceof Date || typeof inputDate === "number")\r\n            dates = [self.parseDate(inputDate, format)];\r\n        else if (typeof inputDate === "string") {\r\n            switch (self.config.mode) {\r\n                case "single":\r\n                    dates = [self.parseDate(inputDate, format)];\r\n                    break;\r\n                case "multiple":\r\n                    dates = inputDate\r\n                        .split(self.config.conjunction)\r\n                        .map(function (date) { return self.parseDate(date, format); });\r\n                    break;\r\n                case "range":\r\n                    dates = inputDate\r\n                        .split(self.l10n.rangeSeparator)\r\n                        .map(function (date) { return self.parseDate(date, format); });\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n        else\r\n            self.config.errorHandler(new Error("Invalid date supplied: " + JSON.stringify(inputDate)));\r\n        self.selectedDates = dates.filter(function (d) { return d instanceof Date && isEnabled(d, false); });\r\n        self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\r\n    }\r\n    function setDate(date, triggerChange, format) {\r\n        if (triggerChange === void 0) { triggerChange = false; }\r\n        if (date !== 0 && !date)\r\n            return self.clear(triggerChange);\r\n        setSelectedDate(date, format);\r\n        self.showTimeInput = self.selectedDates.length > 0;\r\n        self.latestSelectedDateObj = self.selectedDates[0];\r\n        self.redraw();\r\n        jumpToDate();\r\n        setHoursFromDate();\r\n        updateValue(triggerChange);\r\n        if (triggerChange)\r\n            triggerEvent("onChange");\r\n    }\r\n    function parseDateRules(arr) {\r\n        return arr\r\n            .map(function (rule) {\r\n            if (typeof rule === "string" ||\r\n                typeof rule === "number" ||\r\n                rule instanceof Date) {\r\n                return self.parseDate(rule, undefined, true);\r\n            }\r\n            else if (rule &&\r\n                typeof rule === "object" &&\r\n                rule.from &&\r\n                rule.to)\r\n                return {\r\n                    from: self.parseDate(rule.from, undefined),\r\n                    to: self.parseDate(rule.to, undefined),\r\n                };\r\n            return rule;\r\n        })\r\n            .filter(function (x) { return x; });\r\n    }\r\n    function setupDates() {\r\n        self.selectedDates = [];\r\n        self.now = new Date();\r\n        var preloadedDate = self.config.defaultDate || self.input.value;\r\n        if (preloadedDate)\r\n            setSelectedDate(preloadedDate, self.config.dateFormat);\r\n        var initialDate = self.selectedDates.length\r\n            ? self.selectedDates[0]\r\n            : self.config.minDate &&\r\n                self.config.minDate.getTime() > self.now.getTime()\r\n                ? self.config.minDate\r\n                : self.config.maxDate &&\r\n                    self.config.maxDate.getTime() < self.now.getTime()\r\n                    ? self.config.maxDate\r\n                    : self.now;\r\n        self.currentYear = initialDate.getFullYear();\r\n        self.currentMonth = initialDate.getMonth();\r\n        if (self.selectedDates.length)\r\n            self.latestSelectedDateObj = self.selectedDates[0];\r\n        self.minDateHasTime =\r\n            !!self.config.minDate &&\r\n                (self.config.minDate.getHours() > 0 ||\r\n                    self.config.minDate.getMinutes() > 0 ||\r\n                    self.config.minDate.getSeconds() > 0);\r\n        self.maxDateHasTime =\r\n            !!self.config.maxDate &&\r\n                (self.config.maxDate.getHours() > 0 ||\r\n                    self.config.maxDate.getMinutes() > 0 ||\r\n                    self.config.maxDate.getSeconds() > 0);\r\n        Object.defineProperty(self, "showTimeInput", {\r\n            get: function () { return self._showTimeInput; },\r\n            set: function (bool) {\r\n                self._showTimeInput = bool;\r\n                if (self.calendarContainer)\r\n                    toggleClass(self.calendarContainer, "showTimeInput", bool);\r\n                positionCalendar();\r\n            },\r\n        });\r\n    }\r\n    function formatDate(dateObj, frmt) {\r\n        if (self.config !== undefined && self.config.formatDate !== undefined)\r\n            return self.config.formatDate(dateObj, frmt);\r\n        return frmt\r\n            .split("")\r\n            .map(function (c, i, arr) {\r\n            return formats[c] && arr[i - 1] !== "\\\\"\r\n                ? formats[c](dateObj, self.l10n, self.config)\r\n                : c !== "\\\\" ? c : "";\r\n        })\r\n            .join("");\r\n    }\r\n    function parseDate(date, givenFormat, timeless) {\r\n        if (date !== 0 && !date)\r\n            return undefined;\r\n        var parsedDate;\r\n        var date_orig = date;\r\n        if (date instanceof Date)\r\n            parsedDate = new Date(date.getTime());\r\n        else if (typeof date !== "string" &&\r\n            date.toFixed !== undefined)\r\n            parsedDate = new Date(date);\r\n        else if (typeof date === "string") {\r\n            var format = givenFormat || (self.config || flatpickr.defaultConfig).dateFormat;\r\n            var datestr = String(date).trim();\r\n            if (datestr === "today") {\r\n                parsedDate = new Date();\r\n                timeless = true;\r\n            }\r\n            else if (/Z$/.test(datestr) ||\r\n                /GMT$/.test(datestr))\r\n                parsedDate = new Date(date);\r\n            else if (self.config && self.config.parseDate)\r\n                parsedDate = self.config.parseDate(date, format);\r\n            else {\r\n                parsedDate =\r\n                    !self.config || !self.config.noCalendar\r\n                        ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0)\r\n                        : new Date(new Date().setHours(0, 0, 0, 0));\r\n                var matched = void 0, ops = [];\r\n                for (var i = 0, matchIndex = 0, regexStr = ""; i < format.length; i++) {\r\n                    var token = format[i];\r\n                    var isBackSlash = token === "\\\\";\r\n                    var escaped = format[i - 1] === "\\\\" || isBackSlash;\r\n                    if (tokenRegex[token] && !escaped) {\r\n                        regexStr += tokenRegex[token];\r\n                        var match = new RegExp(regexStr).exec(date);\r\n                        if (match && (matched = true)) {\r\n                            ops[token !== "Y" ? "push" : "unshift"]({\r\n                                fn: revFormat[token],\r\n                                val: match[++matchIndex],\r\n                            });\r\n                        }\r\n                    }\r\n                    else if (!isBackSlash)\r\n                        regexStr += ".";\r\n                    ops.forEach(function (_a) {\r\n                        var fn = _a.fn, val = _a.val;\r\n                        return (parsedDate =\r\n                            fn(parsedDate, val, self.l10n) || parsedDate);\r\n                    });\r\n                }\r\n                parsedDate = matched ? parsedDate : undefined;\r\n            }\r\n        }\r\n        if (!(parsedDate instanceof Date)) {\r\n            self.config.errorHandler(new Error("Invalid date provided: " + date_orig));\r\n            return undefined;\r\n        }\r\n        if (timeless === true)\r\n            parsedDate.setHours(0, 0, 0, 0);\r\n        return parsedDate;\r\n    }\r\n    function setupInputs() {\r\n        self.input = self.config.wrap\r\n            ? element.querySelector("[data-input]")\r\n            : element;\r\n        if (!self.input) {\r\n            self.config.errorHandler(new Error("Invalid input element specified"));\r\n            return;\r\n        }\r\n        self.input._type = self.input.type;\r\n        self.input.type = "text";\r\n        self.input.classList.add("flatpickr-input");\r\n        self._input = self.input;\r\n        if (self.config.altInput) {\r\n            self.altInput = createElement(self.input.nodeName, self.input.className + " " + self.config.altInputClass);\r\n            self._input = self.altInput;\r\n            self.altInput.placeholder = self.input.placeholder;\r\n            self.altInput.disabled = self.input.disabled;\r\n            self.altInput.required = self.input.required;\r\n            self.altInput.type = "text";\r\n            self.input.type = "hidden";\r\n            if (!self.config.static && self.input.parentNode)\r\n                self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);\r\n        }\r\n        if (!self.config.allowInput)\r\n            self._input.setAttribute("readonly", "readonly");\r\n        self._positionElement = self.config.positionElement || self._input;\r\n    }\r\n    function setupMobile() {\r\n        var inputType = self.config.enableTime\r\n            ? self.config.noCalendar ? "time" : "datetime-local"\r\n            : "date";\r\n        self.mobileInput = createElement("input", self.input.className + " flatpickr-mobile");\r\n        self.mobileInput.step = self.input.getAttribute("step") || "any";\r\n        self.mobileInput.tabIndex = 1;\r\n        self.mobileInput.type = inputType;\r\n        self.mobileInput.disabled = self.input.disabled;\r\n        self.mobileInput.placeholder = self.input.placeholder;\r\n        self.mobileFormatStr =\r\n            inputType === "datetime-local"\r\n                ? "Y-m-d\\\\TH:i:S"\r\n                : inputType === "date" ? "Y-m-d" : "H:i:S";\r\n        if (self.selectedDates.length) {\r\n            self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);\r\n        }\r\n        if (self.config.minDate)\r\n            self.mobileInput.min = self.formatDate(self.config.minDate, "Y-m-d");\r\n        if (self.config.maxDate)\r\n            self.mobileInput.max = self.formatDate(self.config.maxDate, "Y-m-d");\r\n        self.input.type = "hidden";\r\n        if (self.altInput !== undefined)\r\n            self.altInput.type = "hidden";\r\n        try {\r\n            if (self.input.parentNode)\r\n                self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);\r\n        }\r\n        catch (_a) { }\r\n        bind(self.mobileInput, "change", function (e) {\r\n            self.setDate(e.target.value, false, self.mobileFormatStr);\r\n            triggerEvent("onChange");\r\n            triggerEvent("onClose");\r\n        });\r\n    }\r\n    function toggle() {\r\n        if (self.isOpen)\r\n            return self.close();\r\n        self.open();\r\n    }\r\n    function triggerEvent(event, data) {\r\n        var hooks = self.config[event];\r\n        if (hooks !== undefined && hooks.length > 0) {\r\n            for (var i = 0; hooks[i] && i < hooks.length; i++)\r\n                hooks[i](self.selectedDates, self.input.value, self, data);\r\n        }\r\n        if (event === "onChange") {\r\n            self.input.dispatchEvent(createEvent("change"));\r\n            self.input.dispatchEvent(createEvent("input"));\r\n        }\r\n    }\r\n    function createEvent(name) {\r\n        var e = document.createEvent("Event");\r\n        e.initEvent(name, true, true);\r\n        return e;\r\n    }\r\n    function isDateSelected(date) {\r\n        for (var i = 0; i < self.selectedDates.length; i++) {\r\n            if (compareDates(self.selectedDates[i], date) === 0)\r\n                return "" + i;\r\n        }\r\n        return false;\r\n    }\r\n    function isDateInRange(date) {\r\n        if (self.config.mode !== "range" || self.selectedDates.length < 2)\r\n            return false;\r\n        return (compareDates(date, self.selectedDates[0]) >= 0 &&\r\n            compareDates(date, self.selectedDates[1]) <= 0);\r\n    }\r\n    function updateNavigationCurrentMonth() {\r\n        if (self.config.noCalendar || self.isMobile || !self.monthNav)\r\n            return;\r\n        self.currentMonthElement.textContent =\r\n            monthToStr(self.currentMonth, self.config.shorthandCurrentMonth, self.l10n) + " ";\r\n        self.currentYearElement.value = self.currentYear.toString();\r\n        self._hidePrevMonthArrow =\r\n            self.config.minDate !== undefined &&\r\n                (self.currentYear === self.config.minDate.getFullYear()\r\n                    ? self.currentMonth <= self.config.minDate.getMonth()\r\n                    : self.currentYear < self.config.minDate.getFullYear());\r\n        self._hideNextMonthArrow =\r\n            self.config.maxDate !== undefined &&\r\n                (self.currentYear === self.config.maxDate.getFullYear()\r\n                    ? self.currentMonth + 1 > self.config.maxDate.getMonth()\r\n                    : self.currentYear > self.config.maxDate.getFullYear());\r\n    }\r\n    function updateValue(triggerChange) {\r\n        if (triggerChange === void 0) { triggerChange = true; }\r\n        if (!self.selectedDates.length)\r\n            return self.clear(triggerChange);\r\n        if (self.mobileInput !== undefined && self.mobileFormatStr) {\r\n            self.mobileInput.value =\r\n                self.latestSelectedDateObj !== undefined\r\n                    ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr)\r\n                    : "";\r\n        }\r\n        var joinChar = self.config.mode !== "range"\r\n            ? self.config.conjunction\r\n            : self.l10n.rangeSeparator;\r\n        self.input.value = self.selectedDates\r\n            .map(function (dObj) { return self.formatDate(dObj, self.config.dateFormat); })\r\n            .join(joinChar);\r\n        if (self.altInput !== undefined) {\r\n            self.altInput.value = self.selectedDates\r\n                .map(function (dObj) { return self.formatDate(dObj, self.config.altFormat); })\r\n                .join(joinChar);\r\n        }\r\n        if (triggerChange !== false)\r\n            triggerEvent("onValueUpdate");\r\n    }\r\n    function onMonthNavScroll(e) {\r\n        e.preventDefault();\r\n        var isYear = self.currentYearElement.parentNode &&\r\n            self.currentYearElement.parentNode.contains(e.target);\r\n        if (e.target === self.currentMonthElement || isYear) {\r\n            var delta = mouseDelta(e);\r\n            if (isYear) {\r\n                changeYear(self.currentYear + delta);\r\n                e.target.value = self.currentYear.toString();\r\n            }\r\n            else\r\n                self.changeMonth(delta, true, false);\r\n        }\r\n    }\r\n    function onMonthNavClick(e) {\r\n        var isPrevMonth = self.prevMonthNav.contains(e.target);\r\n        var isNextMonth = self.nextMonthNav.contains(e.target);\r\n        if (isPrevMonth || isNextMonth)\r\n            changeMonth(isPrevMonth ? -1 : 1);\r\n        else if (e.target === self.currentYearElement) {\r\n            e.preventDefault();\r\n            self.currentYearElement.select();\r\n        }\r\n        else if (e.target.className === "arrowUp")\r\n            self.changeYear(self.currentYear + 1);\r\n        else if (e.target.className === "arrowDown")\r\n            self.changeYear(self.currentYear - 1);\r\n    }\r\n    function timeWrapper(e) {\r\n        e.preventDefault();\r\n        var isKeyDown = e.type === "keydown", input = e.target;\r\n        if (self.amPM !== undefined && e.target === self.amPM) {\r\n            self.amPM.textContent =\r\n                self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\r\n        }\r\n        var min = Number(input.min), max = Number(input.max), step = Number(input.step), curValue = parseInt(input.value, 10), delta = e.delta ||\r\n            (isKeyDown\r\n                ? e.which === 38 ? 1 : -1\r\n                : Math.max(-1, Math.min(1, e.wheelDelta || -e.deltaY)) || 0);\r\n        var newValue = curValue + step * delta;\r\n        if (typeof input.value !== "undefined" && input.value.length === 2) {\r\n            var isHourElem = input === self.hourElement, isMinuteElem = input === self.minuteElement;\r\n            if (newValue < min) {\r\n                newValue =\r\n                    max +\r\n                        newValue +\r\n                        int(!isHourElem) +\r\n                        (int(isHourElem) && int(!self.amPM));\r\n                if (isMinuteElem)\r\n                    incrementNumInput(undefined, -1, self.hourElement);\r\n            }\r\n            else if (newValue > max) {\r\n                newValue =\r\n                    input === self.hourElement ? newValue - max - int(!self.amPM) : min;\r\n                if (isMinuteElem)\r\n                    incrementNumInput(undefined, 1, self.hourElement);\r\n            }\r\n            if (self.amPM &&\r\n                isHourElem &&\r\n                (step === 1\r\n                    ? newValue + curValue === 23\r\n                    : Math.abs(newValue - curValue) > step)) {\r\n                self.amPM.textContent =\r\n                    self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\r\n            }\r\n            input.value = pad(newValue);\r\n        }\r\n    }\r\n    init();\r\n    return self;\r\n}\r\nfunction _flatpickr(nodeList, config) {\r\n    var nodes = Array.prototype.slice.call(nodeList);\r\n    var instances = [];\r\n    for (var i = 0; i < nodes.length; i++) {\r\n        var node = nodes[i];\r\n        try {\r\n            if (node.getAttribute("data-fp-omit") !== null)\r\n                continue;\r\n            if (node._flatpickr !== undefined) {\r\n                node._flatpickr.destroy();\r\n                node._flatpickr = undefined;\r\n            }\r\n            node._flatpickr = FlatpickrInstance(node, config || {});\r\n            instances.push(node._flatpickr);\r\n        }\r\n        catch (e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n    return instances.length === 1 ? instances[0] : instances;\r\n}\r\nif (typeof HTMLElement !== "undefined") {\r\n    HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (config) {\r\n        return _flatpickr(this, config);\r\n    };\r\n    HTMLElement.prototype.flatpickr = function (config) {\r\n        return _flatpickr([this], config);\r\n    };\r\n}\r\nvar flatpickr;\r\nflatpickr = function (selector, config) {\r\n    if (selector instanceof NodeList)\r\n        return _flatpickr(selector, config);\r\n    else if (typeof selector === "string")\r\n        return _flatpickr(window.document.querySelectorAll(selector), config);\r\n    return _flatpickr([selector], config);\r\n};\r\nif (typeof window === "object")\r\n    window.flatpickr = flatpickr;\r\nflatpickr.defaultConfig = defaults;\r\nflatpickr.l10ns = {\r\n    en: __assign({}, english),\r\n    default: __assign({}, english),\r\n};\r\nflatpickr.localize = function (l10n) {\r\n    flatpickr.l10ns.default = __assign({}, flatpickr.l10ns.default, l10n);\r\n};\r\nflatpickr.setDefaults = function (config) {\r\n    flatpickr.defaultConfig = __assign({}, flatpickr.defaultConfig, config);\r\n};\r\nif (typeof jQuery !== "undefined") {\r\n    jQuery.fn.flatpickr = function (config) {\r\n        return _flatpickr(this, config);\r\n    };\r\n}\r\nDate.prototype.fp_incr = function (days) {\r\n    return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === "string" ? parseInt(days, 10) : days));\r\n};\r\nvar flatpickr$1 = flatpickr;\n\nreturn flatpickr$1;\n\n})));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZmxhdHBpY2tyL2Rpc3QvZmxhdHBpY2tyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZsYXRwaWNrci9kaXN0L2ZsYXRwaWNrci5qcz9jZjA2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIGZsYXRwaWNrciB2NC4xLjQsIEBsaWNlbnNlIE1JVCAqL1xuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcblx0dHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuXHR0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxuXHQoZ2xvYmFsLmZsYXRwaWNrciA9IGZhY3RvcnkoKSk7XG59KHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcblxyXG5cclxudmFyIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufTtcblxuZnVuY3Rpb24gY29tcGFyZURhdGVzKGRhdGUxLCBkYXRlMiwgdGltZWxlc3MpIHtcclxuICAgIGlmICh0aW1lbGVzcyAhPT0gZmFsc2UpIHtcclxuICAgICAgICByZXR1cm4gKG5ldyBEYXRlKGRhdGUxLmdldFRpbWUoKSkuc2V0SG91cnMoMCwgMCwgMCwgMCkgLVxyXG4gICAgICAgICAgICBuZXcgRGF0ZShkYXRlMi5nZXRUaW1lKCkpLnNldEhvdXJzKDAsIDAsIDAsIDApKTtcclxuICAgIH1cclxuICAgIHJldHVybiBkYXRlMS5nZXRUaW1lKCkgLSBkYXRlMi5nZXRUaW1lKCk7XHJcbn1cclxudmFyIG1vbnRoVG9TdHIgPSBmdW5jdGlvbiAobW9udGhOdW1iZXIsIHNob3J0aGFuZCwgbG9jYWxlKSB7IHJldHVybiBsb2NhbGUubW9udGhzW3Nob3J0aGFuZCA/IFwic2hvcnRoYW5kXCIgOiBcImxvbmdoYW5kXCJdW21vbnRoTnVtYmVyXTsgfTtcclxudmFyIGdldFdlZWsgPSBmdW5jdGlvbiAoZ2l2ZW5EYXRlKSB7XHJcbiAgICB2YXIgb25lamFuID0gbmV3IERhdGUoZ2l2ZW5EYXRlLmdldEZ1bGxZZWFyKCksIDAsIDEpO1xyXG4gICAgcmV0dXJuIE1hdGguY2VpbCgoKGdpdmVuRGF0ZS5nZXRUaW1lKCkgLSBvbmVqYW4uZ2V0VGltZSgpKSAvIDg2NDAwMDAwICtcclxuICAgICAgICBvbmVqYW4uZ2V0RGF5KCkgK1xyXG4gICAgICAgIDEpIC9cclxuICAgICAgICA3KTtcclxufTtcclxudmFyIGR1cmF0aW9uID0ge1xyXG4gICAgREFZOiA4NjQwMDAwMCxcclxufTtcblxudmFyIGRlZmF1bHRzID0ge1xyXG4gICAgX2Rpc2FibGU6IFtdLFxyXG4gICAgX2VuYWJsZTogW10sXHJcbiAgICBhbGxvd0lucHV0OiBmYWxzZSxcclxuICAgIGFsdEZvcm1hdDogXCJGIGosIFlcIixcclxuICAgIGFsdElucHV0OiBmYWxzZSxcclxuICAgIGFsdElucHV0Q2xhc3M6IFwiZm9ybS1jb250cm9sIGlucHV0XCIsXHJcbiAgICBhbmltYXRlOiB0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiICYmXHJcbiAgICAgICAgd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIk1TSUVcIikgPT09IC0xLFxyXG4gICAgYXJpYURhdGVGb3JtYXQ6IFwiRiBqLCBZXCIsXHJcbiAgICBjbGlja09wZW5zOiB0cnVlLFxyXG4gICAgY2xvc2VPblNlbGVjdDogdHJ1ZSxcclxuICAgIGNvbmp1bmN0aW9uOiBcIiwgXCIsXHJcbiAgICBkYXRlRm9ybWF0OiBcIlktbS1kXCIsXHJcbiAgICBkZWZhdWx0SG91cjogMTIsXHJcbiAgICBkZWZhdWx0TWludXRlOiAwLFxyXG4gICAgZGVmYXVsdFNlY29uZHM6IDAsXHJcbiAgICBkaXNhYmxlOiBbXSxcclxuICAgIGRpc2FibGVNb2JpbGU6IGZhbHNlLFxyXG4gICAgZW5hYmxlOiBbXSxcclxuICAgIGVuYWJsZVNlY29uZHM6IGZhbHNlLFxyXG4gICAgZW5hYmxlVGltZTogZmFsc2UsXHJcbiAgICBlcnJvckhhbmRsZXI6IGNvbnNvbGUud2FybixcclxuICAgIGdldFdlZWs6IGdldFdlZWssXHJcbiAgICBob3VySW5jcmVtZW50OiAxLFxyXG4gICAgaWdub3JlZEZvY3VzRWxlbWVudHM6IFtdLFxyXG4gICAgaW5saW5lOiBmYWxzZSxcclxuICAgIGxvY2FsZTogXCJkZWZhdWx0XCIsXHJcbiAgICBtaW51dGVJbmNyZW1lbnQ6IDUsXHJcbiAgICBtb2RlOiBcInNpbmdsZVwiLFxyXG4gICAgbmV4dEFycm93OiBcIjxzdmcgdmVyc2lvbj0nMS4xJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyB2aWV3Qm94PScwIDAgMTcgMTcnPjxnPjwvZz48cGF0aCBkPSdNMTMuMjA3IDguNDcybC03Ljg1NCA3Ljg1NC0wLjcwNy0wLjcwNyA3LjE0Ni03LjE0Ni03LjE0Ni03LjE0OCAwLjcwNy0wLjcwNyA3Ljg1NCA3Ljg1NHonIC8+PC9zdmc+XCIsXHJcbiAgICBub0NhbGVuZGFyOiBmYWxzZSxcclxuICAgIG9uQ2hhbmdlOiBbXSxcclxuICAgIG9uQ2xvc2U6IFtdLFxyXG4gICAgb25EYXlDcmVhdGU6IFtdLFxyXG4gICAgb25EZXN0cm95OiBbXSxcclxuICAgIG9uS2V5RG93bjogW10sXHJcbiAgICBvbk1vbnRoQ2hhbmdlOiBbXSxcclxuICAgIG9uT3BlbjogW10sXHJcbiAgICBvblBhcnNlQ29uZmlnOiBbXSxcclxuICAgIG9uUmVhZHk6IFtdLFxyXG4gICAgb25WYWx1ZVVwZGF0ZTogW10sXHJcbiAgICBvblllYXJDaGFuZ2U6IFtdLFxyXG4gICAgcGx1Z2luczogW10sXHJcbiAgICBwb3NpdGlvbjogXCJhdXRvXCIsXHJcbiAgICBwb3NpdGlvbkVsZW1lbnQ6IHVuZGVmaW5lZCxcclxuICAgIHByZXZBcnJvdzogXCI8c3ZnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycgdmlld0JveD0nMCAwIDE3IDE3Jz48Zz48L2c+PHBhdGggZD0nTTUuMjA3IDguNDcxbDcuMTQ2IDcuMTQ3LTAuNzA3IDAuNzA3LTcuODUzLTcuODU0IDcuODU0LTcuODUzIDAuNzA3IDAuNzA3LTcuMTQ3IDcuMTQ2eicgLz48L3N2Zz5cIixcclxuICAgIHNob3J0aGFuZEN1cnJlbnRNb250aDogZmFsc2UsXHJcbiAgICBzdGF0aWM6IGZhbHNlLFxyXG4gICAgdGltZV8yNGhyOiBmYWxzZSxcclxuICAgIHdlZWtOdW1iZXJzOiBmYWxzZSxcclxuICAgIHdyYXA6IGZhbHNlLFxyXG59O1xuXG52YXIgZW5nbGlzaCA9IHtcclxuICAgIHdlZWtkYXlzOiB7XHJcbiAgICAgICAgc2hvcnRoYW5kOiBbXCJTdW5cIiwgXCJNb25cIiwgXCJUdWVcIiwgXCJXZWRcIiwgXCJUaHVcIiwgXCJGcmlcIiwgXCJTYXRcIl0sXHJcbiAgICAgICAgbG9uZ2hhbmQ6IFtcclxuICAgICAgICAgICAgXCJTdW5kYXlcIixcclxuICAgICAgICAgICAgXCJNb25kYXlcIixcclxuICAgICAgICAgICAgXCJUdWVzZGF5XCIsXHJcbiAgICAgICAgICAgIFwiV2VkbmVzZGF5XCIsXHJcbiAgICAgICAgICAgIFwiVGh1cnNkYXlcIixcclxuICAgICAgICAgICAgXCJGcmlkYXlcIixcclxuICAgICAgICAgICAgXCJTYXR1cmRheVwiLFxyXG4gICAgICAgIF0sXHJcbiAgICB9LFxyXG4gICAgbW9udGhzOiB7XHJcbiAgICAgICAgc2hvcnRoYW5kOiBbXHJcbiAgICAgICAgICAgIFwiSmFuXCIsXHJcbiAgICAgICAgICAgIFwiRmViXCIsXHJcbiAgICAgICAgICAgIFwiTWFyXCIsXHJcbiAgICAgICAgICAgIFwiQXByXCIsXHJcbiAgICAgICAgICAgIFwiTWF5XCIsXHJcbiAgICAgICAgICAgIFwiSnVuXCIsXHJcbiAgICAgICAgICAgIFwiSnVsXCIsXHJcbiAgICAgICAgICAgIFwiQXVnXCIsXHJcbiAgICAgICAgICAgIFwiU2VwXCIsXHJcbiAgICAgICAgICAgIFwiT2N0XCIsXHJcbiAgICAgICAgICAgIFwiTm92XCIsXHJcbiAgICAgICAgICAgIFwiRGVjXCIsXHJcbiAgICAgICAgXSxcclxuICAgICAgICBsb25naGFuZDogW1xyXG4gICAgICAgICAgICBcIkphbnVhcnlcIixcclxuICAgICAgICAgICAgXCJGZWJydWFyeVwiLFxyXG4gICAgICAgICAgICBcIk1hcmNoXCIsXHJcbiAgICAgICAgICAgIFwiQXByaWxcIixcclxuICAgICAgICAgICAgXCJNYXlcIixcclxuICAgICAgICAgICAgXCJKdW5lXCIsXHJcbiAgICAgICAgICAgIFwiSnVseVwiLFxyXG4gICAgICAgICAgICBcIkF1Z3VzdFwiLFxyXG4gICAgICAgICAgICBcIlNlcHRlbWJlclwiLFxyXG4gICAgICAgICAgICBcIk9jdG9iZXJcIixcclxuICAgICAgICAgICAgXCJOb3ZlbWJlclwiLFxyXG4gICAgICAgICAgICBcIkRlY2VtYmVyXCIsXHJcbiAgICAgICAgXSxcclxuICAgIH0sXHJcbiAgICBkYXlzSW5Nb250aDogWzMxLCAyOCwgMzEsIDMwLCAzMSwgMzAsIDMxLCAzMSwgMzAsIDMxLCAzMCwgMzFdLFxyXG4gICAgZmlyc3REYXlPZldlZWs6IDAsXHJcbiAgICBvcmRpbmFsOiBmdW5jdGlvbiAobnRoKSB7XHJcbiAgICAgICAgdmFyIHMgPSBudGggJSAxMDA7XHJcbiAgICAgICAgaWYgKHMgPiAzICYmIHMgPCAyMSlcclxuICAgICAgICAgICAgcmV0dXJuIFwidGhcIjtcclxuICAgICAgICBzd2l0Y2ggKHMgJSAxMCkge1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJzdFwiO1xyXG4gICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJuZFwiO1xyXG4gICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJyZFwiO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwidGhcIjtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgcmFuZ2VTZXBhcmF0b3I6IFwiIHRvIFwiLFxyXG4gICAgd2Vla0FiYnJldmlhdGlvbjogXCJXa1wiLFxyXG4gICAgc2Nyb2xsVGl0bGU6IFwiU2Nyb2xsIHRvIGluY3JlbWVudFwiLFxyXG4gICAgdG9nZ2xlVGl0bGU6IFwiQ2xpY2sgdG8gdG9nZ2xlXCIsXHJcbiAgICBhbVBNOiBbXCJBTVwiLCBcIlBNXCJdLFxyXG59O1xuXG52YXIgcGFkID0gZnVuY3Rpb24gKG51bWJlcikgeyByZXR1cm4gKFwiMFwiICsgbnVtYmVyKS5zbGljZSgtMik7IH07XHJcbnZhciBpbnQgPSBmdW5jdGlvbiAoYm9vbCkgeyByZXR1cm4gKGJvb2wgPT09IHRydWUgPyAxIDogMCk7IH07XHJcbmZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQsIGltbWVkaWF0ZSkge1xyXG4gICAgaWYgKGltbWVkaWF0ZSA9PT0gdm9pZCAwKSB7IGltbWVkaWF0ZSA9IGZhbHNlOyB9XHJcbiAgICB2YXIgdGltZW91dDtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLCBhcmdzID0gYXJndW1lbnRzO1xyXG4gICAgICAgIHRpbWVvdXQgIT09IG51bGwgJiYgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xyXG4gICAgICAgIHRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRpbWVvdXQgPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAoIWltbWVkaWF0ZSlcclxuICAgICAgICAgICAgICAgIGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XHJcbiAgICAgICAgfSwgd2FpdCk7XHJcbiAgICAgICAgaWYgKGltbWVkaWF0ZSAmJiAhdGltZW91dClcclxuICAgICAgICAgICAgZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcclxuICAgIH07XHJcbn1cclxudmFyIGFycmF5aWZ5ID0gZnVuY3Rpb24gKG9iaikge1xyXG4gICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIEFycmF5ID8gb2JqIDogW29ial07XHJcbn07XHJcbmZ1bmN0aW9uIG1vdXNlRGVsdGEoZSkge1xyXG4gICAgdmFyIGRlbHRhID0gZS53aGVlbERlbHRhIHx8IC1lLmRlbHRhWTtcclxuICAgIHJldHVybiBkZWx0YSA+PSAwID8gMSA6IC0xO1xyXG59XG5cbmZ1bmN0aW9uIHRvZ2dsZUNsYXNzKGVsZW0sIGNsYXNzTmFtZSwgYm9vbCkge1xyXG4gICAgaWYgKGJvb2wgPT09IHRydWUpXHJcbiAgICAgICAgcmV0dXJuIGVsZW0uY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xyXG4gICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudCh0YWcsIGNsYXNzTmFtZSwgY29udGVudCkge1xyXG4gICAgdmFyIGUgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xyXG4gICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lIHx8IFwiXCI7XHJcbiAgICBjb250ZW50ID0gY29udGVudCB8fCBcIlwiO1xyXG4gICAgZS5jbGFzc05hbWUgPSBjbGFzc05hbWU7XHJcbiAgICBpZiAoY29udGVudCAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgIGUudGV4dENvbnRlbnQgPSBjb250ZW50O1xyXG4gICAgcmV0dXJuIGU7XHJcbn1cclxuZnVuY3Rpb24gY2xlYXJOb2RlKG5vZGUpIHtcclxuICAgIHdoaWxlIChub2RlLmZpcnN0Q2hpbGQpXHJcbiAgICAgICAgbm9kZS5yZW1vdmVDaGlsZChub2RlLmZpcnN0Q2hpbGQpO1xyXG59XHJcbmZ1bmN0aW9uIGZpbmRQYXJlbnQobm9kZSwgY29uZGl0aW9uKSB7XHJcbiAgICBpZiAoY29uZGl0aW9uKG5vZGUpKVxyXG4gICAgICAgIHJldHVybiBub2RlO1xyXG4gICAgZWxzZSBpZiAobm9kZS5wYXJlbnROb2RlKVxyXG4gICAgICAgIHJldHVybiBmaW5kUGFyZW50KG5vZGUucGFyZW50Tm9kZSwgY29uZGl0aW9uKTtcclxuICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlTnVtYmVySW5wdXQoaW5wdXRDbGFzc05hbWUpIHtcclxuICAgIHZhciB3cmFwcGVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBcIm51bUlucHV0V3JhcHBlclwiKSwgbnVtSW5wdXQgPSBjcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwgXCJudW1JbnB1dCBcIiArIGlucHV0Q2xhc3NOYW1lKSwgYXJyb3dVcCA9IGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFwiYXJyb3dVcFwiKSwgYXJyb3dEb3duID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgXCJhcnJvd0Rvd25cIik7XHJcbiAgICBudW1JbnB1dC50eXBlID0gXCJ0ZXh0XCI7XHJcbiAgICBudW1JbnB1dC5wYXR0ZXJuID0gXCJcXFxcZCpcIjtcclxuICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQobnVtSW5wdXQpO1xyXG4gICAgd3JhcHBlci5hcHBlbmRDaGlsZChhcnJvd1VwKTtcclxuICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoYXJyb3dEb3duKTtcclxuICAgIHJldHVybiB3cmFwcGVyO1xyXG59XG5cbnZhciBkb19ub3RoaW5nID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9O1xyXG52YXIgcmV2Rm9ybWF0ID0ge1xyXG4gICAgRDogZG9fbm90aGluZyxcclxuICAgIEY6IGZ1bmN0aW9uIChkYXRlT2JqLCBtb250aE5hbWUsIGxvY2FsZSkge1xyXG4gICAgICAgIGRhdGVPYmouc2V0TW9udGgobG9jYWxlLm1vbnRocy5sb25naGFuZC5pbmRleE9mKG1vbnRoTmFtZSkpO1xyXG4gICAgfSxcclxuICAgIEc6IGZ1bmN0aW9uIChkYXRlT2JqLCBob3VyKSB7XHJcbiAgICAgICAgZGF0ZU9iai5zZXRIb3VycyhwYXJzZUZsb2F0KGhvdXIpKTtcclxuICAgIH0sXHJcbiAgICBIOiBmdW5jdGlvbiAoZGF0ZU9iaiwgaG91cikge1xyXG4gICAgICAgIGRhdGVPYmouc2V0SG91cnMocGFyc2VGbG9hdChob3VyKSk7XHJcbiAgICB9LFxyXG4gICAgSjogZnVuY3Rpb24gKGRhdGVPYmosIGRheSkge1xyXG4gICAgICAgIGRhdGVPYmouc2V0RGF0ZShwYXJzZUZsb2F0KGRheSkpO1xyXG4gICAgfSxcclxuICAgIEs6IGZ1bmN0aW9uIChkYXRlT2JqLCBhbVBNLCBsb2NhbGUpIHtcclxuICAgICAgICBkYXRlT2JqLnNldEhvdXJzKGRhdGVPYmouZ2V0SG91cnMoKSAlIDEyICtcclxuICAgICAgICAgICAgMTIgKiBpbnQobmV3IFJlZ0V4cChsb2NhbGUuYW1QTVsxXSwgXCJpXCIpLnRlc3QoYW1QTSkpKTtcclxuICAgIH0sXHJcbiAgICBNOiBmdW5jdGlvbiAoZGF0ZU9iaiwgc2hvcnRNb250aCwgbG9jYWxlKSB7XHJcbiAgICAgICAgZGF0ZU9iai5zZXRNb250aChsb2NhbGUubW9udGhzLnNob3J0aGFuZC5pbmRleE9mKHNob3J0TW9udGgpKTtcclxuICAgIH0sXHJcbiAgICBTOiBmdW5jdGlvbiAoZGF0ZU9iaiwgc2Vjb25kcykge1xyXG4gICAgICAgIGRhdGVPYmouc2V0U2Vjb25kcyhwYXJzZUZsb2F0KHNlY29uZHMpKTtcclxuICAgIH0sXHJcbiAgICBVOiBmdW5jdGlvbiAoXywgdW5peFNlY29uZHMpIHsgcmV0dXJuIG5ldyBEYXRlKHBhcnNlRmxvYXQodW5peFNlY29uZHMpICogMTAwMCk7IH0sXHJcbiAgICBXOiBmdW5jdGlvbiAoZGF0ZU9iaiwgd2Vla051bSkge1xyXG4gICAgICAgIHZhciB3ZWVrTnVtYmVyID0gcGFyc2VJbnQod2Vla051bSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGRhdGVPYmouZ2V0RnVsbFllYXIoKSwgMCwgMiArICh3ZWVrTnVtYmVyIC0gMSkgKiA3LCAwLCAwLCAwLCAwKTtcclxuICAgIH0sXHJcbiAgICBZOiBmdW5jdGlvbiAoZGF0ZU9iaiwgeWVhcikge1xyXG4gICAgICAgIGRhdGVPYmouc2V0RnVsbFllYXIocGFyc2VGbG9hdCh5ZWFyKSk7XHJcbiAgICB9LFxyXG4gICAgWjogZnVuY3Rpb24gKF8sIElTT0RhdGUpIHsgcmV0dXJuIG5ldyBEYXRlKElTT0RhdGUpOyB9LFxyXG4gICAgZDogZnVuY3Rpb24gKGRhdGVPYmosIGRheSkge1xyXG4gICAgICAgIGRhdGVPYmouc2V0RGF0ZShwYXJzZUZsb2F0KGRheSkpO1xyXG4gICAgfSxcclxuICAgIGg6IGZ1bmN0aW9uIChkYXRlT2JqLCBob3VyKSB7XHJcbiAgICAgICAgZGF0ZU9iai5zZXRIb3VycyhwYXJzZUZsb2F0KGhvdXIpKTtcclxuICAgIH0sXHJcbiAgICBpOiBmdW5jdGlvbiAoZGF0ZU9iaiwgbWludXRlcykge1xyXG4gICAgICAgIGRhdGVPYmouc2V0TWludXRlcyhwYXJzZUZsb2F0KG1pbnV0ZXMpKTtcclxuICAgIH0sXHJcbiAgICBqOiBmdW5jdGlvbiAoZGF0ZU9iaiwgZGF5KSB7XHJcbiAgICAgICAgZGF0ZU9iai5zZXREYXRlKHBhcnNlRmxvYXQoZGF5KSk7XHJcbiAgICB9LFxyXG4gICAgbDogZG9fbm90aGluZyxcclxuICAgIG06IGZ1bmN0aW9uIChkYXRlT2JqLCBtb250aCkge1xyXG4gICAgICAgIGRhdGVPYmouc2V0TW9udGgocGFyc2VGbG9hdChtb250aCkgLSAxKTtcclxuICAgIH0sXHJcbiAgICBuOiBmdW5jdGlvbiAoZGF0ZU9iaiwgbW9udGgpIHtcclxuICAgICAgICBkYXRlT2JqLnNldE1vbnRoKHBhcnNlRmxvYXQobW9udGgpIC0gMSk7XHJcbiAgICB9LFxyXG4gICAgczogZnVuY3Rpb24gKGRhdGVPYmosIHNlY29uZHMpIHtcclxuICAgICAgICBkYXRlT2JqLnNldFNlY29uZHMocGFyc2VGbG9hdChzZWNvbmRzKSk7XHJcbiAgICB9LFxyXG4gICAgdzogZG9fbm90aGluZyxcclxuICAgIHk6IGZ1bmN0aW9uIChkYXRlT2JqLCB5ZWFyKSB7XHJcbiAgICAgICAgZGF0ZU9iai5zZXRGdWxsWWVhcigyMDAwICsgcGFyc2VGbG9hdCh5ZWFyKSk7XHJcbiAgICB9LFxyXG59O1xyXG52YXIgdG9rZW5SZWdleCA9IHtcclxuICAgIEQ6IFwiKFxcXFx3KylcIixcclxuICAgIEY6IFwiKFxcXFx3KylcIixcclxuICAgIEc6IFwiKFxcXFxkXFxcXGR8XFxcXGQpXCIsXHJcbiAgICBIOiBcIihcXFxcZFxcXFxkfFxcXFxkKVwiLFxyXG4gICAgSjogXCIoXFxcXGRcXFxcZHxcXFxcZClcXFxcdytcIixcclxuICAgIEs6IFwiXCIsXHJcbiAgICBNOiBcIihcXFxcdyspXCIsXHJcbiAgICBTOiBcIihcXFxcZFxcXFxkfFxcXFxkKVwiLFxyXG4gICAgVTogXCIoLispXCIsXHJcbiAgICBXOiBcIihcXFxcZFxcXFxkfFxcXFxkKVwiLFxyXG4gICAgWTogXCIoXFxcXGR7NH0pXCIsXHJcbiAgICBaOiBcIiguKylcIixcclxuICAgIGQ6IFwiKFxcXFxkXFxcXGR8XFxcXGQpXCIsXHJcbiAgICBoOiBcIihcXFxcZFxcXFxkfFxcXFxkKVwiLFxyXG4gICAgaTogXCIoXFxcXGRcXFxcZHxcXFxcZClcIixcclxuICAgIGo6IFwiKFxcXFxkXFxcXGR8XFxcXGQpXCIsXHJcbiAgICBsOiBcIihcXFxcdyspXCIsXHJcbiAgICBtOiBcIihcXFxcZFxcXFxkfFxcXFxkKVwiLFxyXG4gICAgbjogXCIoXFxcXGRcXFxcZHxcXFxcZClcIixcclxuICAgIHM6IFwiKFxcXFxkXFxcXGR8XFxcXGQpXCIsXHJcbiAgICB3OiBcIihcXFxcZFxcXFxkfFxcXFxkKVwiLFxyXG4gICAgeTogXCIoXFxcXGR7Mn0pXCIsXHJcbn07XHJcbnZhciBmb3JtYXRzID0ge1xyXG4gICAgWjogZnVuY3Rpb24gKGRhdGUpIHsgcmV0dXJuIGRhdGUudG9JU09TdHJpbmcoKTsgfSxcclxuICAgIEQ6IGZ1bmN0aW9uIChkYXRlLCBsb2NhbGUsIG9wdGlvbnMpIHtcclxuICAgICAgICByZXR1cm4gbG9jYWxlLndlZWtkYXlzLnNob3J0aGFuZFtmb3JtYXRzLncoZGF0ZSwgbG9jYWxlLCBvcHRpb25zKV07XHJcbiAgICB9LFxyXG4gICAgRjogZnVuY3Rpb24gKGRhdGUsIGxvY2FsZSwgb3B0aW9ucykge1xyXG4gICAgICAgIHJldHVybiBtb250aFRvU3RyKGZvcm1hdHMubihkYXRlLCBsb2NhbGUsIG9wdGlvbnMpIC0gMSwgZmFsc2UsIGxvY2FsZSk7XHJcbiAgICB9LFxyXG4gICAgRzogZnVuY3Rpb24gKGRhdGUsIGxvY2FsZSwgb3B0aW9ucykge1xyXG4gICAgICAgIHJldHVybiBwYWQoZm9ybWF0cy5oKGRhdGUsIGxvY2FsZSwgb3B0aW9ucykpO1xyXG4gICAgfSxcclxuICAgIEg6IGZ1bmN0aW9uIChkYXRlKSB7IHJldHVybiBwYWQoZGF0ZS5nZXRIb3VycygpKTsgfSxcclxuICAgIEo6IGZ1bmN0aW9uIChkYXRlLCBsb2NhbGUpIHtcclxuICAgICAgICByZXR1cm4gbG9jYWxlLm9yZGluYWwgIT09IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICA/IGRhdGUuZ2V0RGF0ZSgpICsgbG9jYWxlLm9yZGluYWwoZGF0ZS5nZXREYXRlKCkpXHJcbiAgICAgICAgICAgIDogZGF0ZS5nZXREYXRlKCk7XHJcbiAgICB9LFxyXG4gICAgSzogZnVuY3Rpb24gKGRhdGUsIGxvY2FsZSkgeyByZXR1cm4gbG9jYWxlLmFtUE1baW50KGRhdGUuZ2V0SG91cnMoKSA+IDExKV07IH0sXHJcbiAgICBNOiBmdW5jdGlvbiAoZGF0ZSwgbG9jYWxlKSB7XHJcbiAgICAgICAgcmV0dXJuIG1vbnRoVG9TdHIoZGF0ZS5nZXRNb250aCgpLCB0cnVlLCBsb2NhbGUpO1xyXG4gICAgfSxcclxuICAgIFM6IGZ1bmN0aW9uIChkYXRlKSB7IHJldHVybiBwYWQoZGF0ZS5nZXRTZWNvbmRzKCkpOyB9LFxyXG4gICAgVTogZnVuY3Rpb24gKGRhdGUpIHsgcmV0dXJuIGRhdGUuZ2V0VGltZSgpIC8gMTAwMDsgfSxcclxuICAgIFc6IGZ1bmN0aW9uIChkYXRlLCBfLCBvcHRpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuIG9wdGlvbnMuZ2V0V2VlayhkYXRlKTtcclxuICAgIH0sXHJcbiAgICBZOiBmdW5jdGlvbiAoZGF0ZSkgeyByZXR1cm4gZGF0ZS5nZXRGdWxsWWVhcigpOyB9LFxyXG4gICAgZDogZnVuY3Rpb24gKGRhdGUpIHsgcmV0dXJuIHBhZChkYXRlLmdldERhdGUoKSk7IH0sXHJcbiAgICBoOiBmdW5jdGlvbiAoZGF0ZSkgeyByZXR1cm4gKGRhdGUuZ2V0SG91cnMoKSAlIDEyID8gZGF0ZS5nZXRIb3VycygpICUgMTIgOiAxMik7IH0sXHJcbiAgICBpOiBmdW5jdGlvbiAoZGF0ZSkgeyByZXR1cm4gcGFkKGRhdGUuZ2V0TWludXRlcygpKTsgfSxcclxuICAgIGo6IGZ1bmN0aW9uIChkYXRlKSB7IHJldHVybiBkYXRlLmdldERhdGUoKTsgfSxcclxuICAgIGw6IGZ1bmN0aW9uIChkYXRlLCBsb2NhbGUpIHtcclxuICAgICAgICByZXR1cm4gbG9jYWxlLndlZWtkYXlzLmxvbmdoYW5kW2RhdGUuZ2V0RGF5KCldO1xyXG4gICAgfSxcclxuICAgIG06IGZ1bmN0aW9uIChkYXRlKSB7IHJldHVybiBwYWQoZGF0ZS5nZXRNb250aCgpICsgMSk7IH0sXHJcbiAgICBuOiBmdW5jdGlvbiAoZGF0ZSkgeyByZXR1cm4gZGF0ZS5nZXRNb250aCgpICsgMTsgfSxcclxuICAgIHM6IGZ1bmN0aW9uIChkYXRlKSB7IHJldHVybiBkYXRlLmdldFNlY29uZHMoKTsgfSxcclxuICAgIHc6IGZ1bmN0aW9uIChkYXRlKSB7IHJldHVybiBkYXRlLmdldERheSgpOyB9LFxyXG4gICAgeTogZnVuY3Rpb24gKGRhdGUpIHsgcmV0dXJuIFN0cmluZyhkYXRlLmdldEZ1bGxZZWFyKCkpLnN1YnN0cmluZygyKTsgfSxcclxufTtcblxuaWYgKHR5cGVvZiBPYmplY3QuYXNzaWduICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgIE9iamVjdC5hc3NpZ24gPSBmdW5jdGlvbiAodGFyZ2V0KSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRhcmdldCkge1xyXG4gICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgY29udmVydCB1bmRlZmluZWQgb3IgbnVsbCB0byBvYmplY3RcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKHNvdXJjZSkge1xyXG4gICAgICAgICAgICBpZiAoc291cmNlKSB7XHJcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gKHRhcmdldFtrZXldID0gc291cmNlW2tleV0pOyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgZm9yICh2YXIgX2EgPSAwLCBhcmdzXzEgPSBhcmdzOyBfYSA8IGFyZ3NfMS5sZW5ndGg7IF9hKyspIHtcclxuICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3NfMVtfYV07XHJcbiAgICAgICAgICAgIF9sb29wXzEoc291cmNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcclxuICAgIH07XHJcbn1cblxuZnVuY3Rpb24gRmxhdHBpY2tySW5zdGFuY2UoZWxlbWVudCwgaW5zdGFuY2VDb25maWcpIHtcclxuICAgIHZhciBzZWxmID0ge307XHJcbiAgICBzZWxmLnBhcnNlRGF0ZSA9IHBhcnNlRGF0ZTtcclxuICAgIHNlbGYuZm9ybWF0RGF0ZSA9IGZvcm1hdERhdGU7XHJcbiAgICBzZWxmLl9hbmltYXRpb25Mb29wID0gW107XHJcbiAgICBzZWxmLl9oYW5kbGVycyA9IFtdO1xyXG4gICAgc2VsZi5fYmluZCA9IGJpbmQ7XHJcbiAgICBzZWxmLl9zZXRIb3Vyc0Zyb21EYXRlID0gc2V0SG91cnNGcm9tRGF0ZTtcclxuICAgIHNlbGYuY2hhbmdlTW9udGggPSBjaGFuZ2VNb250aDtcclxuICAgIHNlbGYuY2hhbmdlWWVhciA9IGNoYW5nZVllYXI7XHJcbiAgICBzZWxmLmNsZWFyID0gY2xlYXI7XHJcbiAgICBzZWxmLmNsb3NlID0gY2xvc2U7XHJcbiAgICBzZWxmLl9jcmVhdGVFbGVtZW50ID0gY3JlYXRlRWxlbWVudDtcclxuICAgIHNlbGYuZGVzdHJveSA9IGRlc3Ryb3k7XHJcbiAgICBzZWxmLmlzRW5hYmxlZCA9IGlzRW5hYmxlZDtcclxuICAgIHNlbGYuanVtcFRvRGF0ZSA9IGp1bXBUb0RhdGU7XHJcbiAgICBzZWxmLm9wZW4gPSBvcGVuO1xyXG4gICAgc2VsZi5yZWRyYXcgPSByZWRyYXc7XHJcbiAgICBzZWxmLnNldCA9IHNldDtcclxuICAgIHNlbGYuc2V0RGF0ZSA9IHNldERhdGU7XHJcbiAgICBzZWxmLnRvZ2dsZSA9IHRvZ2dsZTtcclxuICAgIGZ1bmN0aW9uIHNldHVwSGVscGVyRnVuY3Rpb25zKCkge1xyXG4gICAgICAgIHNlbGYudXRpbHMgPSB7XHJcbiAgICAgICAgICAgIGdldERheXNJbk1vbnRoOiBmdW5jdGlvbiAobW9udGgsIHlyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobW9udGggPT09IHZvaWQgMCkgeyBtb250aCA9IHNlbGYuY3VycmVudE1vbnRoOyB9XHJcbiAgICAgICAgICAgICAgICBpZiAoeXIgPT09IHZvaWQgMCkgeyB5ciA9IHNlbGYuY3VycmVudFllYXI7IH1cclxuICAgICAgICAgICAgICAgIGlmIChtb250aCA9PT0gMSAmJiAoKHlyICUgNCA9PT0gMCAmJiB5ciAlIDEwMCAhPT0gMCkgfHwgeXIgJSA0MDAgPT09IDApKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAyOTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmwxMG4uZGF5c0luTW9udGhbbW9udGhdO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgICAgIHNlbGYuZWxlbWVudCA9IHNlbGYuaW5wdXQgPSBlbGVtZW50O1xyXG4gICAgICAgIHNlbGYuaXNPcGVuID0gZmFsc2U7XHJcbiAgICAgICAgcGFyc2VDb25maWcoKTtcclxuICAgICAgICBzZXR1cExvY2FsZSgpO1xyXG4gICAgICAgIHNldHVwSW5wdXRzKCk7XHJcbiAgICAgICAgc2V0dXBEYXRlcygpO1xyXG4gICAgICAgIHNldHVwSGVscGVyRnVuY3Rpb25zKCk7XHJcbiAgICAgICAgaWYgKCFzZWxmLmlzTW9iaWxlKVxyXG4gICAgICAgICAgICBidWlsZCgpO1xyXG4gICAgICAgIGJpbmRFdmVudHMoKTtcclxuICAgICAgICBpZiAoc2VsZi5zZWxlY3RlZERhdGVzLmxlbmd0aCB8fCBzZWxmLmNvbmZpZy5ub0NhbGVuZGFyKSB7XHJcbiAgICAgICAgICAgIGlmIChzZWxmLmNvbmZpZy5lbmFibGVUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICBzZXRIb3Vyc0Zyb21EYXRlKHNlbGYuY29uZmlnLm5vQ2FsZW5kYXJcclxuICAgICAgICAgICAgICAgICAgICA/IHNlbGYubGF0ZXN0U2VsZWN0ZWREYXRlT2JqIHx8IHNlbGYuY29uZmlnLm1pbkRhdGVcclxuICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdXBkYXRlVmFsdWUoZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZWxmLnNob3dUaW1lSW5wdXQgPVxyXG4gICAgICAgICAgICBzZWxmLnNlbGVjdGVkRGF0ZXMubGVuZ3RoID4gMCB8fCBzZWxmLmNvbmZpZy5ub0NhbGVuZGFyO1xyXG4gICAgICAgIGlmIChzZWxmLndlZWtXcmFwcGVyICE9PSB1bmRlZmluZWQgJiYgc2VsZi5kYXlzQ29udGFpbmVyICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgc2VsZi5jYWxlbmRhckNvbnRhaW5lci5zdHlsZS53aWR0aCA9XHJcbiAgICAgICAgICAgICAgICBzZWxmLmRheXNDb250YWluZXIub2Zmc2V0V2lkdGggKyBzZWxmLndlZWtXcmFwcGVyLm9mZnNldFdpZHRoICsgXCJweFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXNlbGYuaXNNb2JpbGUpXHJcbiAgICAgICAgICAgIHBvc2l0aW9uQ2FsZW5kYXIoKTtcclxuICAgICAgICB0cmlnZ2VyRXZlbnQoXCJvblJlYWR5XCIpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gYmluZFRvSW5zdGFuY2UoZm4pIHtcclxuICAgICAgICByZXR1cm4gZm4uYmluZChzZWxmKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHVwZGF0ZVRpbWUoZSkge1xyXG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy5ub0NhbGVuZGFyICYmIHNlbGYuc2VsZWN0ZWREYXRlcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgdmFyIG1pbkRhdGUgPSBzZWxmLmNvbmZpZy5taW5EYXRlO1xyXG4gICAgICAgICAgICBzZWxmLnNldERhdGUobmV3IERhdGUoKS5zZXRIb3VycyghbWluRGF0ZSA/IHNlbGYuY29uZmlnLmRlZmF1bHRIb3VyIDogbWluRGF0ZS5nZXRIb3VycygpLCAhbWluRGF0ZSA/IHNlbGYuY29uZmlnLmRlZmF1bHRNaW51dGUgOiBtaW5EYXRlLmdldE1pbnV0ZXMoKSwgIW1pbkRhdGUgfHwgIXNlbGYuY29uZmlnLmVuYWJsZVNlY29uZHNcclxuICAgICAgICAgICAgICAgID8gc2VsZi5jb25maWcuZGVmYXVsdFNlY29uZHNcclxuICAgICAgICAgICAgICAgIDogbWluRGF0ZS5nZXRTZWNvbmRzKCkpLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIHNldEhvdXJzRnJvbUlucHV0cygpO1xyXG4gICAgICAgICAgICB1cGRhdGVWYWx1ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aW1lV3JhcHBlcihlKTtcclxuICAgICAgICBpZiAoc2VsZi5zZWxlY3RlZERhdGVzLmxlbmd0aCA9PT0gMClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGlmICghc2VsZi5taW5EYXRlSGFzVGltZSB8fFxyXG4gICAgICAgICAgICBlLnR5cGUgIT09IFwiaW5wdXRcIiB8fFxyXG4gICAgICAgICAgICBlLnRhcmdldC52YWx1ZS5sZW5ndGggPj0gMikge1xyXG4gICAgICAgICAgICBzZXRIb3Vyc0Zyb21JbnB1dHMoKTtcclxuICAgICAgICAgICAgdXBkYXRlVmFsdWUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgc2V0SG91cnNGcm9tSW5wdXRzKCk7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVWYWx1ZSgpO1xyXG4gICAgICAgICAgICB9LCAxMDAwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBhbXBtMm1pbGl0YXJ5KGhvdXIsIGFtUE0pIHtcclxuICAgICAgICByZXR1cm4gaG91ciAlIDEyICsgMTIgKiBpbnQoYW1QTSA9PT0gc2VsZi5sMTBuLmFtUE1bMV0pO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gbWlsaXRhcnkyYW1wbShob3VyKSB7XHJcbiAgICAgICAgc3dpdGNoIChob3VyICUgMjQpIHtcclxuICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICBjYXNlIDEyOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDEyO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGhvdXIgJSAxMjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBzZXRIb3Vyc0Zyb21JbnB1dHMoKSB7XHJcbiAgICAgICAgaWYgKHNlbGYuaG91ckVsZW1lbnQgPT09IHVuZGVmaW5lZCB8fCBzZWxmLm1pbnV0ZUVsZW1lbnQgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHZhciBob3VycyA9IChwYXJzZUludChzZWxmLmhvdXJFbGVtZW50LnZhbHVlLnNsaWNlKC0yKSwgMTApIHx8IDApICUgMjQsIG1pbnV0ZXMgPSAocGFyc2VJbnQoc2VsZi5taW51dGVFbGVtZW50LnZhbHVlLCAxMCkgfHwgMCkgJSA2MCwgc2Vjb25kcyA9IHNlbGYuc2Vjb25kRWxlbWVudCAhPT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgID8gKHBhcnNlSW50KHNlbGYuc2Vjb25kRWxlbWVudC52YWx1ZSwgMTApIHx8IDApICUgNjBcclxuICAgICAgICAgICAgOiAwO1xyXG4gICAgICAgIGlmIChzZWxmLmFtUE0gIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgaG91cnMgPSBhbXBtMm1pbGl0YXJ5KGhvdXJzLCBzZWxmLmFtUE0udGV4dENvbnRlbnQpO1xyXG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy5taW5EYXRlICYmXHJcbiAgICAgICAgICAgIHNlbGYubWluRGF0ZUhhc1RpbWUgJiZcclxuICAgICAgICAgICAgc2VsZi5sYXRlc3RTZWxlY3RlZERhdGVPYmogJiZcclxuICAgICAgICAgICAgY29tcGFyZURhdGVzKHNlbGYubGF0ZXN0U2VsZWN0ZWREYXRlT2JqLCBzZWxmLmNvbmZpZy5taW5EYXRlKSA9PT0gMCkge1xyXG4gICAgICAgICAgICBob3VycyA9IE1hdGgubWF4KGhvdXJzLCBzZWxmLmNvbmZpZy5taW5EYXRlLmdldEhvdXJzKCkpO1xyXG4gICAgICAgICAgICBpZiAoaG91cnMgPT09IHNlbGYuY29uZmlnLm1pbkRhdGUuZ2V0SG91cnMoKSlcclxuICAgICAgICAgICAgICAgIG1pbnV0ZXMgPSBNYXRoLm1heChtaW51dGVzLCBzZWxmLmNvbmZpZy5taW5EYXRlLmdldE1pbnV0ZXMoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy5tYXhEYXRlICYmXHJcbiAgICAgICAgICAgIHNlbGYubWF4RGF0ZUhhc1RpbWUgJiZcclxuICAgICAgICAgICAgc2VsZi5sYXRlc3RTZWxlY3RlZERhdGVPYmogJiZcclxuICAgICAgICAgICAgY29tcGFyZURhdGVzKHNlbGYubGF0ZXN0U2VsZWN0ZWREYXRlT2JqLCBzZWxmLmNvbmZpZy5tYXhEYXRlKSA9PT0gMCkge1xyXG4gICAgICAgICAgICBob3VycyA9IE1hdGgubWluKGhvdXJzLCBzZWxmLmNvbmZpZy5tYXhEYXRlLmdldEhvdXJzKCkpO1xyXG4gICAgICAgICAgICBpZiAoaG91cnMgPT09IHNlbGYuY29uZmlnLm1heERhdGUuZ2V0SG91cnMoKSlcclxuICAgICAgICAgICAgICAgIG1pbnV0ZXMgPSBNYXRoLm1pbihtaW51dGVzLCBzZWxmLmNvbmZpZy5tYXhEYXRlLmdldE1pbnV0ZXMoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNldEhvdXJzKGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHNldEhvdXJzRnJvbURhdGUoZGF0ZU9iaikge1xyXG4gICAgICAgIHZhciBkYXRlID0gZGF0ZU9iaiB8fCBzZWxmLmxhdGVzdFNlbGVjdGVkRGF0ZU9iajtcclxuICAgICAgICBpZiAoZGF0ZSlcclxuICAgICAgICAgICAgc2V0SG91cnMoZGF0ZS5nZXRIb3VycygpLCBkYXRlLmdldE1pbnV0ZXMoKSwgZGF0ZS5nZXRTZWNvbmRzKCkpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gc2V0SG91cnMoaG91cnMsIG1pbnV0ZXMsIHNlY29uZHMpIHtcclxuICAgICAgICBpZiAoc2VsZi5sYXRlc3RTZWxlY3RlZERhdGVPYmogIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBzZWxmLmxhdGVzdFNlbGVjdGVkRGF0ZU9iai5zZXRIb3Vycyhob3VycyAlIDI0LCBtaW51dGVzLCBzZWNvbmRzIHx8IDAsIDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXNlbGYuaG91ckVsZW1lbnQgfHwgIXNlbGYubWludXRlRWxlbWVudCB8fCBzZWxmLmlzTW9iaWxlKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgc2VsZi5ob3VyRWxlbWVudC52YWx1ZSA9IHBhZCghc2VsZi5jb25maWcudGltZV8yNGhyXHJcbiAgICAgICAgICAgID8gKDEyICsgaG91cnMpICUgMTIgKyAxMiAqIGludChob3VycyAlIDEyID09PSAwKVxyXG4gICAgICAgICAgICA6IGhvdXJzKTtcclxuICAgICAgICBzZWxmLm1pbnV0ZUVsZW1lbnQudmFsdWUgPSBwYWQobWludXRlcyk7XHJcbiAgICAgICAgaWYgKHNlbGYuYW1QTSAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICBzZWxmLmFtUE0udGV4dENvbnRlbnQgPSBzZWxmLmwxMG4uYW1QTVtpbnQoaG91cnMgPj0gMTIpXTtcclxuICAgICAgICBpZiAoc2VsZi5zZWNvbmRFbGVtZW50ICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIHNlbGYuc2Vjb25kRWxlbWVudC52YWx1ZSA9IHBhZChzZWNvbmRzKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIG9uWWVhcklucHV0KGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIHllYXIgPSBwYXJzZUludChldmVudC50YXJnZXQudmFsdWUpICsgKGV2ZW50LmRlbHRhIHx8IDApO1xyXG4gICAgICAgIGlmICh5ZWFyLnRvU3RyaW5nKCkubGVuZ3RoID09PSA0IHx8IGV2ZW50LmtleSA9PT0gXCJFbnRlclwiKSB7XHJcbiAgICAgICAgICAgIHNlbGYuY3VycmVudFllYXJFbGVtZW50LmJsdXIoKTtcclxuICAgICAgICAgICAgaWYgKCEvW15cXGRdLy50ZXN0KHllYXIudG9TdHJpbmcoKSkpXHJcbiAgICAgICAgICAgICAgICBjaGFuZ2VZZWFyKHllYXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGJpbmQoZWxlbWVudCwgZXZlbnQsIGhhbmRsZXIpIHtcclxuICAgICAgICBpZiAoZXZlbnQgaW5zdGFuY2VvZiBBcnJheSlcclxuICAgICAgICAgICAgcmV0dXJuIGV2ZW50LmZvckVhY2goZnVuY3Rpb24gKGV2KSB7IHJldHVybiBiaW5kKGVsZW1lbnQsIGV2LCBoYW5kbGVyKTsgfSk7XHJcbiAgICAgICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBBcnJheSlcclxuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHsgcmV0dXJuIGJpbmQoZWwsIGV2ZW50LCBoYW5kbGVyKTsgfSk7XHJcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyKTtcclxuICAgICAgICBzZWxmLl9oYW5kbGVycy5wdXNoKHsgZWxlbWVudDogZWxlbWVudCwgZXZlbnQ6IGV2ZW50LCBoYW5kbGVyOiBoYW5kbGVyIH0pO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gb25DbGljayhoYW5kbGVyKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICAgICAgZXZ0LndoaWNoID09PSAxICYmIGhhbmRsZXIoZXZ0KTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gdHJpZ2dlckNoYW5nZSgpIHtcclxuICAgICAgICB0cmlnZ2VyRXZlbnQoXCJvbkNoYW5nZVwiKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGJpbmRFdmVudHMoKSB7XHJcbiAgICAgICAgaWYgKHNlbGYuY29uZmlnLndyYXApIHtcclxuICAgICAgICAgICAgW1wib3BlblwiLCBcImNsb3NlXCIsIFwidG9nZ2xlXCIsIFwiY2xlYXJcIl0uZm9yRWFjaChmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgICAgICAgICAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKHNlbGYuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtXCIgKyBldnQgKyBcIl1cIiksIGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiaW5kKGVsLCBcImNsaWNrXCIsIHNlbGZbZXZ0XSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzZWxmLmlzTW9iaWxlKSB7XHJcbiAgICAgICAgICAgIHNldHVwTW9iaWxlKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGRlYm91bmNlZFJlc2l6ZSA9IGRlYm91bmNlKG9uUmVzaXplLCA1MCk7XHJcbiAgICAgICAgc2VsZi5fZGVib3VuY2VkQ2hhbmdlID0gZGVib3VuY2UodHJpZ2dlckNoYW5nZSwgMzAwKTtcclxuICAgICAgICBpZiAoc2VsZi5jb25maWcubW9kZSA9PT0gXCJyYW5nZVwiICYmXHJcbiAgICAgICAgICAgIHNlbGYuZGF5c0NvbnRhaW5lciAmJlxyXG4gICAgICAgICAgICAhL2lQaG9uZXxpUGFkfGlQb2QvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKVxyXG4gICAgICAgICAgICBiaW5kKHNlbGYuZGF5c0NvbnRhaW5lciwgXCJtb3VzZW92ZXJcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvbk1vdXNlT3ZlcihlLnRhcmdldCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIGJpbmQod2luZG93LmRvY3VtZW50LmJvZHksIFwia2V5ZG93blwiLCBvbktleURvd24pO1xyXG4gICAgICAgIGlmICghc2VsZi5jb25maWcuc3RhdGljKVxyXG4gICAgICAgICAgICBiaW5kKHNlbGYuX2lucHV0LCBcImtleWRvd25cIiwgb25LZXlEb3duKTtcclxuICAgICAgICBpZiAoIXNlbGYuY29uZmlnLmlubGluZSAmJiAhc2VsZi5jb25maWcuc3RhdGljKVxyXG4gICAgICAgICAgICBiaW5kKHdpbmRvdywgXCJyZXNpemVcIiwgZGVib3VuY2VkUmVzaXplKTtcclxuICAgICAgICBpZiAod2luZG93Lm9udG91Y2hzdGFydCAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICBiaW5kKHdpbmRvdy5kb2N1bWVudC5ib2R5LCBcInRvdWNoc3RhcnRcIiwgZG9jdW1lbnRDbGljayk7XHJcbiAgICAgICAgYmluZCh3aW5kb3cuZG9jdW1lbnQuYm9keSwgXCJtb3VzZWRvd25cIiwgb25DbGljayhkb2N1bWVudENsaWNrKSk7XHJcbiAgICAgICAgYmluZChzZWxmLl9pbnB1dCwgXCJibHVyXCIsIGRvY3VtZW50Q2xpY2spO1xyXG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy5jbGlja09wZW5zID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIGJpbmQoc2VsZi5faW5wdXQsIFwiZm9jdXNcIiwgc2VsZi5vcGVuKTtcclxuICAgICAgICAgICAgYmluZChzZWxmLl9pbnB1dCwgXCJtb3VzZWRvd25cIiwgb25DbGljayhzZWxmLm9wZW4pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNlbGYuZGF5c0NvbnRhaW5lciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHNlbGYubW9udGhOYXYuYWRkRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIsIGZ1bmN0aW9uIChlKSB7IHJldHVybiBlLnByZXZlbnREZWZhdWx0KCk7IH0pO1xyXG4gICAgICAgICAgICBiaW5kKHNlbGYubW9udGhOYXYsIFwid2hlZWxcIiwgZGVib3VuY2Uob25Nb250aE5hdlNjcm9sbCwgMTApKTtcclxuICAgICAgICAgICAgYmluZChzZWxmLm1vbnRoTmF2LCBcIm1vdXNlZG93blwiLCBvbkNsaWNrKG9uTW9udGhOYXZDbGljaykpO1xyXG4gICAgICAgICAgICBiaW5kKHNlbGYubW9udGhOYXYsIFtcImtleXVwXCIsIFwiaW5jcmVtZW50XCJdLCBvblllYXJJbnB1dCk7XHJcbiAgICAgICAgICAgIGJpbmQoc2VsZi5kYXlzQ29udGFpbmVyLCBcIm1vdXNlZG93blwiLCBvbkNsaWNrKHNlbGVjdERhdGUpKTtcclxuICAgICAgICAgICAgaWYgKHNlbGYuY29uZmlnLmFuaW1hdGUpIHtcclxuICAgICAgICAgICAgICAgIGJpbmQoc2VsZi5kYXlzQ29udGFpbmVyLCBbXCJ3ZWJraXRBbmltYXRpb25FbmRcIiwgXCJhbmltYXRpb25lbmRcIl0sIGFuaW1hdGVEYXlzKTtcclxuICAgICAgICAgICAgICAgIGJpbmQoc2VsZi5tb250aE5hdiwgW1wid2Via2l0QW5pbWF0aW9uRW5kXCIsIFwiYW5pbWF0aW9uZW5kXCJdLCBhbmltYXRlTW9udGhzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2VsZi50aW1lQ29udGFpbmVyICE9PSB1bmRlZmluZWQgJiZcclxuICAgICAgICAgICAgc2VsZi5taW51dGVFbGVtZW50ICE9PSB1bmRlZmluZWQgJiZcclxuICAgICAgICAgICAgc2VsZi5ob3VyRWxlbWVudCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxUZXh0ID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlLnRhcmdldC5zZWxlY3QoKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgYmluZChzZWxmLnRpbWVDb250YWluZXIsIFtcIndoZWVsXCIsIFwiaW5wdXRcIiwgXCJpbmNyZW1lbnRcIl0sIHVwZGF0ZVRpbWUpO1xyXG4gICAgICAgICAgICBiaW5kKHNlbGYudGltZUNvbnRhaW5lciwgXCJtb3VzZWRvd25cIiwgb25DbGljayh0aW1lSW5jcmVtZW50KSk7XHJcbiAgICAgICAgICAgIGJpbmQoc2VsZi50aW1lQ29udGFpbmVyLCBbXCJ3aGVlbFwiLCBcImluY3JlbWVudFwiXSwgc2VsZi5fZGVib3VuY2VkQ2hhbmdlKTtcclxuICAgICAgICAgICAgYmluZChzZWxmLnRpbWVDb250YWluZXIsIFwiaW5wdXRcIiwgdHJpZ2dlckNoYW5nZSk7XHJcbiAgICAgICAgICAgIGJpbmQoW3NlbGYuaG91ckVsZW1lbnQsIHNlbGYubWludXRlRWxlbWVudF0sIFtcImZvY3VzXCIsIFwiY2xpY2tcIl0sIHNlbFRleHQpO1xyXG4gICAgICAgICAgICBpZiAoc2VsZi5zZWNvbmRFbGVtZW50ICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICBiaW5kKHNlbGYuc2Vjb25kRWxlbWVudCwgXCJmb2N1c1wiLCBmdW5jdGlvbiAoKSB7IHJldHVybiBzZWxmLnNlY29uZEVsZW1lbnQgJiYgc2VsZi5zZWNvbmRFbGVtZW50LnNlbGVjdCgpOyB9KTtcclxuICAgICAgICAgICAgaWYgKHNlbGYuYW1QTSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBiaW5kKHNlbGYuYW1QTSwgXCJtb3VzZWRvd25cIiwgb25DbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVRpbWUoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlckNoYW5nZSgpO1xyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcHJvY2Vzc1Bvc3REYXlBbmltYXRpb24oKSB7XHJcbiAgICAgICAgc2VsZi5fYW5pbWF0aW9uTG9vcC5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7IHJldHVybiBmKCk7IH0pO1xyXG4gICAgICAgIHNlbGYuX2FuaW1hdGlvbkxvb3AgPSBbXTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGFuaW1hdGVEYXlzKGUpIHtcclxuICAgICAgICBpZiAoc2VsZi5kYXlzQ29udGFpbmVyICYmIHNlbGYuZGF5c0NvbnRhaW5lci5jaGlsZE5vZGVzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChlLmFuaW1hdGlvbk5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJmcFNsaWRlTGVmdFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZGF5c0NvbnRhaW5lci5sYXN0Q2hpbGQgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5kYXlzQ29udGFpbmVyLmxhc3RDaGlsZC5jbGFzc0xpc3QucmVtb3ZlKFwic2xpZGVMZWZ0TmV3XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZGF5c0NvbnRhaW5lci5yZW1vdmVDaGlsZChzZWxmLmRheXNDb250YWluZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpcnN0Q2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZGF5cyA9IHNlbGYuZGF5c0NvbnRhaW5lci5maXJzdENoaWxkO1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NQb3N0RGF5QW5pbWF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiZnBTbGlkZVJpZ2h0XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5kYXlzQ29udGFpbmVyLmZpcnN0Q2hpbGQgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5kYXlzQ29udGFpbmVyLmZpcnN0Q2hpbGQuY2xhc3NMaXN0LnJlbW92ZShcInNsaWRlUmlnaHROZXdcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5kYXlzQ29udGFpbmVyLnJlbW92ZUNoaWxkKHNlbGYuZGF5c0NvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAubGFzdENoaWxkKTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmRheXMgPSBzZWxmLmRheXNDb250YWluZXIuZmlyc3RDaGlsZDtcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzUG9zdERheUFuaW1hdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGFuaW1hdGVNb250aHMoZSkge1xyXG4gICAgICAgIHN3aXRjaCAoZS5hbmltYXRpb25OYW1lKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJmcFNsaWRlTGVmdE5ld1wiOlxyXG4gICAgICAgICAgICBjYXNlIFwiZnBTbGlkZVJpZ2h0TmV3XCI6XHJcbiAgICAgICAgICAgICAgICBzZWxmLm5hdmlnYXRpb25DdXJyZW50TW9udGguY2xhc3NMaXN0LnJlbW92ZShcInNsaWRlTGVmdE5ld1wiKTtcclxuICAgICAgICAgICAgICAgIHNlbGYubmF2aWdhdGlvbkN1cnJlbnRNb250aC5jbGFzc0xpc3QucmVtb3ZlKFwic2xpZGVSaWdodE5ld1wiKTtcclxuICAgICAgICAgICAgICAgIHZhciBuYXYgPSBzZWxmLm5hdmlnYXRpb25DdXJyZW50TW9udGg7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAobmF2Lm5leHRTaWJsaW5nICYmXHJcbiAgICAgICAgICAgICAgICAgICAgL2N1cnIvLnRlc3QobmF2Lm5leHRTaWJsaW5nLmNsYXNzTmFtZSkpXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5tb250aE5hdi5yZW1vdmVDaGlsZChuYXYubmV4dFNpYmxpbmcpO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKG5hdi5wcmV2aW91c1NpYmxpbmcgJiZcclxuICAgICAgICAgICAgICAgICAgICAvY3Vyci8udGVzdChuYXYucHJldmlvdXNTaWJsaW5nLmNsYXNzTmFtZSkpXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5tb250aE5hdi5yZW1vdmVDaGlsZChuYXYucHJldmlvdXNTaWJsaW5nKTtcclxuICAgICAgICAgICAgICAgIHNlbGYub2xkQ3VyTW9udGggPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBqdW1wVG9EYXRlKGp1bXBEYXRlKSB7XHJcbiAgICAgICAgdmFyIGp1bXBUbyA9IGp1bXBEYXRlICE9PSB1bmRlZmluZWRcclxuICAgICAgICAgICAgPyBwYXJzZURhdGUoanVtcERhdGUpXHJcbiAgICAgICAgICAgIDogc2VsZi5sYXRlc3RTZWxlY3RlZERhdGVPYmogfHxcclxuICAgICAgICAgICAgICAgIChzZWxmLmNvbmZpZy5taW5EYXRlICYmIHNlbGYuY29uZmlnLm1pbkRhdGUgPiBzZWxmLm5vd1xyXG4gICAgICAgICAgICAgICAgICAgID8gc2VsZi5jb25maWcubWluRGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgIDogc2VsZi5jb25maWcubWF4RGF0ZSAmJiBzZWxmLmNvbmZpZy5tYXhEYXRlIDwgc2VsZi5ub3dcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBzZWxmLmNvbmZpZy5tYXhEYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogc2VsZi5ub3cpO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChqdW1wVG8gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5jdXJyZW50WWVhciA9IGp1bXBUby5nZXRGdWxsWWVhcigpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5jdXJyZW50TW9udGggPSBqdW1wVG8uZ2V0TW9udGgoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBlLm1lc3NhZ2UgPSBcIkludmFsaWQgZGF0ZSBzdXBwbGllZDogXCIgKyBqdW1wVG87XHJcbiAgICAgICAgICAgIHNlbGYuY29uZmlnLmVycm9ySGFuZGxlcihlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2VsZi5yZWRyYXcoKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHRpbWVJbmNyZW1lbnQoZSkge1xyXG4gICAgICAgIGlmICh+ZS50YXJnZXQuY2xhc3NOYW1lLmluZGV4T2YoXCJhcnJvd1wiKSlcclxuICAgICAgICAgICAgaW5jcmVtZW50TnVtSW5wdXQoZSwgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYXJyb3dVcFwiKSA/IDEgOiAtMSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBpbmNyZW1lbnROdW1JbnB1dChlLCBkZWx0YSwgaW5wdXRFbGVtKSB7XHJcbiAgICAgICAgdmFyIHRhcmdldCA9IGUgJiYgZS50YXJnZXQ7XHJcbiAgICAgICAgdmFyIGlucHV0ID0gaW5wdXRFbGVtIHx8XHJcbiAgICAgICAgICAgICh0YXJnZXQgJiYgdGFyZ2V0LnBhcmVudE5vZGUgJiYgdGFyZ2V0LnBhcmVudE5vZGUuZmlyc3RDaGlsZCk7XHJcbiAgICAgICAgdmFyIGV2ZW50ID0gY3JlYXRlRXZlbnQoXCJpbmNyZW1lbnRcIik7XHJcbiAgICAgICAgZXZlbnQuZGVsdGEgPSBkZWx0YTtcclxuICAgICAgICBpbnB1dCAmJiBpbnB1dC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGJ1aWxkKCkge1xyXG4gICAgICAgIHZhciBmcmFnbWVudCA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XHJcbiAgICAgICAgc2VsZi5jYWxlbmRhckNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgXCJmbGF0cGlja3ItY2FsZW5kYXJcIik7XHJcbiAgICAgICAgc2VsZi5jYWxlbmRhckNvbnRhaW5lci50YWJJbmRleCA9IC0xO1xyXG4gICAgICAgIGlmICghc2VsZi5jb25maWcubm9DYWxlbmRhcikge1xyXG4gICAgICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChidWlsZE1vbnRoTmF2KCkpO1xyXG4gICAgICAgICAgICBzZWxmLmlubmVyQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBcImZsYXRwaWNrci1pbm5lckNvbnRhaW5lclwiKTtcclxuICAgICAgICAgICAgaWYgKHNlbGYuY29uZmlnLndlZWtOdW1iZXJzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX2EgPSBidWlsZFdlZWtzKCksIHdlZWtXcmFwcGVyID0gX2Eud2Vla1dyYXBwZXIsIHdlZWtOdW1iZXJzID0gX2Eud2Vla051bWJlcnM7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmlubmVyQ29udGFpbmVyLmFwcGVuZENoaWxkKHdlZWtXcmFwcGVyKTtcclxuICAgICAgICAgICAgICAgIHNlbGYud2Vla051bWJlcnMgPSB3ZWVrTnVtYmVycztcclxuICAgICAgICAgICAgICAgIHNlbGYud2Vla1dyYXBwZXIgPSB3ZWVrV3JhcHBlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZWxmLnJDb250YWluZXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFwiZmxhdHBpY2tyLXJDb250YWluZXJcIik7XHJcbiAgICAgICAgICAgIHNlbGYuckNvbnRhaW5lci5hcHBlbmRDaGlsZChidWlsZFdlZWtkYXlzKCkpO1xyXG4gICAgICAgICAgICBpZiAoIXNlbGYuZGF5c0NvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5kYXlzQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBcImZsYXRwaWNrci1kYXlzXCIpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5kYXlzQ29udGFpbmVyLnRhYkluZGV4ID0gLTE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnVpbGREYXlzKCk7XHJcbiAgICAgICAgICAgIHNlbGYuckNvbnRhaW5lci5hcHBlbmRDaGlsZChzZWxmLmRheXNDb250YWluZXIpO1xyXG4gICAgICAgICAgICBzZWxmLmlubmVyQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlbGYuckNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKHNlbGYuaW5uZXJDb250YWluZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2VsZi5jb25maWcuZW5hYmxlVGltZSkge1xyXG4gICAgICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChidWlsZFRpbWUoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRvZ2dsZUNsYXNzKHNlbGYuY2FsZW5kYXJDb250YWluZXIsIFwicmFuZ2VNb2RlXCIsIHNlbGYuY29uZmlnLm1vZGUgPT09IFwicmFuZ2VcIik7XHJcbiAgICAgICAgdG9nZ2xlQ2xhc3Moc2VsZi5jYWxlbmRhckNvbnRhaW5lciwgXCJhbmltYXRlXCIsIHNlbGYuY29uZmlnLmFuaW1hdGUpO1xyXG4gICAgICAgIHNlbGYuY2FsZW5kYXJDb250YWluZXIuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xyXG4gICAgICAgIHZhciBjdXN0b21BcHBlbmQgPSBzZWxmLmNvbmZpZy5hcHBlbmRUbyAhPT0gdW5kZWZpbmVkICYmIHNlbGYuY29uZmlnLmFwcGVuZFRvLm5vZGVUeXBlO1xyXG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy5pbmxpbmUgfHwgc2VsZi5jb25maWcuc3RhdGljKSB7XHJcbiAgICAgICAgICAgIHNlbGYuY2FsZW5kYXJDb250YWluZXIuY2xhc3NMaXN0LmFkZChzZWxmLmNvbmZpZy5pbmxpbmUgPyBcImlubGluZVwiIDogXCJzdGF0aWNcIik7XHJcbiAgICAgICAgICAgIGlmIChzZWxmLmNvbmZpZy5pbmxpbmUpIHtcclxuICAgICAgICAgICAgICAgIGlmICghY3VzdG9tQXBwZW5kICYmIHNlbGYuZWxlbWVudC5wYXJlbnROb2RlKVxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShzZWxmLmNhbGVuZGFyQ29udGFpbmVyLCBzZWxmLl9pbnB1dC5uZXh0U2libGluZyk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzZWxmLmNvbmZpZy5hcHBlbmRUbyAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY29uZmlnLmFwcGVuZFRvLmFwcGVuZENoaWxkKHNlbGYuY2FsZW5kYXJDb250YWluZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzZWxmLmNvbmZpZy5zdGF0aWMpIHtcclxuICAgICAgICAgICAgICAgIHZhciB3cmFwcGVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBcImZsYXRwaWNrci13cmFwcGVyXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuZWxlbWVudC5wYXJlbnROb2RlKVxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh3cmFwcGVyLCBzZWxmLmVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChzZWxmLmVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuYWx0SW5wdXQpXHJcbiAgICAgICAgICAgICAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChzZWxmLmFsdElucHV0KTtcclxuICAgICAgICAgICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoc2VsZi5jYWxlbmRhckNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFzZWxmLmNvbmZpZy5zdGF0aWMgJiYgIXNlbGYuY29uZmlnLmlubGluZSlcclxuICAgICAgICAgICAgKHNlbGYuY29uZmlnLmFwcGVuZFRvICE9PSB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgID8gc2VsZi5jb25maWcuYXBwZW5kVG9cclxuICAgICAgICAgICAgICAgIDogd2luZG93LmRvY3VtZW50LmJvZHkpLmFwcGVuZENoaWxkKHNlbGYuY2FsZW5kYXJDb250YWluZXIpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gY3JlYXRlRGF5KGNsYXNzTmFtZSwgZGF0ZSwgZGF5TnVtYmVyLCBpKSB7XHJcbiAgICAgICAgdmFyIGRhdGVJc0VuYWJsZWQgPSBpc0VuYWJsZWQoZGF0ZSwgdHJ1ZSksIGRheUVsZW1lbnQgPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBcImZsYXRwaWNrci1kYXkgXCIgKyBjbGFzc05hbWUsIGRhdGUuZ2V0RGF0ZSgpLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIGRheUVsZW1lbnQuZGF0ZU9iaiA9IGRhdGU7XHJcbiAgICAgICAgZGF5RWxlbWVudC4kaSA9IGk7XHJcbiAgICAgICAgZGF5RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIHNlbGYuZm9ybWF0RGF0ZShkYXRlLCBzZWxmLmNvbmZpZy5hcmlhRGF0ZUZvcm1hdCkpO1xyXG4gICAgICAgIGlmIChjb21wYXJlRGF0ZXMoZGF0ZSwgc2VsZi5ub3cpID09PSAwKSB7XHJcbiAgICAgICAgICAgIHNlbGYudG9kYXlEYXRlRWxlbSA9IGRheUVsZW1lbnQ7XHJcbiAgICAgICAgICAgIGRheUVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInRvZGF5XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGF0ZUlzRW5hYmxlZCkge1xyXG4gICAgICAgICAgICBkYXlFbGVtZW50LnRhYkluZGV4ID0gLTE7XHJcbiAgICAgICAgICAgIGlmIChpc0RhdGVTZWxlY3RlZChkYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgZGF5RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwic2VsZWN0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnNlbGVjdGVkRGF0ZUVsZW0gPSBkYXlFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuY29uZmlnLm1vZGUgPT09IFwicmFuZ2VcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZUNsYXNzKGRheUVsZW1lbnQsIFwic3RhcnRSYW5nZVwiLCBzZWxmLnNlbGVjdGVkRGF0ZXNbMF0gJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGFyZURhdGVzKGRhdGUsIHNlbGYuc2VsZWN0ZWREYXRlc1swXSkgPT09IDApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZUNsYXNzKGRheUVsZW1lbnQsIFwiZW5kUmFuZ2VcIiwgc2VsZi5zZWxlY3RlZERhdGVzWzFdICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBhcmVEYXRlcyhkYXRlLCBzZWxmLnNlbGVjdGVkRGF0ZXNbMV0pID09PSAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZGF5RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgICAgIGlmIChzZWxmLnNlbGVjdGVkRGF0ZXNbMF0gJiZcclxuICAgICAgICAgICAgICAgIHNlbGYubWluUmFuZ2VEYXRlICYmXHJcbiAgICAgICAgICAgICAgICBkYXRlID4gc2VsZi5taW5SYW5nZURhdGUgJiZcclxuICAgICAgICAgICAgICAgIGRhdGUgPCBzZWxmLnNlbGVjdGVkRGF0ZXNbMF0pXHJcbiAgICAgICAgICAgICAgICBzZWxmLm1pblJhbmdlRGF0ZSA9IGRhdGU7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHNlbGYuc2VsZWN0ZWREYXRlc1swXSAmJlxyXG4gICAgICAgICAgICAgICAgc2VsZi5tYXhSYW5nZURhdGUgJiZcclxuICAgICAgICAgICAgICAgIGRhdGUgPCBzZWxmLm1heFJhbmdlRGF0ZSAmJlxyXG4gICAgICAgICAgICAgICAgZGF0ZSA+IHNlbGYuc2VsZWN0ZWREYXRlc1swXSlcclxuICAgICAgICAgICAgICAgIHNlbGYubWF4UmFuZ2VEYXRlID0gZGF0ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNlbGYuY29uZmlnLm1vZGUgPT09IFwicmFuZ2VcIikge1xyXG4gICAgICAgICAgICBpZiAoaXNEYXRlSW5SYW5nZShkYXRlKSAmJiAhaXNEYXRlU2VsZWN0ZWQoZGF0ZSkpXHJcbiAgICAgICAgICAgICAgICBkYXlFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJpblJhbmdlXCIpO1xyXG4gICAgICAgICAgICBpZiAoc2VsZi5zZWxlY3RlZERhdGVzLmxlbmd0aCA9PT0gMSAmJlxyXG4gICAgICAgICAgICAgICAgc2VsZi5taW5SYW5nZURhdGUgIT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICAgICAgICAgICAgc2VsZi5tYXhSYW5nZURhdGUgIT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICAgICAgICAgICAgKGRhdGUgPCBzZWxmLm1pblJhbmdlRGF0ZSB8fCBkYXRlID4gc2VsZi5tYXhSYW5nZURhdGUpKVxyXG4gICAgICAgICAgICAgICAgZGF5RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibm90QWxsb3dlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNlbGYud2Vla051bWJlcnMgJiZcclxuICAgICAgICAgICAgY2xhc3NOYW1lICE9PSBcInByZXZNb250aERheVwiICYmXHJcbiAgICAgICAgICAgIGRheU51bWJlciAlIDcgPT09IDEpIHtcclxuICAgICAgICAgICAgc2VsZi53ZWVrTnVtYmVycy5pbnNlcnRBZGphY2VudEhUTUwoXCJiZWZvcmVlbmRcIiwgXCI8c3BhbiBjbGFzcz0nZGlzYWJsZWQgZmxhdHBpY2tyLWRheSc+XCIgK1xyXG4gICAgICAgICAgICAgICAgc2VsZi5jb25maWcuZ2V0V2VlayhkYXRlKSArXHJcbiAgICAgICAgICAgICAgICBcIjwvc3Bhbj5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyaWdnZXJFdmVudChcIm9uRGF5Q3JlYXRlXCIsIGRheUVsZW1lbnQpO1xyXG4gICAgICAgIHJldHVybiBkYXlFbGVtZW50O1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZm9jdXNPbkRheShjdXJyZW50SW5kZXgsIG9mZnNldCkge1xyXG4gICAgICAgIHZhciBuZXdJbmRleCA9IGN1cnJlbnRJbmRleCArIG9mZnNldCB8fCAwLCB0YXJnZXROb2RlID0gKGN1cnJlbnRJbmRleCAhPT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgID8gc2VsZi5kYXlzLmNoaWxkTm9kZXNbbmV3SW5kZXhdXHJcbiAgICAgICAgICAgIDogc2VsZi5zZWxlY3RlZERhdGVFbGVtIHx8XHJcbiAgICAgICAgICAgICAgICBzZWxmLnRvZGF5RGF0ZUVsZW0gfHxcclxuICAgICAgICAgICAgICAgIHNlbGYuZGF5cy5jaGlsZE5vZGVzWzBdKTtcclxuICAgICAgICB2YXIgZm9jdXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRhcmdldE5vZGUgPSB0YXJnZXROb2RlIHx8IHNlbGYuZGF5cy5jaGlsZE5vZGVzW25ld0luZGV4XTtcclxuICAgICAgICAgICAgdGFyZ2V0Tm9kZS5mb2N1cygpO1xyXG4gICAgICAgICAgICBpZiAoc2VsZi5jb25maWcubW9kZSA9PT0gXCJyYW5nZVwiKVxyXG4gICAgICAgICAgICAgICAgb25Nb3VzZU92ZXIodGFyZ2V0Tm9kZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAodGFyZ2V0Tm9kZSA9PT0gdW5kZWZpbmVkICYmIG9mZnNldCAhPT0gMCkge1xyXG4gICAgICAgICAgICBpZiAob2Zmc2V0ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5jaGFuZ2VNb250aCgxLCB0cnVlLCB1bmRlZmluZWQsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgbmV3SW5kZXggPSBuZXdJbmRleCAlIDQyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKG9mZnNldCA8IDApIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuY2hhbmdlTW9udGgoLTEsIHRydWUsIHVuZGVmaW5lZCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBuZXdJbmRleCArPSA0MjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gYWZ0ZXJEYXlBbmltKGZvY3VzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9jdXMoKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGFmdGVyRGF5QW5pbShmbikge1xyXG4gICAgICAgIHNlbGYuY29uZmlnLmFuaW1hdGUgPT09IHRydWUgPyBzZWxmLl9hbmltYXRpb25Mb29wLnB1c2goZm4pIDogZm4oKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGJ1aWxkRGF5cyhkZWx0YSkge1xyXG4gICAgICAgIGlmIChzZWxmLmRheXNDb250YWluZXIgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBmaXJzdE9mTW9udGggPSAobmV3IERhdGUoc2VsZi5jdXJyZW50WWVhciwgc2VsZi5jdXJyZW50TW9udGgsIDEpLmdldERheSgpIC1cclxuICAgICAgICAgICAgc2VsZi5sMTBuLmZpcnN0RGF5T2ZXZWVrICtcclxuICAgICAgICAgICAgNykgJVxyXG4gICAgICAgICAgICA3LCBpc1JhbmdlTW9kZSA9IHNlbGYuY29uZmlnLm1vZGUgPT09IFwicmFuZ2VcIjtcclxuICAgICAgICB2YXIgcHJldk1vbnRoRGF5cyA9IHNlbGYudXRpbHMuZ2V0RGF5c0luTW9udGgoKHNlbGYuY3VycmVudE1vbnRoIC0gMSArIDEyKSAlIDEyKTtcclxuICAgICAgICB2YXIgZGF5c0luTW9udGggPSBzZWxmLnV0aWxzLmdldERheXNJbk1vbnRoKCksIGRheXMgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xyXG4gICAgICAgIHZhciBkYXlOdW1iZXIgPSBwcmV2TW9udGhEYXlzICsgMSAtIGZpcnN0T2ZNb250aCwgZGF5SW5kZXggPSAwO1xyXG4gICAgICAgIGlmIChzZWxmLndlZWtOdW1iZXJzICYmIHNlbGYud2Vla051bWJlcnMuZmlyc3RDaGlsZClcclxuICAgICAgICAgICAgc2VsZi53ZWVrTnVtYmVycy50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICAgICAgaWYgKGlzUmFuZ2VNb2RlKSB7XHJcbiAgICAgICAgICAgIHNlbGYubWluUmFuZ2VEYXRlID0gbmV3IERhdGUoc2VsZi5jdXJyZW50WWVhciwgc2VsZi5jdXJyZW50TW9udGggLSAxLCBkYXlOdW1iZXIpO1xyXG4gICAgICAgICAgICBzZWxmLm1heFJhbmdlRGF0ZSA9IG5ldyBEYXRlKHNlbGYuY3VycmVudFllYXIsIHNlbGYuY3VycmVudE1vbnRoICsgMSwgKDQyIC0gZmlyc3RPZk1vbnRoKSAlIGRheXNJbk1vbnRoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yICg7IGRheU51bWJlciA8PSBwcmV2TW9udGhEYXlzOyBkYXlOdW1iZXIrKywgZGF5SW5kZXgrKykge1xyXG4gICAgICAgICAgICBkYXlzLmFwcGVuZENoaWxkKGNyZWF0ZURheShcInByZXZNb250aERheVwiLCBuZXcgRGF0ZShzZWxmLmN1cnJlbnRZZWFyLCBzZWxmLmN1cnJlbnRNb250aCAtIDEsIGRheU51bWJlciksIGRheU51bWJlciwgZGF5SW5kZXgpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChkYXlOdW1iZXIgPSAxOyBkYXlOdW1iZXIgPD0gZGF5c0luTW9udGg7IGRheU51bWJlcisrLCBkYXlJbmRleCsrKSB7XHJcbiAgICAgICAgICAgIGRheXMuYXBwZW5kQ2hpbGQoY3JlYXRlRGF5KFwiXCIsIG5ldyBEYXRlKHNlbGYuY3VycmVudFllYXIsIHNlbGYuY3VycmVudE1vbnRoLCBkYXlOdW1iZXIpLCBkYXlOdW1iZXIsIGRheUluZGV4KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAodmFyIGRheU51bSA9IGRheXNJbk1vbnRoICsgMTsgZGF5TnVtIDw9IDQyIC0gZmlyc3RPZk1vbnRoOyBkYXlOdW0rKywgZGF5SW5kZXgrKykge1xyXG4gICAgICAgICAgICBkYXlzLmFwcGVuZENoaWxkKGNyZWF0ZURheShcIm5leHRNb250aERheVwiLCBuZXcgRGF0ZShzZWxmLmN1cnJlbnRZZWFyLCBzZWxmLmN1cnJlbnRNb250aCArIDEsIGRheU51bSAlIGRheXNJbk1vbnRoKSwgZGF5TnVtLCBkYXlJbmRleCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNSYW5nZU1vZGUgJiYgc2VsZi5zZWxlY3RlZERhdGVzLmxlbmd0aCA9PT0gMSAmJiBkYXlzLmNoaWxkTm9kZXNbMF0pIHtcclxuICAgICAgICAgICAgc2VsZi5faGlkZVByZXZNb250aEFycm93ID1cclxuICAgICAgICAgICAgICAgIHNlbGYuX2hpZGVQcmV2TW9udGhBcnJvdyB8fFxyXG4gICAgICAgICAgICAgICAgICAgICghIXNlbGYubWluUmFuZ2VEYXRlICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubWluUmFuZ2VEYXRlID4gZGF5cy5jaGlsZE5vZGVzWzBdLmRhdGVPYmopO1xyXG4gICAgICAgICAgICBzZWxmLl9oaWRlTmV4dE1vbnRoQXJyb3cgPVxyXG4gICAgICAgICAgICAgICAgc2VsZi5faGlkZU5leHRNb250aEFycm93IHx8XHJcbiAgICAgICAgICAgICAgICAgICAgKCEhc2VsZi5tYXhSYW5nZURhdGUgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5tYXhSYW5nZURhdGUgPFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IERhdGUoc2VsZi5jdXJyZW50WWVhciwgc2VsZi5jdXJyZW50TW9udGggKyAxLCAxKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgdXBkYXRlTmF2aWdhdGlvbkN1cnJlbnRNb250aCgpO1xyXG4gICAgICAgIHZhciBkYXlDb250YWluZXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFwiZGF5Q29udGFpbmVyXCIpO1xyXG4gICAgICAgIGRheUNvbnRhaW5lci5hcHBlbmRDaGlsZChkYXlzKTtcclxuICAgICAgICBpZiAoIXNlbGYuY29uZmlnLmFuaW1hdGUgfHwgZGVsdGEgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgY2xlYXJOb2RlKHNlbGYuZGF5c0NvbnRhaW5lcik7XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHdoaWxlIChzZWxmLmRheXNDb250YWluZXIuY2hpbGROb2Rlcy5sZW5ndGggPiAxKVxyXG4gICAgICAgICAgICAgICAgc2VsZi5kYXlzQ29udGFpbmVyLnJlbW92ZUNoaWxkKHNlbGYuZGF5c0NvbnRhaW5lci5maXJzdENoaWxkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRlbHRhICYmIGRlbHRhID49IDApXHJcbiAgICAgICAgICAgIHNlbGYuZGF5c0NvbnRhaW5lci5hcHBlbmRDaGlsZChkYXlDb250YWluZXIpO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgc2VsZi5kYXlzQ29udGFpbmVyLmluc2VydEJlZm9yZShkYXlDb250YWluZXIsIHNlbGYuZGF5c0NvbnRhaW5lci5maXJzdENoaWxkKTtcclxuICAgICAgICBzZWxmLmRheXMgPSBzZWxmLmRheXNDb250YWluZXIuY2hpbGROb2Rlc1swXTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGJ1aWxkTW9udGhOYXYoKSB7XHJcbiAgICAgICAgdmFyIG1vbnRoTmF2RnJhZ21lbnQgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xyXG4gICAgICAgIHNlbGYubW9udGhOYXYgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFwiZmxhdHBpY2tyLW1vbnRoXCIpO1xyXG4gICAgICAgIHNlbGYucHJldk1vbnRoTmF2ID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgXCJmbGF0cGlja3ItcHJldi1tb250aFwiKTtcclxuICAgICAgICBzZWxmLnByZXZNb250aE5hdi5pbm5lckhUTUwgPSBzZWxmLmNvbmZpZy5wcmV2QXJyb3c7XHJcbiAgICAgICAgc2VsZi5jdXJyZW50TW9udGhFbGVtZW50ID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgXCJjdXItbW9udGhcIik7XHJcbiAgICAgICAgc2VsZi5jdXJyZW50TW9udGhFbGVtZW50LnRpdGxlID0gc2VsZi5sMTBuLnNjcm9sbFRpdGxlO1xyXG4gICAgICAgIHZhciB5ZWFySW5wdXQgPSBjcmVhdGVOdW1iZXJJbnB1dChcImN1ci15ZWFyXCIpO1xyXG4gICAgICAgIHNlbGYuY3VycmVudFllYXJFbGVtZW50ID0geWVhcklucHV0LmNoaWxkTm9kZXNbMF07XHJcbiAgICAgICAgc2VsZi5jdXJyZW50WWVhckVsZW1lbnQudGl0bGUgPSBzZWxmLmwxMG4uc2Nyb2xsVGl0bGU7XHJcbiAgICAgICAgaWYgKHNlbGYuY29uZmlnLm1pbkRhdGUpXHJcbiAgICAgICAgICAgIHNlbGYuY3VycmVudFllYXJFbGVtZW50Lm1pbiA9IHNlbGYuY29uZmlnLm1pbkRhdGVcclxuICAgICAgICAgICAgICAgIC5nZXRGdWxsWWVhcigpXHJcbiAgICAgICAgICAgICAgICAudG9TdHJpbmcoKTtcclxuICAgICAgICBpZiAoc2VsZi5jb25maWcubWF4RGF0ZSkge1xyXG4gICAgICAgICAgICBzZWxmLmN1cnJlbnRZZWFyRWxlbWVudC5tYXggPSBzZWxmLmNvbmZpZy5tYXhEYXRlXHJcbiAgICAgICAgICAgICAgICAuZ2V0RnVsbFllYXIoKVxyXG4gICAgICAgICAgICAgICAgLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIHNlbGYuY3VycmVudFllYXJFbGVtZW50LmRpc2FibGVkID1cclxuICAgICAgICAgICAgICAgICEhc2VsZi5jb25maWcubWluRGF0ZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY29uZmlnLm1pbkRhdGUuZ2V0RnVsbFllYXIoKSA9PT0gc2VsZi5jb25maWcubWF4RGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZWxmLm5leHRNb250aE5hdiA9IGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFwiZmxhdHBpY2tyLW5leHQtbW9udGhcIik7XHJcbiAgICAgICAgc2VsZi5uZXh0TW9udGhOYXYuaW5uZXJIVE1MID0gc2VsZi5jb25maWcubmV4dEFycm93O1xyXG4gICAgICAgIHNlbGYubmF2aWdhdGlvbkN1cnJlbnRNb250aCA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgXCJmbGF0cGlja3ItY3VycmVudC1tb250aFwiKTtcclxuICAgICAgICBzZWxmLm5hdmlnYXRpb25DdXJyZW50TW9udGguYXBwZW5kQ2hpbGQoc2VsZi5jdXJyZW50TW9udGhFbGVtZW50KTtcclxuICAgICAgICBzZWxmLm5hdmlnYXRpb25DdXJyZW50TW9udGguYXBwZW5kQ2hpbGQoeWVhcklucHV0KTtcclxuICAgICAgICBtb250aE5hdkZyYWdtZW50LmFwcGVuZENoaWxkKHNlbGYucHJldk1vbnRoTmF2KTtcclxuICAgICAgICBtb250aE5hdkZyYWdtZW50LmFwcGVuZENoaWxkKHNlbGYubmF2aWdhdGlvbkN1cnJlbnRNb250aCk7XHJcbiAgICAgICAgbW9udGhOYXZGcmFnbWVudC5hcHBlbmRDaGlsZChzZWxmLm5leHRNb250aE5hdik7XHJcbiAgICAgICAgc2VsZi5tb250aE5hdi5hcHBlbmRDaGlsZChtb250aE5hdkZyYWdtZW50KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc2VsZiwgXCJfaGlkZVByZXZNb250aEFycm93XCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzZWxmLl9faGlkZVByZXZNb250aEFycm93OyB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChib29sKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5fX2hpZGVQcmV2TW9udGhBcnJvdyAhPT0gYm9vbClcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnByZXZNb250aE5hdi5zdHlsZS5kaXNwbGF5ID0gYm9vbCA/IFwibm9uZVwiIDogXCJibG9ja1wiO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5fX2hpZGVQcmV2TW9udGhBcnJvdyA9IGJvb2w7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlbGYsIFwiX2hpZGVOZXh0TW9udGhBcnJvd1wiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2VsZi5fX2hpZGVOZXh0TW9udGhBcnJvdzsgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoYm9vbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuX19oaWRlTmV4dE1vbnRoQXJyb3cgIT09IGJvb2wpXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5uZXh0TW9udGhOYXYuc3R5bGUuZGlzcGxheSA9IGJvb2wgPyBcIm5vbmVcIiA6IFwiYmxvY2tcIjtcclxuICAgICAgICAgICAgICAgIHNlbGYuX19oaWRlTmV4dE1vbnRoQXJyb3cgPSBib29sO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHVwZGF0ZU5hdmlnYXRpb25DdXJyZW50TW9udGgoKTtcclxuICAgICAgICByZXR1cm4gc2VsZi5tb250aE5hdjtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGJ1aWxkVGltZSgpIHtcclxuICAgICAgICBzZWxmLmNhbGVuZGFyQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJoYXNUaW1lXCIpO1xyXG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy5ub0NhbGVuZGFyKVxyXG4gICAgICAgICAgICBzZWxmLmNhbGVuZGFyQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJub0NhbGVuZGFyXCIpO1xyXG4gICAgICAgIHNlbGYudGltZUNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgXCJmbGF0cGlja3ItdGltZVwiKTtcclxuICAgICAgICBzZWxmLnRpbWVDb250YWluZXIudGFiSW5kZXggPSAtMTtcclxuICAgICAgICB2YXIgc2VwYXJhdG9yID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgXCJmbGF0cGlja3ItdGltZS1zZXBhcmF0b3JcIiwgXCI6XCIpO1xyXG4gICAgICAgIHZhciBob3VySW5wdXQgPSBjcmVhdGVOdW1iZXJJbnB1dChcImZsYXRwaWNrci1ob3VyXCIpO1xyXG4gICAgICAgIHNlbGYuaG91ckVsZW1lbnQgPSBob3VySW5wdXQuY2hpbGROb2Rlc1swXTtcclxuICAgICAgICB2YXIgbWludXRlSW5wdXQgPSBjcmVhdGVOdW1iZXJJbnB1dChcImZsYXRwaWNrci1taW51dGVcIik7XHJcbiAgICAgICAgc2VsZi5taW51dGVFbGVtZW50ID0gbWludXRlSW5wdXQuY2hpbGROb2Rlc1swXTtcclxuICAgICAgICBzZWxmLmhvdXJFbGVtZW50LnRhYkluZGV4ID0gc2VsZi5taW51dGVFbGVtZW50LnRhYkluZGV4ID0gLTE7XHJcbiAgICAgICAgc2VsZi5ob3VyRWxlbWVudC52YWx1ZSA9IHBhZChzZWxmLmxhdGVzdFNlbGVjdGVkRGF0ZU9ialxyXG4gICAgICAgICAgICA/IHNlbGYubGF0ZXN0U2VsZWN0ZWREYXRlT2JqLmdldEhvdXJzKClcclxuICAgICAgICAgICAgOiBzZWxmLmNvbmZpZy50aW1lXzI0aHJcclxuICAgICAgICAgICAgICAgID8gc2VsZi5jb25maWcuZGVmYXVsdEhvdXJcclxuICAgICAgICAgICAgICAgIDogbWlsaXRhcnkyYW1wbShzZWxmLmNvbmZpZy5kZWZhdWx0SG91cikpO1xyXG4gICAgICAgIHNlbGYubWludXRlRWxlbWVudC52YWx1ZSA9IHBhZChzZWxmLmxhdGVzdFNlbGVjdGVkRGF0ZU9ialxyXG4gICAgICAgICAgICA/IHNlbGYubGF0ZXN0U2VsZWN0ZWREYXRlT2JqLmdldE1pbnV0ZXMoKVxyXG4gICAgICAgICAgICA6IHNlbGYuY29uZmlnLmRlZmF1bHRNaW51dGUpO1xyXG4gICAgICAgIHNlbGYuaG91ckVsZW1lbnQuc3RlcCA9IHNlbGYuY29uZmlnLmhvdXJJbmNyZW1lbnQudG9TdHJpbmcoKTtcclxuICAgICAgICBzZWxmLm1pbnV0ZUVsZW1lbnQuc3RlcCA9IHNlbGYuY29uZmlnLm1pbnV0ZUluY3JlbWVudC50b1N0cmluZygpO1xyXG4gICAgICAgIHNlbGYuaG91ckVsZW1lbnQubWluID0gc2VsZi5jb25maWcudGltZV8yNGhyID8gXCIwXCIgOiBcIjFcIjtcclxuICAgICAgICBzZWxmLmhvdXJFbGVtZW50Lm1heCA9IHNlbGYuY29uZmlnLnRpbWVfMjRociA/IFwiMjNcIiA6IFwiMTJcIjtcclxuICAgICAgICBzZWxmLm1pbnV0ZUVsZW1lbnQubWluID0gXCIwXCI7XHJcbiAgICAgICAgc2VsZi5taW51dGVFbGVtZW50Lm1heCA9IFwiNTlcIjtcclxuICAgICAgICBzZWxmLmhvdXJFbGVtZW50LnRpdGxlID0gc2VsZi5taW51dGVFbGVtZW50LnRpdGxlID0gc2VsZi5sMTBuLnNjcm9sbFRpdGxlO1xyXG4gICAgICAgIHNlbGYudGltZUNvbnRhaW5lci5hcHBlbmRDaGlsZChob3VySW5wdXQpO1xyXG4gICAgICAgIHNlbGYudGltZUNvbnRhaW5lci5hcHBlbmRDaGlsZChzZXBhcmF0b3IpO1xyXG4gICAgICAgIHNlbGYudGltZUNvbnRhaW5lci5hcHBlbmRDaGlsZChtaW51dGVJbnB1dCk7XHJcbiAgICAgICAgaWYgKHNlbGYuY29uZmlnLnRpbWVfMjRocilcclxuICAgICAgICAgICAgc2VsZi50aW1lQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJ0aW1lMjRoclwiKTtcclxuICAgICAgICBpZiAoc2VsZi5jb25maWcuZW5hYmxlU2Vjb25kcykge1xyXG4gICAgICAgICAgICBzZWxmLnRpbWVDb250YWluZXIuY2xhc3NMaXN0LmFkZChcImhhc1NlY29uZHNcIik7XHJcbiAgICAgICAgICAgIHZhciBzZWNvbmRJbnB1dCA9IGNyZWF0ZU51bWJlcklucHV0KFwiZmxhdHBpY2tyLXNlY29uZFwiKTtcclxuICAgICAgICAgICAgc2VsZi5zZWNvbmRFbGVtZW50ID0gc2Vjb25kSW5wdXQuY2hpbGROb2Rlc1swXTtcclxuICAgICAgICAgICAgc2VsZi5zZWNvbmRFbGVtZW50LnZhbHVlID0gcGFkKHNlbGYubGF0ZXN0U2VsZWN0ZWREYXRlT2JqXHJcbiAgICAgICAgICAgICAgICA/IHNlbGYubGF0ZXN0U2VsZWN0ZWREYXRlT2JqLmdldFNlY29uZHMoKVxyXG4gICAgICAgICAgICAgICAgOiBzZWxmLmNvbmZpZy5kZWZhdWx0U2Vjb25kcyk7XHJcbiAgICAgICAgICAgIHNlbGYuc2Vjb25kRWxlbWVudC5zdGVwID0gc2VsZi5taW51dGVFbGVtZW50LnN0ZXA7XHJcbiAgICAgICAgICAgIHNlbGYuc2Vjb25kRWxlbWVudC5taW4gPSBzZWxmLm1pbnV0ZUVsZW1lbnQubWluO1xyXG4gICAgICAgICAgICBzZWxmLnNlY29uZEVsZW1lbnQubWF4ID0gc2VsZi5taW51dGVFbGVtZW50Lm1heDtcclxuICAgICAgICAgICAgc2VsZi50aW1lQ29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFwiZmxhdHBpY2tyLXRpbWUtc2VwYXJhdG9yXCIsIFwiOlwiKSk7XHJcbiAgICAgICAgICAgIHNlbGYudGltZUNvbnRhaW5lci5hcHBlbmRDaGlsZChzZWNvbmRJbnB1dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghc2VsZi5jb25maWcudGltZV8yNGhyKSB7XHJcbiAgICAgICAgICAgIHNlbGYuYW1QTSA9IGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFwiZmxhdHBpY2tyLWFtLXBtXCIsIHNlbGYubDEwbi5hbVBNW2ludCgoc2VsZi5sYXRlc3RTZWxlY3RlZERhdGVPYmpcclxuICAgICAgICAgICAgICAgID8gc2VsZi5ob3VyRWxlbWVudC52YWx1ZVxyXG4gICAgICAgICAgICAgICAgOiBzZWxmLmNvbmZpZy5kZWZhdWx0SG91cikgPiAxMSldKTtcclxuICAgICAgICAgICAgc2VsZi5hbVBNLnRpdGxlID0gc2VsZi5sMTBuLnRvZ2dsZVRpdGxlO1xyXG4gICAgICAgICAgICBzZWxmLmFtUE0udGFiSW5kZXggPSAtMTtcclxuICAgICAgICAgICAgc2VsZi50aW1lQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlbGYuYW1QTSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzZWxmLnRpbWVDb250YWluZXI7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBidWlsZFdlZWtkYXlzKCkge1xyXG4gICAgICAgIGlmICghc2VsZi53ZWVrZGF5Q29udGFpbmVyKVxyXG4gICAgICAgICAgICBzZWxmLndlZWtkYXlDb250YWluZXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFwiZmxhdHBpY2tyLXdlZWtkYXlzXCIpO1xyXG4gICAgICAgIHZhciBmaXJzdERheU9mV2VlayA9IHNlbGYubDEwbi5maXJzdERheU9mV2VlaztcclxuICAgICAgICB2YXIgd2Vla2RheXMgPSBzZWxmLmwxMG4ud2Vla2RheXMuc2hvcnRoYW5kLnNsaWNlKCk7XHJcbiAgICAgICAgaWYgKGZpcnN0RGF5T2ZXZWVrID4gMCAmJiBmaXJzdERheU9mV2VlayA8IHdlZWtkYXlzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB3ZWVrZGF5cyA9IHdlZWtkYXlzLnNwbGljZShmaXJzdERheU9mV2Vlaywgd2Vla2RheXMubGVuZ3RoKS5jb25jYXQod2Vla2RheXMuc3BsaWNlKDAsIGZpcnN0RGF5T2ZXZWVrKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNlbGYud2Vla2RheUNvbnRhaW5lci5pbm5lckhUTUwgPSBcIlxcbiAgICA8c3BhbiBjbGFzcz1mbGF0cGlja3Itd2Vla2RheT5cXG4gICAgICBcIiArIHdlZWtkYXlzLmpvaW4oXCI8L3NwYW4+PHNwYW4gY2xhc3M9ZmxhdHBpY2tyLXdlZWtkYXk+XCIpICsgXCJcXG4gICAgPC9zcGFuPlxcbiAgICBcIjtcclxuICAgICAgICByZXR1cm4gc2VsZi53ZWVrZGF5Q29udGFpbmVyO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gYnVpbGRXZWVrcygpIHtcclxuICAgICAgICBzZWxmLmNhbGVuZGFyQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJoYXNXZWVrc1wiKTtcclxuICAgICAgICB2YXIgd2Vla1dyYXBwZXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFwiZmxhdHBpY2tyLXdlZWt3cmFwcGVyXCIpO1xyXG4gICAgICAgIHdlZWtXcmFwcGVyLmFwcGVuZENoaWxkKGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFwiZmxhdHBpY2tyLXdlZWtkYXlcIiwgc2VsZi5sMTBuLndlZWtBYmJyZXZpYXRpb24pKTtcclxuICAgICAgICB2YXIgd2Vla051bWJlcnMgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFwiZmxhdHBpY2tyLXdlZWtzXCIpO1xyXG4gICAgICAgIHdlZWtXcmFwcGVyLmFwcGVuZENoaWxkKHdlZWtOdW1iZXJzKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB3ZWVrV3JhcHBlcjogd2Vla1dyYXBwZXIsXHJcbiAgICAgICAgICAgIHdlZWtOdW1iZXJzOiB3ZWVrTnVtYmVycyxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gY2hhbmdlTW9udGgodmFsdWUsIGlzX29mZnNldCwgYW5pbWF0ZSwgZnJvbV9rZXlib2FyZCkge1xyXG4gICAgICAgIGlmIChpc19vZmZzZXQgPT09IHZvaWQgMCkgeyBpc19vZmZzZXQgPSB0cnVlOyB9XHJcbiAgICAgICAgaWYgKGFuaW1hdGUgPT09IHZvaWQgMCkgeyBhbmltYXRlID0gc2VsZi5jb25maWcuYW5pbWF0ZTsgfVxyXG4gICAgICAgIGlmIChmcm9tX2tleWJvYXJkID09PSB2b2lkIDApIHsgZnJvbV9rZXlib2FyZCA9IGZhbHNlOyB9XHJcbiAgICAgICAgdmFyIGRlbHRhID0gaXNfb2Zmc2V0ID8gdmFsdWUgOiB2YWx1ZSAtIHNlbGYuY3VycmVudE1vbnRoO1xyXG4gICAgICAgIGlmICgoZGVsdGEgPCAwICYmIHNlbGYuX2hpZGVQcmV2TW9udGhBcnJvdykgfHxcclxuICAgICAgICAgICAgKGRlbHRhID4gMCAmJiBzZWxmLl9oaWRlTmV4dE1vbnRoQXJyb3cpKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgc2VsZi5jdXJyZW50TW9udGggKz0gZGVsdGE7XHJcbiAgICAgICAgaWYgKHNlbGYuY3VycmVudE1vbnRoIDwgMCB8fCBzZWxmLmN1cnJlbnRNb250aCA+IDExKSB7XHJcbiAgICAgICAgICAgIHNlbGYuY3VycmVudFllYXIgKz0gc2VsZi5jdXJyZW50TW9udGggPiAxMSA/IDEgOiAtMTtcclxuICAgICAgICAgICAgc2VsZi5jdXJyZW50TW9udGggPSAoc2VsZi5jdXJyZW50TW9udGggKyAxMikgJSAxMjtcclxuICAgICAgICAgICAgdHJpZ2dlckV2ZW50KFwib25ZZWFyQ2hhbmdlXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBidWlsZERheXMoYW5pbWF0ZSA/IGRlbHRhIDogdW5kZWZpbmVkKTtcclxuICAgICAgICBpZiAoIWFuaW1hdGUpIHtcclxuICAgICAgICAgICAgdHJpZ2dlckV2ZW50KFwib25Nb250aENoYW5nZVwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZU5hdmlnYXRpb25DdXJyZW50TW9udGgoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG5hdiA9IHNlbGYubmF2aWdhdGlvbkN1cnJlbnRNb250aDtcclxuICAgICAgICBpZiAoZGVsdGEgPCAwKSB7XHJcbiAgICAgICAgICAgIHdoaWxlIChuYXYubmV4dFNpYmxpbmcgJiZcclxuICAgICAgICAgICAgICAgIC9jdXJyLy50ZXN0KG5hdi5uZXh0U2libGluZy5jbGFzc05hbWUpKVxyXG4gICAgICAgICAgICAgICAgc2VsZi5tb250aE5hdi5yZW1vdmVDaGlsZChuYXYubmV4dFNpYmxpbmcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChkZWx0YSA+IDApIHtcclxuICAgICAgICAgICAgd2hpbGUgKG5hdi5wcmV2aW91c1NpYmxpbmcgJiZcclxuICAgICAgICAgICAgICAgIC9jdXJyLy50ZXN0KG5hdi5wcmV2aW91c1NpYmxpbmcuY2xhc3NOYW1lKSlcclxuICAgICAgICAgICAgICAgIHNlbGYubW9udGhOYXYucmVtb3ZlQ2hpbGQobmF2LnByZXZpb3VzU2libGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNlbGYub2xkQ3VyTW9udGggPSBzZWxmLm5hdmlnYXRpb25DdXJyZW50TW9udGg7XHJcbiAgICAgICAgc2VsZi5uYXZpZ2F0aW9uQ3VycmVudE1vbnRoID0gc2VsZi5tb250aE5hdi5pbnNlcnRCZWZvcmUoc2VsZi5vbGRDdXJNb250aC5jbG9uZU5vZGUodHJ1ZSksIGRlbHRhID4gMCA/IHNlbGYub2xkQ3VyTW9udGgubmV4dFNpYmxpbmcgOiBzZWxmLm9sZEN1ck1vbnRoKTtcclxuICAgICAgICB2YXIgZGF5c0NvbnRhaW5lciA9IHNlbGYuZGF5c0NvbnRhaW5lcjtcclxuICAgICAgICBpZiAoZGF5c0NvbnRhaW5lci5maXJzdENoaWxkICYmIGRheXNDb250YWluZXIubGFzdENoaWxkKSB7XHJcbiAgICAgICAgICAgIGlmIChkZWx0YSA+IDApIHtcclxuICAgICAgICAgICAgICAgIGRheXNDb250YWluZXIuZmlyc3RDaGlsZC5jbGFzc0xpc3QuYWRkKFwic2xpZGVMZWZ0XCIpO1xyXG4gICAgICAgICAgICAgICAgZGF5c0NvbnRhaW5lci5sYXN0Q2hpbGQuY2xhc3NMaXN0LmFkZChcInNsaWRlTGVmdE5ld1wiKTtcclxuICAgICAgICAgICAgICAgIHNlbGYub2xkQ3VyTW9udGguY2xhc3NMaXN0LmFkZChcInNsaWRlTGVmdFwiKTtcclxuICAgICAgICAgICAgICAgIHNlbGYubmF2aWdhdGlvbkN1cnJlbnRNb250aC5jbGFzc0xpc3QuYWRkKFwic2xpZGVMZWZ0TmV3XCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGRlbHRhIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgZGF5c0NvbnRhaW5lci5maXJzdENoaWxkLmNsYXNzTGlzdC5hZGQoXCJzbGlkZVJpZ2h0TmV3XCIpO1xyXG4gICAgICAgICAgICAgICAgZGF5c0NvbnRhaW5lci5sYXN0Q2hpbGQuY2xhc3NMaXN0LmFkZChcInNsaWRlUmlnaHRcIik7XHJcbiAgICAgICAgICAgICAgICBzZWxmLm9sZEN1ck1vbnRoLmNsYXNzTGlzdC5hZGQoXCJzbGlkZVJpZ2h0XCIpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5uYXZpZ2F0aW9uQ3VycmVudE1vbnRoLmNsYXNzTGlzdC5hZGQoXCJzbGlkZVJpZ2h0TmV3XCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNlbGYuY3VycmVudE1vbnRoRWxlbWVudCA9IHNlbGYubmF2aWdhdGlvbkN1cnJlbnRNb250aFxyXG4gICAgICAgICAgICAuZmlyc3RDaGlsZDtcclxuICAgICAgICBzZWxmLmN1cnJlbnRZZWFyRWxlbWVudCA9IHNlbGYubmF2aWdhdGlvbkN1cnJlbnRNb250aC5sYXN0Q2hpbGRcclxuICAgICAgICAgICAgLmNoaWxkTm9kZXNbMF07XHJcbiAgICAgICAgdXBkYXRlTmF2aWdhdGlvbkN1cnJlbnRNb250aCgpO1xyXG4gICAgICAgIGlmIChzZWxmLm9sZEN1ck1vbnRoLmZpcnN0Q2hpbGQpXHJcbiAgICAgICAgICAgIHNlbGYub2xkQ3VyTW9udGguZmlyc3RDaGlsZC50ZXh0Q29udGVudCA9IG1vbnRoVG9TdHIoc2VsZi5jdXJyZW50TW9udGggLSBkZWx0YSwgc2VsZi5jb25maWcuc2hvcnRoYW5kQ3VycmVudE1vbnRoLCBzZWxmLmwxMG4pO1xyXG4gICAgICAgIGFmdGVyRGF5QW5pbShmdW5jdGlvbiAoKSB7IHJldHVybiB0cmlnZ2VyRXZlbnQoXCJvbk1vbnRoQ2hhbmdlXCIpOyB9KTtcclxuICAgICAgICBpZiAoZnJvbV9rZXlib2FyZCAmJlxyXG4gICAgICAgICAgICBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmXHJcbiAgICAgICAgICAgIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuJGkpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4XzEgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50LiRpO1xyXG4gICAgICAgICAgICBhZnRlckRheUFuaW0oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZm9jdXNPbkRheShpbmRleF8xLCAwKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gY2xlYXIodHJpZ2dlckNoYW5nZUV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHRyaWdnZXJDaGFuZ2VFdmVudCA9PT0gdm9pZCAwKSB7IHRyaWdnZXJDaGFuZ2VFdmVudCA9IHRydWU7IH1cclxuICAgICAgICBzZWxmLmlucHV0LnZhbHVlID0gXCJcIjtcclxuICAgICAgICBpZiAoc2VsZi5hbHRJbnB1dClcclxuICAgICAgICAgICAgc2VsZi5hbHRJbnB1dC52YWx1ZSA9IFwiXCI7XHJcbiAgICAgICAgaWYgKHNlbGYubW9iaWxlSW5wdXQpXHJcbiAgICAgICAgICAgIHNlbGYubW9iaWxlSW5wdXQudmFsdWUgPSBcIlwiO1xyXG4gICAgICAgIHNlbGYuc2VsZWN0ZWREYXRlcyA9IFtdO1xyXG4gICAgICAgIHNlbGYubGF0ZXN0U2VsZWN0ZWREYXRlT2JqID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHNlbGYuc2hvd1RpbWVJbnB1dCA9IGZhbHNlO1xyXG4gICAgICAgIHNlbGYucmVkcmF3KCk7XHJcbiAgICAgICAgaWYgKHRyaWdnZXJDaGFuZ2VFdmVudClcclxuICAgICAgICAgICAgdHJpZ2dlckV2ZW50KFwib25DaGFuZ2VcIik7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBjbG9zZSgpIHtcclxuICAgICAgICBzZWxmLmlzT3BlbiA9IGZhbHNlO1xyXG4gICAgICAgIGlmICghc2VsZi5pc01vYmlsZSkge1xyXG4gICAgICAgICAgICBzZWxmLmNhbGVuZGFyQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJvcGVuXCIpO1xyXG4gICAgICAgICAgICBzZWxmLl9pbnB1dC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0cmlnZ2VyRXZlbnQoXCJvbkNsb3NlXCIpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZGVzdHJveSgpIHtcclxuICAgICAgICBpZiAoc2VsZi5jb25maWcgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgdHJpZ2dlckV2ZW50KFwib25EZXN0cm95XCIpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSBzZWxmLl9oYW5kbGVycy5sZW5ndGg7IGktLTspIHtcclxuICAgICAgICAgICAgdmFyIGggPSBzZWxmLl9oYW5kbGVyc1tpXTtcclxuICAgICAgICAgICAgaC5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoaC5ldmVudCwgaC5oYW5kbGVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2VsZi5faGFuZGxlcnMgPSBbXTtcclxuICAgICAgICBpZiAoc2VsZi5tb2JpbGVJbnB1dCkge1xyXG4gICAgICAgICAgICBpZiAoc2VsZi5tb2JpbGVJbnB1dC5wYXJlbnROb2RlKVxyXG4gICAgICAgICAgICAgICAgc2VsZi5tb2JpbGVJbnB1dC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNlbGYubW9iaWxlSW5wdXQpO1xyXG4gICAgICAgICAgICBzZWxmLm1vYmlsZUlucHV0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChzZWxmLmNhbGVuZGFyQ29udGFpbmVyICYmIHNlbGYuY2FsZW5kYXJDb250YWluZXIucGFyZW50Tm9kZSlcclxuICAgICAgICAgICAgc2VsZi5jYWxlbmRhckNvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNlbGYuY2FsZW5kYXJDb250YWluZXIpO1xyXG4gICAgICAgIGlmIChzZWxmLmFsdElucHV0KSB7XHJcbiAgICAgICAgICAgIHNlbGYuaW5wdXQudHlwZSA9IFwidGV4dFwiO1xyXG4gICAgICAgICAgICBpZiAoc2VsZi5hbHRJbnB1dC5wYXJlbnROb2RlKVxyXG4gICAgICAgICAgICAgICAgc2VsZi5hbHRJbnB1dC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNlbGYuYWx0SW5wdXQpO1xyXG4gICAgICAgICAgICBkZWxldGUgc2VsZi5hbHRJbnB1dDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNlbGYuaW5wdXQpIHtcclxuICAgICAgICAgICAgc2VsZi5pbnB1dC50eXBlID0gc2VsZi5pbnB1dC5fdHlwZTtcclxuICAgICAgICAgICAgc2VsZi5pbnB1dC5jbGFzc0xpc3QucmVtb3ZlKFwiZmxhdHBpY2tyLWlucHV0XCIpO1xyXG4gICAgICAgICAgICBzZWxmLmlucHV0LnJlbW92ZUF0dHJpYnV0ZShcInJlYWRvbmx5XCIpO1xyXG4gICAgICAgICAgICBzZWxmLmlucHV0LnZhbHVlID0gXCJcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgW1xyXG4gICAgICAgICAgICBcIl9zaG93VGltZUlucHV0XCIsXHJcbiAgICAgICAgICAgIFwibGF0ZXN0U2VsZWN0ZWREYXRlT2JqXCIsXHJcbiAgICAgICAgICAgIFwiX2hpZGVOZXh0TW9udGhBcnJvd1wiLFxyXG4gICAgICAgICAgICBcIl9oaWRlUHJldk1vbnRoQXJyb3dcIixcclxuICAgICAgICAgICAgXCJfX2hpZGVOZXh0TW9udGhBcnJvd1wiLFxyXG4gICAgICAgICAgICBcIl9faGlkZVByZXZNb250aEFycm93XCIsXHJcbiAgICAgICAgICAgIFwiaXNNb2JpbGVcIixcclxuICAgICAgICAgICAgXCJpc09wZW5cIixcclxuICAgICAgICAgICAgXCJzZWxlY3RlZERhdGVFbGVtXCIsXHJcbiAgICAgICAgICAgIFwibWluRGF0ZUhhc1RpbWVcIixcclxuICAgICAgICAgICAgXCJtYXhEYXRlSGFzVGltZVwiLFxyXG4gICAgICAgICAgICBcImRheXNcIixcclxuICAgICAgICAgICAgXCJkYXlzQ29udGFpbmVyXCIsXHJcbiAgICAgICAgICAgIFwiX2lucHV0XCIsXHJcbiAgICAgICAgICAgIFwiX3Bvc2l0aW9uRWxlbWVudFwiLFxyXG4gICAgICAgICAgICBcImlubmVyQ29udGFpbmVyXCIsXHJcbiAgICAgICAgICAgIFwickNvbnRhaW5lclwiLFxyXG4gICAgICAgICAgICBcIm1vbnRoTmF2XCIsXHJcbiAgICAgICAgICAgIFwidG9kYXlEYXRlRWxlbVwiLFxyXG4gICAgICAgICAgICBcImNhbGVuZGFyQ29udGFpbmVyXCIsXHJcbiAgICAgICAgICAgIFwid2Vla2RheUNvbnRhaW5lclwiLFxyXG4gICAgICAgICAgICBcInByZXZNb250aE5hdlwiLFxyXG4gICAgICAgICAgICBcIm5leHRNb250aE5hdlwiLFxyXG4gICAgICAgICAgICBcImN1cnJlbnRNb250aEVsZW1lbnRcIixcclxuICAgICAgICAgICAgXCJjdXJyZW50WWVhckVsZW1lbnRcIixcclxuICAgICAgICAgICAgXCJuYXZpZ2F0aW9uQ3VycmVudE1vbnRoXCIsXHJcbiAgICAgICAgICAgIFwic2VsZWN0ZWREYXRlRWxlbVwiLFxyXG4gICAgICAgICAgICBcImNvbmZpZ1wiLFxyXG4gICAgICAgIF0uZm9yRWFjaChmdW5jdGlvbiAoaykge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHNlbGZba107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKF8pIHsgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaXNDYWxlbmRhckVsZW0oZWxlbSkge1xyXG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy5hcHBlbmRUbyAmJiBzZWxmLmNvbmZpZy5hcHBlbmRUby5jb250YWlucyhlbGVtKSlcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgcmV0dXJuIHNlbGYuY2FsZW5kYXJDb250YWluZXIuY29udGFpbnMoZWxlbSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBkb2N1bWVudENsaWNrKGUpIHtcclxuICAgICAgICBpZiAoc2VsZi5pc09wZW4gJiYgIXNlbGYuY29uZmlnLmlubGluZSkge1xyXG4gICAgICAgICAgICB2YXIgaXNDYWxlbmRhckVsZW1lbnQgPSBpc0NhbGVuZGFyRWxlbShlLnRhcmdldCk7XHJcbiAgICAgICAgICAgIHZhciBpc0lucHV0ID0gZS50YXJnZXQgPT09IHNlbGYuaW5wdXQgfHxcclxuICAgICAgICAgICAgICAgIGUudGFyZ2V0ID09PSBzZWxmLmFsdElucHV0IHx8XHJcbiAgICAgICAgICAgICAgICBzZWxmLmVsZW1lbnQuY29udGFpbnMoZS50YXJnZXQpIHx8XHJcbiAgICAgICAgICAgICAgICAoZS5wYXRoICYmXHJcbiAgICAgICAgICAgICAgICAgICAgZS5wYXRoLmluZGV4T2YgJiZcclxuICAgICAgICAgICAgICAgICAgICAofmUucGF0aC5pbmRleE9mKHNlbGYuaW5wdXQpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH5lLnBhdGguaW5kZXhPZihzZWxmLmFsdElucHV0KSkpO1xyXG4gICAgICAgICAgICB2YXIgbG9zdEZvY3VzID0gZS50eXBlID09PSBcImJsdXJcIlxyXG4gICAgICAgICAgICAgICAgPyBpc0lucHV0ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgZS5yZWxhdGVkVGFyZ2V0ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgIWlzQ2FsZW5kYXJFbGVtKGUucmVsYXRlZFRhcmdldClcclxuICAgICAgICAgICAgICAgIDogIWlzSW5wdXQgJiYgIWlzQ2FsZW5kYXJFbGVtZW50O1xyXG4gICAgICAgICAgICBpZiAobG9zdEZvY3VzICYmXHJcbiAgICAgICAgICAgICAgICBzZWxmLmNvbmZpZy5pZ25vcmVkRm9jdXNFbGVtZW50cy5pbmRleE9mKGUudGFyZ2V0KSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIGlmIChzZWxmLmNvbmZpZy5tb2RlID09PSBcInJhbmdlXCIgJiYgc2VsZi5zZWxlY3RlZERhdGVzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY2xlYXIoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYucmVkcmF3KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBjaGFuZ2VZZWFyKG5ld1llYXIpIHtcclxuICAgICAgICBpZiAoIW5ld1llYXIgfHxcclxuICAgICAgICAgICAgKHNlbGYuY3VycmVudFllYXJFbGVtZW50Lm1pbiAmJlxyXG4gICAgICAgICAgICAgICAgbmV3WWVhciA8IHBhcnNlSW50KHNlbGYuY3VycmVudFllYXJFbGVtZW50Lm1pbikpIHx8XHJcbiAgICAgICAgICAgIChzZWxmLmN1cnJlbnRZZWFyRWxlbWVudC5tYXggJiZcclxuICAgICAgICAgICAgICAgIG5ld1llYXIgPiBwYXJzZUludChzZWxmLmN1cnJlbnRZZWFyRWxlbWVudC5tYXgpKSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHZhciBuZXdZZWFyTnVtID0gbmV3WWVhciwgaXNOZXdZZWFyID0gc2VsZi5jdXJyZW50WWVhciAhPT0gbmV3WWVhck51bTtcclxuICAgICAgICBzZWxmLmN1cnJlbnRZZWFyID0gbmV3WWVhck51bSB8fCBzZWxmLmN1cnJlbnRZZWFyO1xyXG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy5tYXhEYXRlICYmXHJcbiAgICAgICAgICAgIHNlbGYuY3VycmVudFllYXIgPT09IHNlbGYuY29uZmlnLm1heERhdGUuZ2V0RnVsbFllYXIoKSkge1xyXG4gICAgICAgICAgICBzZWxmLmN1cnJlbnRNb250aCA9IE1hdGgubWluKHNlbGYuY29uZmlnLm1heERhdGUuZ2V0TW9udGgoKSwgc2VsZi5jdXJyZW50TW9udGgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChzZWxmLmNvbmZpZy5taW5EYXRlICYmXHJcbiAgICAgICAgICAgIHNlbGYuY3VycmVudFllYXIgPT09IHNlbGYuY29uZmlnLm1pbkRhdGUuZ2V0RnVsbFllYXIoKSkge1xyXG4gICAgICAgICAgICBzZWxmLmN1cnJlbnRNb250aCA9IE1hdGgubWF4KHNlbGYuY29uZmlnLm1pbkRhdGUuZ2V0TW9udGgoKSwgc2VsZi5jdXJyZW50TW9udGgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNOZXdZZWFyKSB7XHJcbiAgICAgICAgICAgIHNlbGYucmVkcmF3KCk7XHJcbiAgICAgICAgICAgIHRyaWdnZXJFdmVudChcIm9uWWVhckNoYW5nZVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBpc0VuYWJsZWQoZGF0ZSwgdGltZWxlc3MpIHtcclxuICAgICAgICBpZiAodGltZWxlc3MgPT09IHZvaWQgMCkgeyB0aW1lbGVzcyA9IHRydWU7IH1cclxuICAgICAgICB2YXIgZGF0ZVRvQ2hlY2sgPSBzZWxmLnBhcnNlRGF0ZShkYXRlLCB1bmRlZmluZWQsIHRpbWVsZXNzKTtcclxuICAgICAgICBpZiAoKHNlbGYuY29uZmlnLm1pbkRhdGUgJiZcclxuICAgICAgICAgICAgZGF0ZVRvQ2hlY2sgJiZcclxuICAgICAgICAgICAgY29tcGFyZURhdGVzKGRhdGVUb0NoZWNrLCBzZWxmLmNvbmZpZy5taW5EYXRlLCB0aW1lbGVzcyAhPT0gdW5kZWZpbmVkID8gdGltZWxlc3MgOiAhc2VsZi5taW5EYXRlSGFzVGltZSkgPCAwKSB8fFxyXG4gICAgICAgICAgICAoc2VsZi5jb25maWcubWF4RGF0ZSAmJlxyXG4gICAgICAgICAgICAgICAgZGF0ZVRvQ2hlY2sgJiZcclxuICAgICAgICAgICAgICAgIGNvbXBhcmVEYXRlcyhkYXRlVG9DaGVjaywgc2VsZi5jb25maWcubWF4RGF0ZSwgdGltZWxlc3MgIT09IHVuZGVmaW5lZCA/IHRpbWVsZXNzIDogIXNlbGYubWF4RGF0ZUhhc1RpbWUpID4gMCkpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICBpZiAoIXNlbGYuY29uZmlnLmVuYWJsZS5sZW5ndGggJiYgIXNlbGYuY29uZmlnLmRpc2FibGUubGVuZ3RoKVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICBpZiAoZGF0ZVRvQ2hlY2sgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHZhciBib29sID0gc2VsZi5jb25maWcuZW5hYmxlLmxlbmd0aCA+IDAsIGFycmF5ID0gYm9vbCA/IHNlbGYuY29uZmlnLmVuYWJsZSA6IHNlbGYuY29uZmlnLmRpc2FibGU7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGQgPSB2b2lkIDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBkID0gYXJyYXlbaV07XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZCA9PT0gXCJmdW5jdGlvblwiICYmXHJcbiAgICAgICAgICAgICAgICBkKGRhdGVUb0NoZWNrKSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBib29sO1xyXG4gICAgICAgICAgICBlbHNlIGlmIChkIGluc3RhbmNlb2YgRGF0ZSAmJlxyXG4gICAgICAgICAgICAgICAgZGF0ZVRvQ2hlY2sgIT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICAgICAgICAgICAgZC5nZXRUaW1lKCkgPT09IGRhdGVUb0NoZWNrLmdldFRpbWUoKSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBib29sO1xyXG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgZCA9PT0gXCJzdHJpbmdcIiAmJiBkYXRlVG9DaGVjayAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFyc2VkID0gc2VsZi5wYXJzZURhdGUoZCwgdW5kZWZpbmVkLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZWQgJiYgcGFyc2VkLmdldFRpbWUoKSA9PT0gZGF0ZVRvQ2hlY2suZ2V0VGltZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgPyBib29sXHJcbiAgICAgICAgICAgICAgICAgICAgOiAhYm9vbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgZCA9PT0gXCJvYmplY3RcIiAmJlxyXG4gICAgICAgICAgICAgICAgZGF0ZVRvQ2hlY2sgIT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICAgICAgICAgICAgZC5mcm9tICYmXHJcbiAgICAgICAgICAgICAgICBkLnRvICYmXHJcbiAgICAgICAgICAgICAgICBkYXRlVG9DaGVjay5nZXRUaW1lKCkgPj0gZC5mcm9tLmdldFRpbWUoKSAmJlxyXG4gICAgICAgICAgICAgICAgZGF0ZVRvQ2hlY2suZ2V0VGltZSgpIDw9IGQudG8uZ2V0VGltZSgpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJvb2w7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAhYm9vbDtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIG9uS2V5RG93bihlKSB7XHJcbiAgICAgICAgdmFyIGlzSW5wdXQgPSBlLnRhcmdldCA9PT0gc2VsZi5faW5wdXQ7XHJcbiAgICAgICAgdmFyIGNhbGVuZGFyRWxlbSA9IGlzQ2FsZW5kYXJFbGVtKGUudGFyZ2V0KTtcclxuICAgICAgICB2YXIgYWxsb3dJbnB1dCA9IHNlbGYuY29uZmlnLmFsbG93SW5wdXQ7XHJcbiAgICAgICAgdmFyIGFsbG93S2V5ZG93biA9IHNlbGYuaXNPcGVuICYmICghYWxsb3dJbnB1dCB8fCAhaXNJbnB1dCk7XHJcbiAgICAgICAgdmFyIGFsbG93SW5saW5lS2V5ZG93biA9IHNlbGYuY29uZmlnLmlubGluZSAmJiBpc0lucHV0ICYmICFhbGxvd0lucHV0O1xyXG4gICAgICAgIGlmIChlLmtleSA9PT0gXCJFbnRlclwiICYmIGlzSW5wdXQpIHtcclxuICAgICAgICAgICAgaWYgKGFsbG93SW5wdXQpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuc2V0RGF0ZShzZWxmLl9pbnB1dC52YWx1ZSwgdHJ1ZSwgZS50YXJnZXQgPT09IHNlbGYuYWx0SW5wdXRcclxuICAgICAgICAgICAgICAgICAgICA/IHNlbGYuY29uZmlnLmFsdEZvcm1hdFxyXG4gICAgICAgICAgICAgICAgICAgIDogc2VsZi5jb25maWcuZGF0ZUZvcm1hdCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZS50YXJnZXQuYmx1cigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHNlbGYub3BlbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjYWxlbmRhckVsZW0gfHwgYWxsb3dLZXlkb3duIHx8IGFsbG93SW5saW5lS2V5ZG93bikge1xyXG4gICAgICAgICAgICB2YXIgaXNUaW1lT2JqID0gISFzZWxmLnRpbWVDb250YWluZXIgJiZcclxuICAgICAgICAgICAgICAgIHNlbGYudGltZUNvbnRhaW5lci5jb250YWlucyhlLnRhcmdldCk7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoZS5rZXkpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJFbnRlclwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1RpbWVPYmopXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVZhbHVlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3REYXRlKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkVzY2FwZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiQmFja3NwYWNlXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiRGVsZXRlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzSW5wdXQgJiYgIXNlbGYuY29uZmlnLmFsbG93SW5wdXQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2xlYXIoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJBcnJvd0xlZnRcIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJBcnJvd1JpZ2h0XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1RpbWVPYmopIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5kYXlzQ29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVsdGFfMSA9IGUua2V5ID09PSBcIkFycm93UmlnaHRcIiA/IDEgOiAtMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZS5jdHJsS2V5KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzT25EYXkoZS50YXJnZXQuJGksIGRlbHRhXzEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZU1vbnRoKGRlbHRhXzEsIHRydWUsIHVuZGVmaW5lZCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2VsZi5ob3VyRWxlbWVudClcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5ob3VyRWxlbWVudC5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkFycm93VXBcIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJBcnJvd0Rvd25cIjpcclxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRlbHRhID0gZS5rZXkgPT09IFwiQXJyb3dEb3duXCIgPyAxIDogLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuZGF5c0NvbnRhaW5lciAmJiBlLnRhcmdldC4kaSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmN0cmxLZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZVllYXIoc2VsZi5jdXJyZW50WWVhciAtIGRlbHRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzT25EYXkoZS50YXJnZXQuJGksIDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFpc1RpbWVPYmopXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb2N1c09uRGF5KGUudGFyZ2V0LiRpLCBkZWx0YSAqIDcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzZWxmLmNvbmZpZy5lbmFibGVUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNUaW1lT2JqICYmIHNlbGYuaG91ckVsZW1lbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmhvdXJFbGVtZW50LmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVRpbWUoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2RlYm91bmNlZENoYW5nZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJUYWJcIjpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQgPT09IHNlbGYuaG91ckVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm1pbnV0ZUVsZW1lbnQuc2VsZWN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGUudGFyZ2V0ID09PSBzZWxmLm1pbnV0ZUVsZW1lbnQgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgKHNlbGYuc2Vjb25kRWxlbWVudCB8fCBzZWxmLmFtUE0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuc2Vjb25kRWxlbWVudCAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zZWNvbmRFbGVtZW50LmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNlbGYuYW1QTSAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5hbVBNLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGUudGFyZ2V0ID09PSBzZWxmLnNlY29uZEVsZW1lbnQgJiYgc2VsZi5hbVBNKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5hbVBNLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBzZWxmLmwxMG4uYW1QTVswXS5jaGFyQXQoMCk6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuYW1QTSAhPT0gdW5kZWZpbmVkICYmIGUudGFyZ2V0ID09PSBzZWxmLmFtUE0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5hbVBNLnRleHRDb250ZW50ID0gc2VsZi5sMTBuLmFtUE1bMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEhvdXJzRnJvbUlucHV0cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVWYWx1ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2Ugc2VsZi5sMTBuLmFtUE1bMV0uY2hhckF0KDApOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLmFtUE0gIT09IHVuZGVmaW5lZCAmJiBlLnRhcmdldCA9PT0gc2VsZi5hbVBNKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYW1QTS50ZXh0Q29udGVudCA9IHNlbGYubDEwbi5hbVBNWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRIb3Vyc0Zyb21JbnB1dHMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlVmFsdWUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRyaWdnZXJFdmVudChcIm9uS2V5RG93blwiLCBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBvbk1vdXNlT3ZlcihlbGVtKSB7XHJcbiAgICAgICAgaWYgKHNlbGYuc2VsZWN0ZWREYXRlcy5sZW5ndGggIT09IDEgfHxcclxuICAgICAgICAgICAgIWVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKFwiZmxhdHBpY2tyLWRheVwiKSB8fFxyXG4gICAgICAgICAgICBzZWxmLm1pblJhbmdlRGF0ZSA9PT0gdW5kZWZpbmVkIHx8XHJcbiAgICAgICAgICAgIHNlbGYubWF4UmFuZ2VEYXRlID09PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB2YXIgaG92ZXJEYXRlID0gZWxlbS5kYXRlT2JqLCBpbml0aWFsRGF0ZSA9IHNlbGYucGFyc2VEYXRlKHNlbGYuc2VsZWN0ZWREYXRlc1swXSwgdW5kZWZpbmVkLCB0cnVlKSwgcmFuZ2VTdGFydERhdGUgPSBNYXRoLm1pbihob3ZlckRhdGUuZ2V0VGltZSgpLCBzZWxmLnNlbGVjdGVkRGF0ZXNbMF0uZ2V0VGltZSgpKSwgcmFuZ2VFbmREYXRlID0gTWF0aC5tYXgoaG92ZXJEYXRlLmdldFRpbWUoKSwgc2VsZi5zZWxlY3RlZERhdGVzWzBdLmdldFRpbWUoKSksIGNvbnRhaW5zRGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICBmb3IgKHZhciB0ID0gcmFuZ2VTdGFydERhdGU7IHQgPCByYW5nZUVuZERhdGU7IHQgKz0gZHVyYXRpb24uREFZKSB7XHJcbiAgICAgICAgICAgIGlmICghaXNFbmFibGVkKG5ldyBEYXRlKHQpKSkge1xyXG4gICAgICAgICAgICAgICAgY29udGFpbnNEaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChpLCBkYXRlKSB7XHJcbiAgICAgICAgICAgIHZhciB0aW1lc3RhbXAgPSBkYXRlLmdldFRpbWUoKTtcclxuICAgICAgICAgICAgdmFyIG91dE9mUmFuZ2UgPSB0aW1lc3RhbXAgPCBzZWxmLm1pblJhbmdlRGF0ZS5nZXRUaW1lKCkgfHxcclxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcCA+IHNlbGYubWF4UmFuZ2VEYXRlLmdldFRpbWUoKSwgZGF5RWxlbSA9IHNlbGYuZGF5cy5jaGlsZE5vZGVzW2ldO1xyXG4gICAgICAgICAgICBpZiAob3V0T2ZSYW5nZSkge1xyXG4gICAgICAgICAgICAgICAgZGF5RWxlbS5jbGFzc0xpc3QuYWRkKFwibm90QWxsb3dlZFwiKTtcclxuICAgICAgICAgICAgICAgIFtcImluUmFuZ2VcIiwgXCJzdGFydFJhbmdlXCIsIFwiZW5kUmFuZ2VcIl0uZm9yRWFjaChmdW5jdGlvbiAoYykge1xyXG4gICAgICAgICAgICAgICAgICAgIGRheUVsZW0uY2xhc3NMaXN0LnJlbW92ZShjKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiY29udGludWVcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjb250YWluc0Rpc2FibGVkICYmICFvdXRPZlJhbmdlKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiY29udGludWVcIjtcclxuICAgICAgICAgICAgW1wic3RhcnRSYW5nZVwiLCBcImluUmFuZ2VcIiwgXCJlbmRSYW5nZVwiLCBcIm5vdEFsbG93ZWRcIl0uZm9yRWFjaChmdW5jdGlvbiAoYykge1xyXG4gICAgICAgICAgICAgICAgZGF5RWxlbS5jbGFzc0xpc3QucmVtb3ZlKGMpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdmFyIG1pblJhbmdlRGF0ZSA9IE1hdGgubWF4KHNlbGYubWluUmFuZ2VEYXRlLmdldFRpbWUoKSwgcmFuZ2VTdGFydERhdGUpLCBtYXhSYW5nZURhdGUgPSBNYXRoLm1pbihzZWxmLm1heFJhbmdlRGF0ZS5nZXRUaW1lKCksIHJhbmdlRW5kRGF0ZSk7XHJcbiAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZChob3ZlckRhdGUgPCBzZWxmLnNlbGVjdGVkRGF0ZXNbMF0gPyBcInN0YXJ0UmFuZ2VcIiA6IFwiZW5kUmFuZ2VcIik7XHJcbiAgICAgICAgICAgIGlmIChpbml0aWFsRGF0ZSA8IGhvdmVyRGF0ZSAmJiB0aW1lc3RhbXAgPT09IGluaXRpYWxEYXRlLmdldFRpbWUoKSlcclxuICAgICAgICAgICAgICAgIGRheUVsZW0uY2xhc3NMaXN0LmFkZChcInN0YXJ0UmFuZ2VcIik7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGluaXRpYWxEYXRlID4gaG92ZXJEYXRlICYmIHRpbWVzdGFtcCA9PT0gaW5pdGlhbERhdGUuZ2V0VGltZSgpKVxyXG4gICAgICAgICAgICAgICAgZGF5RWxlbS5jbGFzc0xpc3QuYWRkKFwiZW5kUmFuZ2VcIik7XHJcbiAgICAgICAgICAgIGlmICh0aW1lc3RhbXAgPj0gbWluUmFuZ2VEYXRlICYmIHRpbWVzdGFtcCA8PSBtYXhSYW5nZURhdGUpXHJcbiAgICAgICAgICAgICAgICBkYXlFbGVtLmNsYXNzTGlzdC5hZGQoXCJpblJhbmdlXCIpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGRhdGUgPSBzZWxmLmRheXMuY2hpbGROb2Rlc1tpXS5kYXRlT2JqOyBpIDwgNDI7IGkrKywgZGF0ZSA9XHJcbiAgICAgICAgICAgICAgICBzZWxmLmRheXMuY2hpbGROb2Rlc1tpXSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZGF5cy5jaGlsZE5vZGVzW2ldLmRhdGVPYmopIHtcclxuICAgICAgICAgICAgX2xvb3BfMShpLCBkYXRlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBvblJlc2l6ZSgpIHtcclxuICAgICAgICBpZiAoc2VsZi5pc09wZW4gJiYgIXNlbGYuY29uZmlnLnN0YXRpYyAmJiAhc2VsZi5jb25maWcuaW5saW5lKVxyXG4gICAgICAgICAgICBwb3NpdGlvbkNhbGVuZGFyKCk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBvcGVuKGUsIHBvc2l0aW9uRWxlbWVudCkge1xyXG4gICAgICAgIGlmIChwb3NpdGlvbkVsZW1lbnQgPT09IHZvaWQgMCkgeyBwb3NpdGlvbkVsZW1lbnQgPSBzZWxmLl9pbnB1dDsgfVxyXG4gICAgICAgIGlmIChzZWxmLmlzTW9iaWxlKSB7XHJcbiAgICAgICAgICAgIGlmIChlKSB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBlLnRhcmdldCAmJiBlLnRhcmdldC5ibHVyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLm1vYmlsZUlucHV0ICE9PSB1bmRlZmluZWQgJiYgc2VsZi5tb2JpbGVJbnB1dC5jbGljaygpO1xyXG4gICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICAgICAgdHJpZ2dlckV2ZW50KFwib25PcGVuXCIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzZWxmLl9pbnB1dC5kaXNhYmxlZCB8fCBzZWxmLmNvbmZpZy5pbmxpbmUpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB2YXIgd2FzT3BlbiA9IHNlbGYuaXNPcGVuO1xyXG4gICAgICAgIHNlbGYuaXNPcGVuID0gdHJ1ZTtcclxuICAgICAgICBwb3NpdGlvbkNhbGVuZGFyKHBvc2l0aW9uRWxlbWVudCk7XHJcbiAgICAgICAgc2VsZi5jYWxlbmRhckNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwib3BlblwiKTtcclxuICAgICAgICBzZWxmLl9pbnB1dC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICF3YXNPcGVuICYmIHRyaWdnZXJFdmVudChcIm9uT3BlblwiKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIG1pbk1heERhdGVTZXR0ZXIodHlwZSkge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZGF0ZSkge1xyXG4gICAgICAgICAgICB2YXIgZGF0ZU9iaiA9IChzZWxmLmNvbmZpZ1tcIl9cIiArIHR5cGUgKyBcIkRhdGVcIl0gPSBzZWxmLnBhcnNlRGF0ZShkYXRlKSk7XHJcbiAgICAgICAgICAgIHZhciBpbnZlcnNlRGF0ZU9iaiA9IHNlbGYuY29uZmlnW1wiX1wiICsgKHR5cGUgPT09IFwibWluXCIgPyBcIm1heFwiIDogXCJtaW5cIikgKyBcIkRhdGVcIl07XHJcbiAgICAgICAgICAgIGlmIChkYXRlT2JqICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHNlbGZbdHlwZSA9PT0gXCJtaW5cIiA/IFwibWluRGF0ZUhhc1RpbWVcIiA6IFwibWF4RGF0ZUhhc1RpbWVcIl0gPVxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGVPYmouZ2V0SG91cnMoKSA+IDAgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZU9iai5nZXRNaW51dGVzKCkgPiAwIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVPYmouZ2V0U2Vjb25kcygpID4gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc2VsZi5zZWxlY3RlZERhdGVzKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnNlbGVjdGVkRGF0ZXMgPSBzZWxmLnNlbGVjdGVkRGF0ZXMuZmlsdGVyKGZ1bmN0aW9uIChkKSB7IHJldHVybiBpc0VuYWJsZWQoZCk7IH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFzZWxmLnNlbGVjdGVkRGF0ZXMubGVuZ3RoICYmIHR5cGUgPT09IFwibWluXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgc2V0SG91cnNGcm9tRGF0ZShkYXRlT2JqKTtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZVZhbHVlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHNlbGYuZGF5c0NvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAgICAgcmVkcmF3KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0ZU9iaiAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY3VycmVudFllYXJFbGVtZW50W3R5cGVdID0gZGF0ZU9iai5nZXRGdWxsWWVhcigpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jdXJyZW50WWVhckVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKHR5cGUpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5jdXJyZW50WWVhckVsZW1lbnQuZGlzYWJsZWQgPVxyXG4gICAgICAgICAgICAgICAgICAgICEhaW52ZXJzZURhdGVPYmogJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZU9iaiAhPT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGludmVyc2VEYXRlT2JqLmdldEZ1bGxZZWFyKCkgPT09IGRhdGVPYmouZ2V0RnVsbFllYXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBwYXJzZUNvbmZpZygpIHtcclxuICAgICAgICB2YXIgYm9vbE9wdHMgPSBbXHJcbiAgICAgICAgICAgIFwid3JhcFwiLFxyXG4gICAgICAgICAgICBcIndlZWtOdW1iZXJzXCIsXHJcbiAgICAgICAgICAgIFwiYWxsb3dJbnB1dFwiLFxyXG4gICAgICAgICAgICBcImNsaWNrT3BlbnNcIixcclxuICAgICAgICAgICAgXCJ0aW1lXzI0aHJcIixcclxuICAgICAgICAgICAgXCJlbmFibGVUaW1lXCIsXHJcbiAgICAgICAgICAgIFwibm9DYWxlbmRhclwiLFxyXG4gICAgICAgICAgICBcImFsdElucHV0XCIsXHJcbiAgICAgICAgICAgIFwic2hvcnRoYW5kQ3VycmVudE1vbnRoXCIsXHJcbiAgICAgICAgICAgIFwiaW5saW5lXCIsXHJcbiAgICAgICAgICAgIFwic3RhdGljXCIsXHJcbiAgICAgICAgICAgIFwiZW5hYmxlU2Vjb25kc1wiLFxyXG4gICAgICAgICAgICBcImRpc2FibGVNb2JpbGVcIixcclxuICAgICAgICBdO1xyXG4gICAgICAgIHZhciBob29rcyA9IFtcclxuICAgICAgICAgICAgXCJvbkNoYW5nZVwiLFxyXG4gICAgICAgICAgICBcIm9uQ2xvc2VcIixcclxuICAgICAgICAgICAgXCJvbkRheUNyZWF0ZVwiLFxyXG4gICAgICAgICAgICBcIm9uRGVzdHJveVwiLFxyXG4gICAgICAgICAgICBcIm9uS2V5RG93blwiLFxyXG4gICAgICAgICAgICBcIm9uTW9udGhDaGFuZ2VcIixcclxuICAgICAgICAgICAgXCJvbk9wZW5cIixcclxuICAgICAgICAgICAgXCJvblBhcnNlQ29uZmlnXCIsXHJcbiAgICAgICAgICAgIFwib25SZWFkeVwiLFxyXG4gICAgICAgICAgICBcIm9uVmFsdWVVcGRhdGVcIixcclxuICAgICAgICAgICAgXCJvblllYXJDaGFuZ2VcIixcclxuICAgICAgICBdO1xyXG4gICAgICAgIHNlbGYuY29uZmlnID0gX19hc3NpZ24oe30sIGZsYXRwaWNrci5kZWZhdWx0Q29uZmlnKTtcclxuICAgICAgICB2YXIgdXNlckNvbmZpZyA9IF9fYXNzaWduKHt9LCBpbnN0YW5jZUNvbmZpZywgSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlbGVtZW50LmRhdGFzZXQgfHwge30pKSk7XHJcbiAgICAgICAgdmFyIGZvcm1hdHMkJDEgPSB7fTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc2VsZi5jb25maWcsIFwiZW5hYmxlXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzZWxmLmNvbmZpZy5fZW5hYmxlIHx8IFtdOyB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkYXRlcykge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5jb25maWcuX2VuYWJsZSA9IHBhcnNlRGF0ZVJ1bGVzKGRhdGVzKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc2VsZi5jb25maWcsIFwiZGlzYWJsZVwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2VsZi5jb25maWcuX2Rpc2FibGUgfHwgW107IH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGRhdGVzKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmNvbmZpZy5fZGlzYWJsZSA9IHBhcnNlRGF0ZVJ1bGVzKGRhdGVzKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoIXVzZXJDb25maWcuZGF0ZUZvcm1hdCAmJiB1c2VyQ29uZmlnLmVuYWJsZVRpbWUpIHtcclxuICAgICAgICAgICAgZm9ybWF0cyQkMS5kYXRlRm9ybWF0ID0gdXNlckNvbmZpZy5ub0NhbGVuZGFyXHJcbiAgICAgICAgICAgICAgICA/IFwiSDppXCIgKyAodXNlckNvbmZpZy5lbmFibGVTZWNvbmRzID8gXCI6U1wiIDogXCJcIilcclxuICAgICAgICAgICAgICAgIDogZmxhdHBpY2tyLmRlZmF1bHRDb25maWcuZGF0ZUZvcm1hdCArXHJcbiAgICAgICAgICAgICAgICAgICAgXCIgSDppXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICh1c2VyQ29uZmlnLmVuYWJsZVNlY29uZHMgPyBcIjpTXCIgOiBcIlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHVzZXJDb25maWcuYWx0SW5wdXQgJiYgdXNlckNvbmZpZy5lbmFibGVUaW1lICYmICF1c2VyQ29uZmlnLmFsdEZvcm1hdCkge1xyXG4gICAgICAgICAgICBmb3JtYXRzJCQxLmFsdEZvcm1hdCA9IHVzZXJDb25maWcubm9DYWxlbmRhclxyXG4gICAgICAgICAgICAgICAgPyBcImg6aVwiICsgKHVzZXJDb25maWcuZW5hYmxlU2Vjb25kcyA/IFwiOlMgS1wiIDogXCIgS1wiKVxyXG4gICAgICAgICAgICAgICAgOiBmbGF0cGlja3IuZGVmYXVsdENvbmZpZy5hbHRGb3JtYXQgK1xyXG4gICAgICAgICAgICAgICAgICAgIChcIiBoOmlcIiArICh1c2VyQ29uZmlnLmVuYWJsZVNlY29uZHMgPyBcIjpTXCIgOiBcIlwiKSArIFwiIEtcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzZWxmLmNvbmZpZywgXCJtaW5EYXRlXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzZWxmLmNvbmZpZy5fbWluRGF0ZTsgfSxcclxuICAgICAgICAgICAgc2V0OiBtaW5NYXhEYXRlU2V0dGVyKFwibWluXCIpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzZWxmLmNvbmZpZywgXCJtYXhEYXRlXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzZWxmLmNvbmZpZy5fbWF4RGF0ZTsgfSxcclxuICAgICAgICAgICAgc2V0OiBtaW5NYXhEYXRlU2V0dGVyKFwibWF4XCIpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5hc3NpZ24oc2VsZi5jb25maWcsIGZvcm1hdHMkJDEsIHVzZXJDb25maWcpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9vbE9wdHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgIHNlbGYuY29uZmlnW2Jvb2xPcHRzW2ldXSA9XHJcbiAgICAgICAgICAgICAgICBzZWxmLmNvbmZpZ1tib29sT3B0c1tpXV0gPT09IHRydWUgfHxcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbmZpZ1tib29sT3B0c1tpXV0gPT09IFwidHJ1ZVwiO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSBob29rcy5sZW5ndGg7IGktLTspIHtcclxuICAgICAgICAgICAgaWYgKHNlbGYuY29uZmlnW2hvb2tzW2ldXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmNvbmZpZ1tob29rc1tpXV0gPSBhcnJheWlmeShzZWxmLmNvbmZpZ1tob29rc1tpXV0gfHwgW10pLm1hcChiaW5kVG9JbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxmLmNvbmZpZy5wbHVnaW5zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBwbHVnaW5Db25mID0gc2VsZi5jb25maWcucGx1Z2luc1tpXShzZWxmKSB8fCB7fTtcclxuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHBsdWdpbkNvbmYpIHtcclxuICAgICAgICAgICAgICAgIGlmICh+aG9va3MuaW5kZXhPZihrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jb25maWdba2V5XSA9IGFycmF5aWZ5KHBsdWdpbkNvbmZba2V5XSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChiaW5kVG9JbnN0YW5jZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmNvbmNhdChzZWxmLmNvbmZpZ1trZXldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB1c2VyQ29uZmlnW2tleV0gPT09IFwidW5kZWZpbmVkXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jb25maWdba2V5XSA9IHBsdWdpbkNvbmZba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBzZWxmLmlzTW9iaWxlID1cclxuICAgICAgICAgICAgIXNlbGYuY29uZmlnLmRpc2FibGVNb2JpbGUgJiZcclxuICAgICAgICAgICAgICAgICFzZWxmLmNvbmZpZy5pbmxpbmUgJiZcclxuICAgICAgICAgICAgICAgIHNlbGYuY29uZmlnLm1vZGUgPT09IFwic2luZ2xlXCIgJiZcclxuICAgICAgICAgICAgICAgICFzZWxmLmNvbmZpZy5kaXNhYmxlLmxlbmd0aCAmJlxyXG4gICAgICAgICAgICAgICAgIXNlbGYuY29uZmlnLmVuYWJsZS5sZW5ndGggJiZcclxuICAgICAgICAgICAgICAgICFzZWxmLmNvbmZpZy53ZWVrTnVtYmVycyAmJlxyXG4gICAgICAgICAgICAgICAgL0FuZHJvaWR8d2ViT1N8aVBob25lfGlQYWR8aVBvZHxCbGFja0JlcnJ5fElFTW9iaWxlfE9wZXJhIE1pbmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xyXG4gICAgICAgIHRyaWdnZXJFdmVudChcIm9uUGFyc2VDb25maWdcIik7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBzZXR1cExvY2FsZSgpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHNlbGYuY29uZmlnLmxvY2FsZSAhPT0gXCJvYmplY3RcIiAmJlxyXG4gICAgICAgICAgICB0eXBlb2YgZmxhdHBpY2tyLmwxMG5zW3NlbGYuY29uZmlnLmxvY2FsZV0gPT09IFwidW5kZWZpbmVkXCIpXHJcbiAgICAgICAgICAgIHNlbGYuY29uZmlnLmVycm9ySGFuZGxlcihuZXcgRXJyb3IoXCJmbGF0cGlja3I6IGludmFsaWQgbG9jYWxlIFwiICsgc2VsZi5jb25maWcubG9jYWxlKSk7XHJcbiAgICAgICAgc2VsZi5sMTBuID0gX19hc3NpZ24oe30sIGZsYXRwaWNrci5sMTBucy5kZWZhdWx0LCB0eXBlb2Ygc2VsZi5jb25maWcubG9jYWxlID09PSBcIm9iamVjdFwiXHJcbiAgICAgICAgICAgID8gc2VsZi5jb25maWcubG9jYWxlXHJcbiAgICAgICAgICAgIDogc2VsZi5jb25maWcubG9jYWxlICE9PSBcImRlZmF1bHRcIlxyXG4gICAgICAgICAgICAgICAgPyBmbGF0cGlja3IubDEwbnNbc2VsZi5jb25maWcubG9jYWxlXVxyXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpO1xyXG4gICAgICAgIHRva2VuUmVnZXguSyA9IFwiKFwiICsgc2VsZi5sMTBuLmFtUE1bMF0gKyBcInxcIiArIHNlbGYubDEwbi5hbVBNWzFdICsgXCJ8XCIgKyBzZWxmLmwxMG4uYW1QTVswXS50b0xvd2VyQ2FzZSgpICsgXCJ8XCIgKyBzZWxmLmwxMG4uYW1QTVsxXS50b0xvd2VyQ2FzZSgpICsgXCIpXCI7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBwb3NpdGlvbkNhbGVuZGFyKHBvc2l0aW9uRWxlbWVudCkge1xyXG4gICAgICAgIGlmIChwb3NpdGlvbkVsZW1lbnQgPT09IHZvaWQgMCkgeyBwb3NpdGlvbkVsZW1lbnQgPSBzZWxmLl9wb3NpdGlvbkVsZW1lbnQ7IH1cclxuICAgICAgICBpZiAoc2VsZi5jYWxlbmRhckNvbnRhaW5lciA9PT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdmFyIGNhbGVuZGFySGVpZ2h0ID0gc2VsZi5jYWxlbmRhckNvbnRhaW5lci5vZmZzZXRIZWlnaHQsIGNhbGVuZGFyV2lkdGggPSBzZWxmLmNhbGVuZGFyQ29udGFpbmVyLm9mZnNldFdpZHRoLCBjb25maWdQb3MgPSBzZWxmLmNvbmZpZy5wb3NpdGlvbiwgaW5wdXRCb3VuZHMgPSBwb3NpdGlvbkVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIGRpc3RhbmNlRnJvbUJvdHRvbSA9IHdpbmRvdy5pbm5lckhlaWdodCAtIGlucHV0Qm91bmRzLmJvdHRvbSwgc2hvd09uVG9wID0gY29uZmlnUG9zID09PSBcImFib3ZlXCIgfHxcclxuICAgICAgICAgICAgKGNvbmZpZ1BvcyAhPT0gXCJiZWxvd1wiICYmXHJcbiAgICAgICAgICAgICAgICBkaXN0YW5jZUZyb21Cb3R0b20gPCBjYWxlbmRhckhlaWdodCAmJlxyXG4gICAgICAgICAgICAgICAgaW5wdXRCb3VuZHMudG9wID4gY2FsZW5kYXJIZWlnaHQpO1xyXG4gICAgICAgIHZhciB0b3AgPSB3aW5kb3cucGFnZVlPZmZzZXQgK1xyXG4gICAgICAgICAgICBpbnB1dEJvdW5kcy50b3AgK1xyXG4gICAgICAgICAgICAoIXNob3dPblRvcCA/IHBvc2l0aW9uRWxlbWVudC5vZmZzZXRIZWlnaHQgKyAyIDogLWNhbGVuZGFySGVpZ2h0IC0gMik7XHJcbiAgICAgICAgdG9nZ2xlQ2xhc3Moc2VsZi5jYWxlbmRhckNvbnRhaW5lciwgXCJhcnJvd1RvcFwiLCAhc2hvd09uVG9wKTtcclxuICAgICAgICB0b2dnbGVDbGFzcyhzZWxmLmNhbGVuZGFyQ29udGFpbmVyLCBcImFycm93Qm90dG9tXCIsIHNob3dPblRvcCk7XHJcbiAgICAgICAgaWYgKHNlbGYuY29uZmlnLmlubGluZSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHZhciBsZWZ0ID0gd2luZG93LnBhZ2VYT2Zmc2V0ICsgaW5wdXRCb3VuZHMubGVmdDtcclxuICAgICAgICB2YXIgcmlnaHQgPSB3aW5kb3cuZG9jdW1lbnQuYm9keS5vZmZzZXRXaWR0aCAtIGlucHV0Qm91bmRzLnJpZ2h0O1xyXG4gICAgICAgIHZhciByaWdodE1vc3QgPSBsZWZ0ICsgY2FsZW5kYXJXaWR0aCA+IHdpbmRvdy5kb2N1bWVudC5ib2R5Lm9mZnNldFdpZHRoO1xyXG4gICAgICAgIHRvZ2dsZUNsYXNzKHNlbGYuY2FsZW5kYXJDb250YWluZXIsIFwicmlnaHRNb3N0XCIsIHJpZ2h0TW9zdCk7XHJcbiAgICAgICAgaWYgKHNlbGYuY29uZmlnLnN0YXRpYylcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHNlbGYuY2FsZW5kYXJDb250YWluZXIuc3R5bGUudG9wID0gdG9wICsgXCJweFwiO1xyXG4gICAgICAgIGlmICghcmlnaHRNb3N0KSB7XHJcbiAgICAgICAgICAgIHNlbGYuY2FsZW5kYXJDb250YWluZXIuc3R5bGUubGVmdCA9IGxlZnQgKyBcInB4XCI7XHJcbiAgICAgICAgICAgIHNlbGYuY2FsZW5kYXJDb250YWluZXIuc3R5bGUucmlnaHQgPSBcImF1dG9cIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHNlbGYuY2FsZW5kYXJDb250YWluZXIuc3R5bGUubGVmdCA9IFwiYXV0b1wiO1xyXG4gICAgICAgICAgICBzZWxmLmNhbGVuZGFyQ29udGFpbmVyLnN0eWxlLnJpZ2h0ID0gcmlnaHQgKyBcInB4XCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcmVkcmF3KCkge1xyXG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy5ub0NhbGVuZGFyIHx8IHNlbGYuaXNNb2JpbGUpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBidWlsZFdlZWtkYXlzKCk7XHJcbiAgICAgICAgdXBkYXRlTmF2aWdhdGlvbkN1cnJlbnRNb250aCgpO1xyXG4gICAgICAgIGJ1aWxkRGF5cygpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gc2VsZWN0RGF0ZShlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgdmFyIGlzU2VsZWN0YWJsZSA9IGZ1bmN0aW9uIChkYXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGRheS5jbGFzc0xpc3QgJiZcclxuICAgICAgICAgICAgICAgIGRheS5jbGFzc0xpc3QuY29udGFpbnMoXCJmbGF0cGlja3ItZGF5XCIpICYmXHJcbiAgICAgICAgICAgICAgICAhZGF5LmNsYXNzTGlzdC5jb250YWlucyhcImRpc2FibGVkXCIpICYmXHJcbiAgICAgICAgICAgICAgICAhZGF5LmNsYXNzTGlzdC5jb250YWlucyhcIm5vdEFsbG93ZWRcIik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgdCA9IGZpbmRQYXJlbnQoZS50YXJnZXQsIGlzU2VsZWN0YWJsZSk7XHJcbiAgICAgICAgaWYgKHQgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHZhciB0YXJnZXQgPSB0O1xyXG4gICAgICAgIHZhciBzZWxlY3RlZERhdGUgPSAoc2VsZi5sYXRlc3RTZWxlY3RlZERhdGVPYmogPSBuZXcgRGF0ZSh0YXJnZXQuZGF0ZU9iai5nZXRUaW1lKCkpKTtcclxuICAgICAgICB2YXIgc2hvdWxkQ2hhbmdlTW9udGggPSBzZWxlY3RlZERhdGUuZ2V0TW9udGgoKSAhPT0gc2VsZi5jdXJyZW50TW9udGggJiZcclxuICAgICAgICAgICAgc2VsZi5jb25maWcubW9kZSAhPT0gXCJyYW5nZVwiO1xyXG4gICAgICAgIHNlbGYuc2VsZWN0ZWREYXRlRWxlbSA9IHRhcmdldDtcclxuICAgICAgICBpZiAoc2VsZi5jb25maWcubW9kZSA9PT0gXCJzaW5nbGVcIilcclxuICAgICAgICAgICAgc2VsZi5zZWxlY3RlZERhdGVzID0gW3NlbGVjdGVkRGF0ZV07XHJcbiAgICAgICAgZWxzZSBpZiAoc2VsZi5jb25maWcubW9kZSA9PT0gXCJtdWx0aXBsZVwiKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZEluZGV4ID0gaXNEYXRlU2VsZWN0ZWQoc2VsZWN0ZWREYXRlKTtcclxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkSW5kZXgpXHJcbiAgICAgICAgICAgICAgICBzZWxmLnNlbGVjdGVkRGF0ZXMuc3BsaWNlKHBhcnNlSW50KHNlbGVjdGVkSW5kZXgpLCAxKTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgc2VsZi5zZWxlY3RlZERhdGVzLnB1c2goc2VsZWN0ZWREYXRlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoc2VsZi5jb25maWcubW9kZSA9PT0gXCJyYW5nZVwiKSB7XHJcbiAgICAgICAgICAgIGlmIChzZWxmLnNlbGVjdGVkRGF0ZXMubGVuZ3RoID09PSAyKVxyXG4gICAgICAgICAgICAgICAgc2VsZi5jbGVhcigpO1xyXG4gICAgICAgICAgICBzZWxmLnNlbGVjdGVkRGF0ZXMucHVzaChzZWxlY3RlZERhdGUpO1xyXG4gICAgICAgICAgICBpZiAoY29tcGFyZURhdGVzKHNlbGVjdGVkRGF0ZSwgc2VsZi5zZWxlY3RlZERhdGVzWzBdLCB0cnVlKSAhPT0gMClcclxuICAgICAgICAgICAgICAgIHNlbGYuc2VsZWN0ZWREYXRlcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhLmdldFRpbWUoKSAtIGIuZ2V0VGltZSgpOyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2V0SG91cnNGcm9tSW5wdXRzKCk7XHJcbiAgICAgICAgaWYgKHNob3VsZENoYW5nZU1vbnRoKSB7XHJcbiAgICAgICAgICAgIHZhciBpc05ld1llYXIgPSBzZWxmLmN1cnJlbnRZZWFyICE9PSBzZWxlY3RlZERhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgICAgICAgc2VsZi5jdXJyZW50WWVhciA9IHNlbGVjdGVkRGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICAgICAgICBzZWxmLmN1cnJlbnRNb250aCA9IHNlbGVjdGVkRGF0ZS5nZXRNb250aCgpO1xyXG4gICAgICAgICAgICBpZiAoaXNOZXdZZWFyKVxyXG4gICAgICAgICAgICAgICAgdHJpZ2dlckV2ZW50KFwib25ZZWFyQ2hhbmdlXCIpO1xyXG4gICAgICAgICAgICB0cmlnZ2VyRXZlbnQoXCJvbk1vbnRoQ2hhbmdlXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBidWlsZERheXMoKTtcclxuICAgICAgICBpZiAoc2VsZi5jb25maWcubWluRGF0ZSAmJlxyXG4gICAgICAgICAgICBzZWxmLm1pbkRhdGVIYXNUaW1lICYmXHJcbiAgICAgICAgICAgIHNlbGYuY29uZmlnLmVuYWJsZVRpbWUgJiZcclxuICAgICAgICAgICAgY29tcGFyZURhdGVzKHNlbGVjdGVkRGF0ZSwgc2VsZi5jb25maWcubWluRGF0ZSkgPT09IDApXHJcbiAgICAgICAgICAgIHNldEhvdXJzRnJvbURhdGUoc2VsZi5jb25maWcubWluRGF0ZSk7XHJcbiAgICAgICAgdXBkYXRlVmFsdWUoKTtcclxuICAgICAgICBpZiAoc2VsZi5jb25maWcuZW5hYmxlVGltZSlcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiAoc2VsZi5zaG93VGltZUlucHV0ID0gdHJ1ZSk7IH0sIDUwKTtcclxuICAgICAgICBpZiAoc2VsZi5jb25maWcubW9kZSA9PT0gXCJyYW5nZVwiKSB7XHJcbiAgICAgICAgICAgIGlmIChzZWxmLnNlbGVjdGVkRGF0ZXMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBvbk1vdXNlT3Zlcih0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5faGlkZVByZXZNb250aEFycm93ID1cclxuICAgICAgICAgICAgICAgICAgICBzZWxmLl9oaWRlUHJldk1vbnRoQXJyb3cgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKHNlbGYubWluUmFuZ2VEYXRlICE9PSB1bmRlZmluZWQgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubWluUmFuZ2VEYXRlID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmRheXMuY2hpbGROb2Rlc1swXS5kYXRlT2JqKTtcclxuICAgICAgICAgICAgICAgIHNlbGYuX2hpZGVOZXh0TW9udGhBcnJvdyA9XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5faGlkZU5leHRNb250aEFycm93IHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChzZWxmLm1heFJhbmdlRGF0ZSAhPT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm1heFJhbmdlRGF0ZSA8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IERhdGUoc2VsZi5jdXJyZW50WWVhciwgc2VsZi5jdXJyZW50TW9udGggKyAxLCAxKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgdXBkYXRlTmF2aWdhdGlvbkN1cnJlbnRNb250aCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0cmlnZ2VyRXZlbnQoXCJvbkNoYW5nZVwiKTtcclxuICAgICAgICBpZiAoIXNob3VsZENoYW5nZU1vbnRoKVxyXG4gICAgICAgICAgICBmb2N1c09uRGF5KHRhcmdldC4kaSwgMCk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICBhZnRlckRheUFuaW0oZnVuY3Rpb24gKCkgeyByZXR1cm4gc2VsZi5zZWxlY3RlZERhdGVFbGVtICYmIHNlbGYuc2VsZWN0ZWREYXRlRWxlbS5mb2N1cygpOyB9KTtcclxuICAgICAgICBpZiAoc2VsZi5ob3VyRWxlbWVudCAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNlbGYuaG91ckVsZW1lbnQgIT09IHVuZGVmaW5lZCAmJiBzZWxmLmhvdXJFbGVtZW50LnNlbGVjdCgpOyB9LCA0NTEpO1xyXG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy5jbG9zZU9uU2VsZWN0KSB7XHJcbiAgICAgICAgICAgIHZhciBzaW5nbGUgPSBzZWxmLmNvbmZpZy5tb2RlID09PSBcInNpbmdsZVwiICYmICFzZWxmLmNvbmZpZy5lbmFibGVUaW1lO1xyXG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBzZWxmLmNvbmZpZy5tb2RlID09PSBcInJhbmdlXCIgJiZcclxuICAgICAgICAgICAgICAgIHNlbGYuc2VsZWN0ZWREYXRlcy5sZW5ndGggPT09IDIgJiZcclxuICAgICAgICAgICAgICAgICFzZWxmLmNvbmZpZy5lbmFibGVUaW1lO1xyXG4gICAgICAgICAgICBpZiAoc2luZ2xlIHx8IHJhbmdlKVxyXG4gICAgICAgICAgICAgICAgc2VsZi5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHNldChvcHRpb24sIHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKG9wdGlvbiAhPT0gbnVsbCAmJiB0eXBlb2Ygb3B0aW9uID09PSBcIm9iamVjdFwiKVxyXG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHNlbGYuY29uZmlnLCBvcHRpb24pO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgc2VsZi5jb25maWdbb3B0aW9uXSA9IHZhbHVlO1xyXG4gICAgICAgIHNlbGYucmVkcmF3KCk7XHJcbiAgICAgICAganVtcFRvRGF0ZSgpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gc2V0U2VsZWN0ZWREYXRlKGlucHV0RGF0ZSwgZm9ybWF0KSB7XHJcbiAgICAgICAgdmFyIGRhdGVzID0gW107XHJcbiAgICAgICAgaWYgKGlucHV0RGF0ZSBpbnN0YW5jZW9mIEFycmF5KVxyXG4gICAgICAgICAgICBkYXRlcyA9IGlucHV0RGF0ZS5tYXAoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIHNlbGYucGFyc2VEYXRlKGQsIGZvcm1hdCk7IH0pO1xyXG4gICAgICAgIGVsc2UgaWYgKGlucHV0RGF0ZSBpbnN0YW5jZW9mIERhdGUgfHwgdHlwZW9mIGlucHV0RGF0ZSA9PT0gXCJudW1iZXJcIilcclxuICAgICAgICAgICAgZGF0ZXMgPSBbc2VsZi5wYXJzZURhdGUoaW5wdXREYXRlLCBmb3JtYXQpXTtcclxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgaW5wdXREYXRlID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoc2VsZi5jb25maWcubW9kZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInNpbmdsZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGVzID0gW3NlbGYucGFyc2VEYXRlKGlucHV0RGF0ZSwgZm9ybWF0KV07XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwibXVsdGlwbGVcIjpcclxuICAgICAgICAgICAgICAgICAgICBkYXRlcyA9IGlucHV0RGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoc2VsZi5jb25maWcuY29uanVuY3Rpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGRhdGUpIHsgcmV0dXJuIHNlbGYucGFyc2VEYXRlKGRhdGUsIGZvcm1hdCk7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInJhbmdlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0ZXMgPSBpbnB1dERhdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNwbGl0KHNlbGYubDEwbi5yYW5nZVNlcGFyYXRvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoZGF0ZSkgeyByZXR1cm4gc2VsZi5wYXJzZURhdGUoZGF0ZSwgZm9ybWF0KTsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgc2VsZi5jb25maWcuZXJyb3JIYW5kbGVyKG5ldyBFcnJvcihcIkludmFsaWQgZGF0ZSBzdXBwbGllZDogXCIgKyBKU09OLnN0cmluZ2lmeShpbnB1dERhdGUpKSk7XHJcbiAgICAgICAgc2VsZi5zZWxlY3RlZERhdGVzID0gZGF0ZXMuZmlsdGVyKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkIGluc3RhbmNlb2YgRGF0ZSAmJiBpc0VuYWJsZWQoZCwgZmFsc2UpOyB9KTtcclxuICAgICAgICBzZWxmLnNlbGVjdGVkRGF0ZXMuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYS5nZXRUaW1lKCkgLSBiLmdldFRpbWUoKTsgfSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBzZXREYXRlKGRhdGUsIHRyaWdnZXJDaGFuZ2UsIGZvcm1hdCkge1xyXG4gICAgICAgIGlmICh0cmlnZ2VyQ2hhbmdlID09PSB2b2lkIDApIHsgdHJpZ2dlckNoYW5nZSA9IGZhbHNlOyB9XHJcbiAgICAgICAgaWYgKGRhdGUgIT09IDAgJiYgIWRhdGUpXHJcbiAgICAgICAgICAgIHJldHVybiBzZWxmLmNsZWFyKHRyaWdnZXJDaGFuZ2UpO1xyXG4gICAgICAgIHNldFNlbGVjdGVkRGF0ZShkYXRlLCBmb3JtYXQpO1xyXG4gICAgICAgIHNlbGYuc2hvd1RpbWVJbnB1dCA9IHNlbGYuc2VsZWN0ZWREYXRlcy5sZW5ndGggPiAwO1xyXG4gICAgICAgIHNlbGYubGF0ZXN0U2VsZWN0ZWREYXRlT2JqID0gc2VsZi5zZWxlY3RlZERhdGVzWzBdO1xyXG4gICAgICAgIHNlbGYucmVkcmF3KCk7XHJcbiAgICAgICAganVtcFRvRGF0ZSgpO1xyXG4gICAgICAgIHNldEhvdXJzRnJvbURhdGUoKTtcclxuICAgICAgICB1cGRhdGVWYWx1ZSh0cmlnZ2VyQ2hhbmdlKTtcclxuICAgICAgICBpZiAodHJpZ2dlckNoYW5nZSlcclxuICAgICAgICAgICAgdHJpZ2dlckV2ZW50KFwib25DaGFuZ2VcIik7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBwYXJzZURhdGVSdWxlcyhhcnIpIHtcclxuICAgICAgICByZXR1cm4gYXJyXHJcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHJ1bGUpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBydWxlID09PSBcInN0cmluZ1wiIHx8XHJcbiAgICAgICAgICAgICAgICB0eXBlb2YgcnVsZSA9PT0gXCJudW1iZXJcIiB8fFxyXG4gICAgICAgICAgICAgICAgcnVsZSBpbnN0YW5jZW9mIERhdGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLnBhcnNlRGF0ZShydWxlLCB1bmRlZmluZWQsIHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHJ1bGUgJiZcclxuICAgICAgICAgICAgICAgIHR5cGVvZiBydWxlID09PSBcIm9iamVjdFwiICYmXHJcbiAgICAgICAgICAgICAgICBydWxlLmZyb20gJiZcclxuICAgICAgICAgICAgICAgIHJ1bGUudG8pXHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGZyb206IHNlbGYucGFyc2VEYXRlKHJ1bGUuZnJvbSwgdW5kZWZpbmVkKSxcclxuICAgICAgICAgICAgICAgICAgICB0bzogc2VsZi5wYXJzZURhdGUocnVsZS50bywgdW5kZWZpbmVkKSxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHJldHVybiBydWxlO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHg7IH0pO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gc2V0dXBEYXRlcygpIHtcclxuICAgICAgICBzZWxmLnNlbGVjdGVkRGF0ZXMgPSBbXTtcclxuICAgICAgICBzZWxmLm5vdyA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgdmFyIHByZWxvYWRlZERhdGUgPSBzZWxmLmNvbmZpZy5kZWZhdWx0RGF0ZSB8fCBzZWxmLmlucHV0LnZhbHVlO1xyXG4gICAgICAgIGlmIChwcmVsb2FkZWREYXRlKVxyXG4gICAgICAgICAgICBzZXRTZWxlY3RlZERhdGUocHJlbG9hZGVkRGF0ZSwgc2VsZi5jb25maWcuZGF0ZUZvcm1hdCk7XHJcbiAgICAgICAgdmFyIGluaXRpYWxEYXRlID0gc2VsZi5zZWxlY3RlZERhdGVzLmxlbmd0aFxyXG4gICAgICAgICAgICA/IHNlbGYuc2VsZWN0ZWREYXRlc1swXVxyXG4gICAgICAgICAgICA6IHNlbGYuY29uZmlnLm1pbkRhdGUgJiZcclxuICAgICAgICAgICAgICAgIHNlbGYuY29uZmlnLm1pbkRhdGUuZ2V0VGltZSgpID4gc2VsZi5ub3cuZ2V0VGltZSgpXHJcbiAgICAgICAgICAgICAgICA/IHNlbGYuY29uZmlnLm1pbkRhdGVcclxuICAgICAgICAgICAgICAgIDogc2VsZi5jb25maWcubWF4RGF0ZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY29uZmlnLm1heERhdGUuZ2V0VGltZSgpIDwgc2VsZi5ub3cuZ2V0VGltZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgPyBzZWxmLmNvbmZpZy5tYXhEYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgOiBzZWxmLm5vdztcclxuICAgICAgICBzZWxmLmN1cnJlbnRZZWFyID0gaW5pdGlhbERhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgICBzZWxmLmN1cnJlbnRNb250aCA9IGluaXRpYWxEYXRlLmdldE1vbnRoKCk7XHJcbiAgICAgICAgaWYgKHNlbGYuc2VsZWN0ZWREYXRlcy5sZW5ndGgpXHJcbiAgICAgICAgICAgIHNlbGYubGF0ZXN0U2VsZWN0ZWREYXRlT2JqID0gc2VsZi5zZWxlY3RlZERhdGVzWzBdO1xyXG4gICAgICAgIHNlbGYubWluRGF0ZUhhc1RpbWUgPVxyXG4gICAgICAgICAgICAhIXNlbGYuY29uZmlnLm1pbkRhdGUgJiZcclxuICAgICAgICAgICAgICAgIChzZWxmLmNvbmZpZy5taW5EYXRlLmdldEhvdXJzKCkgPiAwIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jb25maWcubWluRGF0ZS5nZXRNaW51dGVzKCkgPiAwIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jb25maWcubWluRGF0ZS5nZXRTZWNvbmRzKCkgPiAwKTtcclxuICAgICAgICBzZWxmLm1heERhdGVIYXNUaW1lID1cclxuICAgICAgICAgICAgISFzZWxmLmNvbmZpZy5tYXhEYXRlICYmXHJcbiAgICAgICAgICAgICAgICAoc2VsZi5jb25maWcubWF4RGF0ZS5nZXRIb3VycygpID4gMCB8fFxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY29uZmlnLm1heERhdGUuZ2V0TWludXRlcygpID4gMCB8fFxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY29uZmlnLm1heERhdGUuZ2V0U2Vjb25kcygpID4gMCk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlbGYsIFwic2hvd1RpbWVJbnB1dFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2VsZi5fc2hvd1RpbWVJbnB1dDsgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoYm9vbCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5fc2hvd1RpbWVJbnB1dCA9IGJvb2w7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5jYWxlbmRhckNvbnRhaW5lcilcclxuICAgICAgICAgICAgICAgICAgICB0b2dnbGVDbGFzcyhzZWxmLmNhbGVuZGFyQ29udGFpbmVyLCBcInNob3dUaW1lSW5wdXRcIiwgYm9vbCk7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbkNhbGVuZGFyKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBmb3JtYXREYXRlKGRhdGVPYmosIGZybXQpIHtcclxuICAgICAgICBpZiAoc2VsZi5jb25maWcgIT09IHVuZGVmaW5lZCAmJiBzZWxmLmNvbmZpZy5mb3JtYXREYXRlICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIHJldHVybiBzZWxmLmNvbmZpZy5mb3JtYXREYXRlKGRhdGVPYmosIGZybXQpO1xyXG4gICAgICAgIHJldHVybiBmcm10XHJcbiAgICAgICAgICAgIC5zcGxpdChcIlwiKVxyXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChjLCBpLCBhcnIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdHNbY10gJiYgYXJyW2kgLSAxXSAhPT0gXCJcXFxcXCJcclxuICAgICAgICAgICAgICAgID8gZm9ybWF0c1tjXShkYXRlT2JqLCBzZWxmLmwxMG4sIHNlbGYuY29uZmlnKVxyXG4gICAgICAgICAgICAgICAgOiBjICE9PSBcIlxcXFxcIiA/IGMgOiBcIlwiO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5qb2luKFwiXCIpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcGFyc2VEYXRlKGRhdGUsIGdpdmVuRm9ybWF0LCB0aW1lbGVzcykge1xyXG4gICAgICAgIGlmIChkYXRlICE9PSAwICYmICFkYXRlKVxyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIHZhciBwYXJzZWREYXRlO1xyXG4gICAgICAgIHZhciBkYXRlX29yaWcgPSBkYXRlO1xyXG4gICAgICAgIGlmIChkYXRlIGluc3RhbmNlb2YgRGF0ZSlcclxuICAgICAgICAgICAgcGFyc2VkRGF0ZSA9IG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpKTtcclxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgZGF0ZSAhPT0gXCJzdHJpbmdcIiAmJlxyXG4gICAgICAgICAgICBkYXRlLnRvRml4ZWQgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgcGFyc2VkRGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xyXG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBkYXRlID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIHZhciBmb3JtYXQgPSBnaXZlbkZvcm1hdCB8fCAoc2VsZi5jb25maWcgfHwgZmxhdHBpY2tyLmRlZmF1bHRDb25maWcpLmRhdGVGb3JtYXQ7XHJcbiAgICAgICAgICAgIHZhciBkYXRlc3RyID0gU3RyaW5nKGRhdGUpLnRyaW0oKTtcclxuICAgICAgICAgICAgaWYgKGRhdGVzdHIgPT09IFwidG9kYXlcIikge1xyXG4gICAgICAgICAgICAgICAgcGFyc2VkRGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB0aW1lbGVzcyA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoL1okLy50ZXN0KGRhdGVzdHIpIHx8XHJcbiAgICAgICAgICAgICAgICAvR01UJC8udGVzdChkYXRlc3RyKSlcclxuICAgICAgICAgICAgICAgIHBhcnNlZERhdGUgPSBuZXcgRGF0ZShkYXRlKTtcclxuICAgICAgICAgICAgZWxzZSBpZiAoc2VsZi5jb25maWcgJiYgc2VsZi5jb25maWcucGFyc2VEYXRlKVxyXG4gICAgICAgICAgICAgICAgcGFyc2VkRGF0ZSA9IHNlbGYuY29uZmlnLnBhcnNlRGF0ZShkYXRlLCBmb3JtYXQpO1xyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBhcnNlZERhdGUgPVxyXG4gICAgICAgICAgICAgICAgICAgICFzZWxmLmNvbmZpZyB8fCAhc2VsZi5jb25maWcubm9DYWxlbmRhclxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IG5ldyBEYXRlKG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSwgMCwgMSwgMCwgMCwgMCwgMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBuZXcgRGF0ZShuZXcgRGF0ZSgpLnNldEhvdXJzKDAsIDAsIDAsIDApKTtcclxuICAgICAgICAgICAgICAgIHZhciBtYXRjaGVkID0gdm9pZCAwLCBvcHMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBtYXRjaEluZGV4ID0gMCwgcmVnZXhTdHIgPSBcIlwiOyBpIDwgZm9ybWF0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRva2VuID0gZm9ybWF0W2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpc0JhY2tTbGFzaCA9IHRva2VuID09PSBcIlxcXFxcIjtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZXNjYXBlZCA9IGZvcm1hdFtpIC0gMV0gPT09IFwiXFxcXFwiIHx8IGlzQmFja1NsYXNoO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlblJlZ2V4W3Rva2VuXSAmJiAhZXNjYXBlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWdleFN0ciArPSB0b2tlblJlZ2V4W3Rva2VuXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoID0gbmV3IFJlZ0V4cChyZWdleFN0cikuZXhlYyhkYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoICYmIChtYXRjaGVkID0gdHJ1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wc1t0b2tlbiAhPT0gXCJZXCIgPyBcInB1c2hcIiA6IFwidW5zaGlmdFwiXSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm46IHJldkZvcm1hdFt0b2tlbl0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsOiBtYXRjaFsrK21hdGNoSW5kZXhdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIWlzQmFja1NsYXNoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWdleFN0ciArPSBcIi5cIjtcclxuICAgICAgICAgICAgICAgICAgICBvcHMuZm9yRWFjaChmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZuID0gX2EuZm4sIHZhbCA9IF9hLnZhbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChwYXJzZWREYXRlID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZuKHBhcnNlZERhdGUsIHZhbCwgc2VsZi5sMTBuKSB8fCBwYXJzZWREYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHBhcnNlZERhdGUgPSBtYXRjaGVkID8gcGFyc2VkRGF0ZSA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIShwYXJzZWREYXRlIGluc3RhbmNlb2YgRGF0ZSkpIHtcclxuICAgICAgICAgICAgc2VsZi5jb25maWcuZXJyb3JIYW5kbGVyKG5ldyBFcnJvcihcIkludmFsaWQgZGF0ZSBwcm92aWRlZDogXCIgKyBkYXRlX29yaWcpKTtcclxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRpbWVsZXNzID09PSB0cnVlKVxyXG4gICAgICAgICAgICBwYXJzZWREYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xyXG4gICAgICAgIHJldHVybiBwYXJzZWREYXRlO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gc2V0dXBJbnB1dHMoKSB7XHJcbiAgICAgICAgc2VsZi5pbnB1dCA9IHNlbGYuY29uZmlnLndyYXBcclxuICAgICAgICAgICAgPyBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1pbnB1dF1cIilcclxuICAgICAgICAgICAgOiBlbGVtZW50O1xyXG4gICAgICAgIGlmICghc2VsZi5pbnB1dCkge1xyXG4gICAgICAgICAgICBzZWxmLmNvbmZpZy5lcnJvckhhbmRsZXIobmV3IEVycm9yKFwiSW52YWxpZCBpbnB1dCBlbGVtZW50IHNwZWNpZmllZFwiKSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2VsZi5pbnB1dC5fdHlwZSA9IHNlbGYuaW5wdXQudHlwZTtcclxuICAgICAgICBzZWxmLmlucHV0LnR5cGUgPSBcInRleHRcIjtcclxuICAgICAgICBzZWxmLmlucHV0LmNsYXNzTGlzdC5hZGQoXCJmbGF0cGlja3ItaW5wdXRcIik7XHJcbiAgICAgICAgc2VsZi5faW5wdXQgPSBzZWxmLmlucHV0O1xyXG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy5hbHRJbnB1dCkge1xyXG4gICAgICAgICAgICBzZWxmLmFsdElucHV0ID0gY3JlYXRlRWxlbWVudChzZWxmLmlucHV0Lm5vZGVOYW1lLCBzZWxmLmlucHV0LmNsYXNzTmFtZSArIFwiIFwiICsgc2VsZi5jb25maWcuYWx0SW5wdXRDbGFzcyk7XHJcbiAgICAgICAgICAgIHNlbGYuX2lucHV0ID0gc2VsZi5hbHRJbnB1dDtcclxuICAgICAgICAgICAgc2VsZi5hbHRJbnB1dC5wbGFjZWhvbGRlciA9IHNlbGYuaW5wdXQucGxhY2Vob2xkZXI7XHJcbiAgICAgICAgICAgIHNlbGYuYWx0SW5wdXQuZGlzYWJsZWQgPSBzZWxmLmlucHV0LmRpc2FibGVkO1xyXG4gICAgICAgICAgICBzZWxmLmFsdElucHV0LnJlcXVpcmVkID0gc2VsZi5pbnB1dC5yZXF1aXJlZDtcclxuICAgICAgICAgICAgc2VsZi5hbHRJbnB1dC50eXBlID0gXCJ0ZXh0XCI7XHJcbiAgICAgICAgICAgIHNlbGYuaW5wdXQudHlwZSA9IFwiaGlkZGVuXCI7XHJcbiAgICAgICAgICAgIGlmICghc2VsZi5jb25maWcuc3RhdGljICYmIHNlbGYuaW5wdXQucGFyZW50Tm9kZSlcclxuICAgICAgICAgICAgICAgIHNlbGYuaW5wdXQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoc2VsZi5hbHRJbnB1dCwgc2VsZi5pbnB1dC5uZXh0U2libGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghc2VsZi5jb25maWcuYWxsb3dJbnB1dClcclxuICAgICAgICAgICAgc2VsZi5faW5wdXQuc2V0QXR0cmlidXRlKFwicmVhZG9ubHlcIiwgXCJyZWFkb25seVwiKTtcclxuICAgICAgICBzZWxmLl9wb3NpdGlvbkVsZW1lbnQgPSBzZWxmLmNvbmZpZy5wb3NpdGlvbkVsZW1lbnQgfHwgc2VsZi5faW5wdXQ7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBzZXR1cE1vYmlsZSgpIHtcclxuICAgICAgICB2YXIgaW5wdXRUeXBlID0gc2VsZi5jb25maWcuZW5hYmxlVGltZVxyXG4gICAgICAgICAgICA/IHNlbGYuY29uZmlnLm5vQ2FsZW5kYXIgPyBcInRpbWVcIiA6IFwiZGF0ZXRpbWUtbG9jYWxcIlxyXG4gICAgICAgICAgICA6IFwiZGF0ZVwiO1xyXG4gICAgICAgIHNlbGYubW9iaWxlSW5wdXQgPSBjcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwgc2VsZi5pbnB1dC5jbGFzc05hbWUgKyBcIiBmbGF0cGlja3ItbW9iaWxlXCIpO1xyXG4gICAgICAgIHNlbGYubW9iaWxlSW5wdXQuc3RlcCA9IHNlbGYuaW5wdXQuZ2V0QXR0cmlidXRlKFwic3RlcFwiKSB8fCBcImFueVwiO1xyXG4gICAgICAgIHNlbGYubW9iaWxlSW5wdXQudGFiSW5kZXggPSAxO1xyXG4gICAgICAgIHNlbGYubW9iaWxlSW5wdXQudHlwZSA9IGlucHV0VHlwZTtcclxuICAgICAgICBzZWxmLm1vYmlsZUlucHV0LmRpc2FibGVkID0gc2VsZi5pbnB1dC5kaXNhYmxlZDtcclxuICAgICAgICBzZWxmLm1vYmlsZUlucHV0LnBsYWNlaG9sZGVyID0gc2VsZi5pbnB1dC5wbGFjZWhvbGRlcjtcclxuICAgICAgICBzZWxmLm1vYmlsZUZvcm1hdFN0ciA9XHJcbiAgICAgICAgICAgIGlucHV0VHlwZSA9PT0gXCJkYXRldGltZS1sb2NhbFwiXHJcbiAgICAgICAgICAgICAgICA/IFwiWS1tLWRcXFxcVEg6aTpTXCJcclxuICAgICAgICAgICAgICAgIDogaW5wdXRUeXBlID09PSBcImRhdGVcIiA/IFwiWS1tLWRcIiA6IFwiSDppOlNcIjtcclxuICAgICAgICBpZiAoc2VsZi5zZWxlY3RlZERhdGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBzZWxmLm1vYmlsZUlucHV0LmRlZmF1bHRWYWx1ZSA9IHNlbGYubW9iaWxlSW5wdXQudmFsdWUgPSBzZWxmLmZvcm1hdERhdGUoc2VsZi5zZWxlY3RlZERhdGVzWzBdLCBzZWxmLm1vYmlsZUZvcm1hdFN0cik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy5taW5EYXRlKVxyXG4gICAgICAgICAgICBzZWxmLm1vYmlsZUlucHV0Lm1pbiA9IHNlbGYuZm9ybWF0RGF0ZShzZWxmLmNvbmZpZy5taW5EYXRlLCBcIlktbS1kXCIpO1xyXG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy5tYXhEYXRlKVxyXG4gICAgICAgICAgICBzZWxmLm1vYmlsZUlucHV0Lm1heCA9IHNlbGYuZm9ybWF0RGF0ZShzZWxmLmNvbmZpZy5tYXhEYXRlLCBcIlktbS1kXCIpO1xyXG4gICAgICAgIHNlbGYuaW5wdXQudHlwZSA9IFwiaGlkZGVuXCI7XHJcbiAgICAgICAgaWYgKHNlbGYuYWx0SW5wdXQgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgc2VsZi5hbHRJbnB1dC50eXBlID0gXCJoaWRkZW5cIjtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoc2VsZi5pbnB1dC5wYXJlbnROb2RlKVxyXG4gICAgICAgICAgICAgICAgc2VsZi5pbnB1dC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShzZWxmLm1vYmlsZUlucHV0LCBzZWxmLmlucHV0Lm5leHRTaWJsaW5nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKF9hKSB7IH1cclxuICAgICAgICBiaW5kKHNlbGYubW9iaWxlSW5wdXQsIFwiY2hhbmdlXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHNlbGYuc2V0RGF0ZShlLnRhcmdldC52YWx1ZSwgZmFsc2UsIHNlbGYubW9iaWxlRm9ybWF0U3RyKTtcclxuICAgICAgICAgICAgdHJpZ2dlckV2ZW50KFwib25DaGFuZ2VcIik7XHJcbiAgICAgICAgICAgIHRyaWdnZXJFdmVudChcIm9uQ2xvc2VcIik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiB0b2dnbGUoKSB7XHJcbiAgICAgICAgaWYgKHNlbGYuaXNPcGVuKVxyXG4gICAgICAgICAgICByZXR1cm4gc2VsZi5jbG9zZSgpO1xyXG4gICAgICAgIHNlbGYub3BlbigpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gdHJpZ2dlckV2ZW50KGV2ZW50LCBkYXRhKSB7XHJcbiAgICAgICAgdmFyIGhvb2tzID0gc2VsZi5jb25maWdbZXZlbnRdO1xyXG4gICAgICAgIGlmIChob29rcyAhPT0gdW5kZWZpbmVkICYmIGhvb2tzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGhvb2tzW2ldICYmIGkgPCBob29rcy5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgICAgIGhvb2tzW2ldKHNlbGYuc2VsZWN0ZWREYXRlcywgc2VsZi5pbnB1dC52YWx1ZSwgc2VsZiwgZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChldmVudCA9PT0gXCJvbkNoYW5nZVwiKSB7XHJcbiAgICAgICAgICAgIHNlbGYuaW5wdXQuZGlzcGF0Y2hFdmVudChjcmVhdGVFdmVudChcImNoYW5nZVwiKSk7XHJcbiAgICAgICAgICAgIHNlbGYuaW5wdXQuZGlzcGF0Y2hFdmVudChjcmVhdGVFdmVudChcImlucHV0XCIpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBjcmVhdGVFdmVudChuYW1lKSB7XHJcbiAgICAgICAgdmFyIGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudChcIkV2ZW50XCIpO1xyXG4gICAgICAgIGUuaW5pdEV2ZW50KG5hbWUsIHRydWUsIHRydWUpO1xyXG4gICAgICAgIHJldHVybiBlO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaXNEYXRlU2VsZWN0ZWQoZGF0ZSkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZi5zZWxlY3RlZERhdGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChjb21wYXJlRGF0ZXMoc2VsZi5zZWxlY3RlZERhdGVzW2ldLCBkYXRlKSA9PT0gMClcclxuICAgICAgICAgICAgICAgIHJldHVybiBcIlwiICsgaTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaXNEYXRlSW5SYW5nZShkYXRlKSB7XHJcbiAgICAgICAgaWYgKHNlbGYuY29uZmlnLm1vZGUgIT09IFwicmFuZ2VcIiB8fCBzZWxmLnNlbGVjdGVkRGF0ZXMubGVuZ3RoIDwgMilcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHJldHVybiAoY29tcGFyZURhdGVzKGRhdGUsIHNlbGYuc2VsZWN0ZWREYXRlc1swXSkgPj0gMCAmJlxyXG4gICAgICAgICAgICBjb21wYXJlRGF0ZXMoZGF0ZSwgc2VsZi5zZWxlY3RlZERhdGVzWzFdKSA8PSAwKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHVwZGF0ZU5hdmlnYXRpb25DdXJyZW50TW9udGgoKSB7XHJcbiAgICAgICAgaWYgKHNlbGYuY29uZmlnLm5vQ2FsZW5kYXIgfHwgc2VsZi5pc01vYmlsZSB8fCAhc2VsZi5tb250aE5hdilcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHNlbGYuY3VycmVudE1vbnRoRWxlbWVudC50ZXh0Q29udGVudCA9XHJcbiAgICAgICAgICAgIG1vbnRoVG9TdHIoc2VsZi5jdXJyZW50TW9udGgsIHNlbGYuY29uZmlnLnNob3J0aGFuZEN1cnJlbnRNb250aCwgc2VsZi5sMTBuKSArIFwiIFwiO1xyXG4gICAgICAgIHNlbGYuY3VycmVudFllYXJFbGVtZW50LnZhbHVlID0gc2VsZi5jdXJyZW50WWVhci50b1N0cmluZygpO1xyXG4gICAgICAgIHNlbGYuX2hpZGVQcmV2TW9udGhBcnJvdyA9XHJcbiAgICAgICAgICAgIHNlbGYuY29uZmlnLm1pbkRhdGUgIT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICAgICAgICAgICAgKHNlbGYuY3VycmVudFllYXIgPT09IHNlbGYuY29uZmlnLm1pbkRhdGUuZ2V0RnVsbFllYXIoKVxyXG4gICAgICAgICAgICAgICAgICAgID8gc2VsZi5jdXJyZW50TW9udGggPD0gc2VsZi5jb25maWcubWluRGF0ZS5nZXRNb250aCgpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBzZWxmLmN1cnJlbnRZZWFyIDwgc2VsZi5jb25maWcubWluRGF0ZS5nZXRGdWxsWWVhcigpKTtcclxuICAgICAgICBzZWxmLl9oaWRlTmV4dE1vbnRoQXJyb3cgPVxyXG4gICAgICAgICAgICBzZWxmLmNvbmZpZy5tYXhEYXRlICE9PSB1bmRlZmluZWQgJiZcclxuICAgICAgICAgICAgICAgIChzZWxmLmN1cnJlbnRZZWFyID09PSBzZWxmLmNvbmZpZy5tYXhEYXRlLmdldEZ1bGxZZWFyKClcclxuICAgICAgICAgICAgICAgICAgICA/IHNlbGYuY3VycmVudE1vbnRoICsgMSA+IHNlbGYuY29uZmlnLm1heERhdGUuZ2V0TW9udGgoKVxyXG4gICAgICAgICAgICAgICAgICAgIDogc2VsZi5jdXJyZW50WWVhciA+IHNlbGYuY29uZmlnLm1heERhdGUuZ2V0RnVsbFllYXIoKSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiB1cGRhdGVWYWx1ZSh0cmlnZ2VyQ2hhbmdlKSB7XHJcbiAgICAgICAgaWYgKHRyaWdnZXJDaGFuZ2UgPT09IHZvaWQgMCkgeyB0cmlnZ2VyQ2hhbmdlID0gdHJ1ZTsgfVxyXG4gICAgICAgIGlmICghc2VsZi5zZWxlY3RlZERhdGVzLmxlbmd0aClcclxuICAgICAgICAgICAgcmV0dXJuIHNlbGYuY2xlYXIodHJpZ2dlckNoYW5nZSk7XHJcbiAgICAgICAgaWYgKHNlbGYubW9iaWxlSW5wdXQgIT09IHVuZGVmaW5lZCAmJiBzZWxmLm1vYmlsZUZvcm1hdFN0cikge1xyXG4gICAgICAgICAgICBzZWxmLm1vYmlsZUlucHV0LnZhbHVlID1cclxuICAgICAgICAgICAgICAgIHNlbGYubGF0ZXN0U2VsZWN0ZWREYXRlT2JqICE9PSB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICA/IHNlbGYuZm9ybWF0RGF0ZShzZWxmLmxhdGVzdFNlbGVjdGVkRGF0ZU9iaiwgc2VsZi5tb2JpbGVGb3JtYXRTdHIpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBcIlwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgam9pbkNoYXIgPSBzZWxmLmNvbmZpZy5tb2RlICE9PSBcInJhbmdlXCJcclxuICAgICAgICAgICAgPyBzZWxmLmNvbmZpZy5jb25qdW5jdGlvblxyXG4gICAgICAgICAgICA6IHNlbGYubDEwbi5yYW5nZVNlcGFyYXRvcjtcclxuICAgICAgICBzZWxmLmlucHV0LnZhbHVlID0gc2VsZi5zZWxlY3RlZERhdGVzXHJcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGRPYmopIHsgcmV0dXJuIHNlbGYuZm9ybWF0RGF0ZShkT2JqLCBzZWxmLmNvbmZpZy5kYXRlRm9ybWF0KTsgfSlcclxuICAgICAgICAgICAgLmpvaW4oam9pbkNoYXIpO1xyXG4gICAgICAgIGlmIChzZWxmLmFsdElucHV0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgc2VsZi5hbHRJbnB1dC52YWx1ZSA9IHNlbGYuc2VsZWN0ZWREYXRlc1xyXG4gICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoZE9iaikgeyByZXR1cm4gc2VsZi5mb3JtYXREYXRlKGRPYmosIHNlbGYuY29uZmlnLmFsdEZvcm1hdCk7IH0pXHJcbiAgICAgICAgICAgICAgICAuam9pbihqb2luQ2hhcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0cmlnZ2VyQ2hhbmdlICE9PSBmYWxzZSlcclxuICAgICAgICAgICAgdHJpZ2dlckV2ZW50KFwib25WYWx1ZVVwZGF0ZVwiKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIG9uTW9udGhOYXZTY3JvbGwoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB2YXIgaXNZZWFyID0gc2VsZi5jdXJyZW50WWVhckVsZW1lbnQucGFyZW50Tm9kZSAmJlxyXG4gICAgICAgICAgICBzZWxmLmN1cnJlbnRZZWFyRWxlbWVudC5wYXJlbnROb2RlLmNvbnRhaW5zKGUudGFyZ2V0KTtcclxuICAgICAgICBpZiAoZS50YXJnZXQgPT09IHNlbGYuY3VycmVudE1vbnRoRWxlbWVudCB8fCBpc1llYXIpIHtcclxuICAgICAgICAgICAgdmFyIGRlbHRhID0gbW91c2VEZWx0YShlKTtcclxuICAgICAgICAgICAgaWYgKGlzWWVhcikge1xyXG4gICAgICAgICAgICAgICAgY2hhbmdlWWVhcihzZWxmLmN1cnJlbnRZZWFyICsgZGVsdGEpO1xyXG4gICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPSBzZWxmLmN1cnJlbnRZZWFyLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgc2VsZi5jaGFuZ2VNb250aChkZWx0YSwgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIG9uTW9udGhOYXZDbGljayhlKSB7XHJcbiAgICAgICAgdmFyIGlzUHJldk1vbnRoID0gc2VsZi5wcmV2TW9udGhOYXYuY29udGFpbnMoZS50YXJnZXQpO1xyXG4gICAgICAgIHZhciBpc05leHRNb250aCA9IHNlbGYubmV4dE1vbnRoTmF2LmNvbnRhaW5zKGUudGFyZ2V0KTtcclxuICAgICAgICBpZiAoaXNQcmV2TW9udGggfHwgaXNOZXh0TW9udGgpXHJcbiAgICAgICAgICAgIGNoYW5nZU1vbnRoKGlzUHJldk1vbnRoID8gLTEgOiAxKTtcclxuICAgICAgICBlbHNlIGlmIChlLnRhcmdldCA9PT0gc2VsZi5jdXJyZW50WWVhckVsZW1lbnQpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBzZWxmLmN1cnJlbnRZZWFyRWxlbWVudC5zZWxlY3QoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZS50YXJnZXQuY2xhc3NOYW1lID09PSBcImFycm93VXBcIilcclxuICAgICAgICAgICAgc2VsZi5jaGFuZ2VZZWFyKHNlbGYuY3VycmVudFllYXIgKyAxKTtcclxuICAgICAgICBlbHNlIGlmIChlLnRhcmdldC5jbGFzc05hbWUgPT09IFwiYXJyb3dEb3duXCIpXHJcbiAgICAgICAgICAgIHNlbGYuY2hhbmdlWWVhcihzZWxmLmN1cnJlbnRZZWFyIC0gMSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiB0aW1lV3JhcHBlcihlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHZhciBpc0tleURvd24gPSBlLnR5cGUgPT09IFwia2V5ZG93blwiLCBpbnB1dCA9IGUudGFyZ2V0O1xyXG4gICAgICAgIGlmIChzZWxmLmFtUE0gIT09IHVuZGVmaW5lZCAmJiBlLnRhcmdldCA9PT0gc2VsZi5hbVBNKSB7XHJcbiAgICAgICAgICAgIHNlbGYuYW1QTS50ZXh0Q29udGVudCA9XHJcbiAgICAgICAgICAgICAgICBzZWxmLmwxMG4uYW1QTVtpbnQoc2VsZi5hbVBNLnRleHRDb250ZW50ID09PSBzZWxmLmwxMG4uYW1QTVswXSldO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbWluID0gTnVtYmVyKGlucHV0Lm1pbiksIG1heCA9IE51bWJlcihpbnB1dC5tYXgpLCBzdGVwID0gTnVtYmVyKGlucHV0LnN0ZXApLCBjdXJWYWx1ZSA9IHBhcnNlSW50KGlucHV0LnZhbHVlLCAxMCksIGRlbHRhID0gZS5kZWx0YSB8fFxyXG4gICAgICAgICAgICAoaXNLZXlEb3duXHJcbiAgICAgICAgICAgICAgICA/IGUud2hpY2ggPT09IDM4ID8gMSA6IC0xXHJcbiAgICAgICAgICAgICAgICA6IE1hdGgubWF4KC0xLCBNYXRoLm1pbigxLCBlLndoZWVsRGVsdGEgfHwgLWUuZGVsdGFZKSkgfHwgMCk7XHJcbiAgICAgICAgdmFyIG5ld1ZhbHVlID0gY3VyVmFsdWUgKyBzdGVwICogZGVsdGE7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dC52YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBpbnB1dC52YWx1ZS5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgdmFyIGlzSG91ckVsZW0gPSBpbnB1dCA9PT0gc2VsZi5ob3VyRWxlbWVudCwgaXNNaW51dGVFbGVtID0gaW5wdXQgPT09IHNlbGYubWludXRlRWxlbWVudDtcclxuICAgICAgICAgICAgaWYgKG5ld1ZhbHVlIDwgbWluKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdWYWx1ZSA9XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4ICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3VmFsdWUgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnQoIWlzSG91ckVsZW0pICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGludChpc0hvdXJFbGVtKSAmJiBpbnQoIXNlbGYuYW1QTSkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzTWludXRlRWxlbSlcclxuICAgICAgICAgICAgICAgICAgICBpbmNyZW1lbnROdW1JbnB1dCh1bmRlZmluZWQsIC0xLCBzZWxmLmhvdXJFbGVtZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChuZXdWYWx1ZSA+IG1heCkge1xyXG4gICAgICAgICAgICAgICAgbmV3VmFsdWUgPVxyXG4gICAgICAgICAgICAgICAgICAgIGlucHV0ID09PSBzZWxmLmhvdXJFbGVtZW50ID8gbmV3VmFsdWUgLSBtYXggLSBpbnQoIXNlbGYuYW1QTSkgOiBtaW47XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNNaW51dGVFbGVtKVxyXG4gICAgICAgICAgICAgICAgICAgIGluY3JlbWVudE51bUlucHV0KHVuZGVmaW5lZCwgMSwgc2VsZi5ob3VyRWxlbWVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHNlbGYuYW1QTSAmJlxyXG4gICAgICAgICAgICAgICAgaXNIb3VyRWxlbSAmJlxyXG4gICAgICAgICAgICAgICAgKHN0ZXAgPT09IDFcclxuICAgICAgICAgICAgICAgICAgICA/IG5ld1ZhbHVlICsgY3VyVmFsdWUgPT09IDIzXHJcbiAgICAgICAgICAgICAgICAgICAgOiBNYXRoLmFicyhuZXdWYWx1ZSAtIGN1clZhbHVlKSA+IHN0ZXApKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmFtUE0udGV4dENvbnRlbnQgPVxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYubDEwbi5hbVBNW2ludChzZWxmLmFtUE0udGV4dENvbnRlbnQgPT09IHNlbGYubDEwbi5hbVBNWzBdKV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5wdXQudmFsdWUgPSBwYWQobmV3VmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGluaXQoKTtcclxuICAgIHJldHVybiBzZWxmO1xyXG59XHJcbmZ1bmN0aW9uIF9mbGF0cGlja3Iobm9kZUxpc3QsIGNvbmZpZykge1xyXG4gICAgdmFyIG5vZGVzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwobm9kZUxpc3QpO1xyXG4gICAgdmFyIGluc3RhbmNlcyA9IFtdO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBub2RlID0gbm9kZXNbaV07XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKG5vZGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1mcC1vbWl0XCIpICE9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIGlmIChub2RlLl9mbGF0cGlja3IgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgbm9kZS5fZmxhdHBpY2tyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIG5vZGUuX2ZsYXRwaWNrciA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBub2RlLl9mbGF0cGlja3IgPSBGbGF0cGlja3JJbnN0YW5jZShub2RlLCBjb25maWcgfHwge30pO1xyXG4gICAgICAgICAgICBpbnN0YW5jZXMucHVzaChub2RlLl9mbGF0cGlja3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBpbnN0YW5jZXMubGVuZ3RoID09PSAxID8gaW5zdGFuY2VzWzBdIDogaW5zdGFuY2VzO1xyXG59XHJcbmlmICh0eXBlb2YgSFRNTEVsZW1lbnQgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgIEhUTUxDb2xsZWN0aW9uLnByb3RvdHlwZS5mbGF0cGlja3IgPSBOb2RlTGlzdC5wcm90b3R5cGUuZmxhdHBpY2tyID0gZnVuY3Rpb24gKGNvbmZpZykge1xyXG4gICAgICAgIHJldHVybiBfZmxhdHBpY2tyKHRoaXMsIGNvbmZpZyk7XHJcbiAgICB9O1xyXG4gICAgSFRNTEVsZW1lbnQucHJvdG90eXBlLmZsYXRwaWNrciA9IGZ1bmN0aW9uIChjb25maWcpIHtcclxuICAgICAgICByZXR1cm4gX2ZsYXRwaWNrcihbdGhpc10sIGNvbmZpZyk7XHJcbiAgICB9O1xyXG59XHJcbnZhciBmbGF0cGlja3I7XHJcbmZsYXRwaWNrciA9IGZ1bmN0aW9uIChzZWxlY3RvciwgY29uZmlnKSB7XHJcbiAgICBpZiAoc2VsZWN0b3IgaW5zdGFuY2VvZiBOb2RlTGlzdClcclxuICAgICAgICByZXR1cm4gX2ZsYXRwaWNrcihzZWxlY3RvciwgY29uZmlnKTtcclxuICAgIGVsc2UgaWYgKHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIilcclxuICAgICAgICByZXR1cm4gX2ZsYXRwaWNrcih3aW5kb3cuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvciksIGNvbmZpZyk7XHJcbiAgICByZXR1cm4gX2ZsYXRwaWNrcihbc2VsZWN0b3JdLCBjb25maWcpO1xyXG59O1xyXG5pZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIilcclxuICAgIHdpbmRvdy5mbGF0cGlja3IgPSBmbGF0cGlja3I7XHJcbmZsYXRwaWNrci5kZWZhdWx0Q29uZmlnID0gZGVmYXVsdHM7XHJcbmZsYXRwaWNrci5sMTBucyA9IHtcclxuICAgIGVuOiBfX2Fzc2lnbih7fSwgZW5nbGlzaCksXHJcbiAgICBkZWZhdWx0OiBfX2Fzc2lnbih7fSwgZW5nbGlzaCksXHJcbn07XHJcbmZsYXRwaWNrci5sb2NhbGl6ZSA9IGZ1bmN0aW9uIChsMTBuKSB7XHJcbiAgICBmbGF0cGlja3IubDEwbnMuZGVmYXVsdCA9IF9fYXNzaWduKHt9LCBmbGF0cGlja3IubDEwbnMuZGVmYXVsdCwgbDEwbik7XHJcbn07XHJcbmZsYXRwaWNrci5zZXREZWZhdWx0cyA9IGZ1bmN0aW9uIChjb25maWcpIHtcclxuICAgIGZsYXRwaWNrci5kZWZhdWx0Q29uZmlnID0gX19hc3NpZ24oe30sIGZsYXRwaWNrci5kZWZhdWx0Q29uZmlnLCBjb25maWcpO1xyXG59O1xyXG5pZiAodHlwZW9mIGpRdWVyeSAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgalF1ZXJ5LmZuLmZsYXRwaWNrciA9IGZ1bmN0aW9uIChjb25maWcpIHtcclxuICAgICAgICByZXR1cm4gX2ZsYXRwaWNrcih0aGlzLCBjb25maWcpO1xyXG4gICAgfTtcclxufVxyXG5EYXRlLnByb3RvdHlwZS5mcF9pbmNyID0gZnVuY3Rpb24gKGRheXMpIHtcclxuICAgIHJldHVybiBuZXcgRGF0ZSh0aGlzLmdldEZ1bGxZZWFyKCksIHRoaXMuZ2V0TW9udGgoKSwgdGhpcy5nZXREYXRlKCkgKyAodHlwZW9mIGRheXMgPT09IFwic3RyaW5nXCIgPyBwYXJzZUludChkYXlzLCAxMCkgOiBkYXlzKSk7XHJcbn07XHJcbnZhciBmbGF0cGlja3IkMSA9IGZsYXRwaWNrcjtcblxucmV0dXJuIGZsYXRwaWNrciQxO1xuXG59KSkpO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQSxVQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/flatpickr/dist/flatpickr.js\n')},"./node_modules/flatpickr/dist/plugins/confirmDate/confirmDate.js":function(module,exports,__webpack_require__){eval('/* flatpickr v4.1.4, @license MIT */\n(function (global, factory) {\n\t true ? module.exports = factory() :\n\tundefined;\n}(this, (function () { \'use strict\';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the "License"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\n\r\n\r\nvar __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n};\n\nvar defaultConfig = {\r\n    confirmIcon: "<svg version=\'1.1\' xmlns=\'http://www.w3.org/2000/svg\' xmlns:xlink=\'http://www.w3.org/1999/xlink\' width=\'17\' height=\'17\' viewBox=\'0 0 17 17\'> <g> </g> <path d=\'M15.418 1.774l-8.833 13.485-4.918-4.386 0.666-0.746 4.051 3.614 8.198-12.515 0.836 0.548z\' fill=\'#000000\' /> </svg>",\r\n    confirmText: "OK ",\r\n    showAlways: false,\r\n    theme: "light",\r\n};\r\nfunction confirmDatePlugin(pluginConfig) {\r\n    var config = __assign({}, defaultConfig, pluginConfig);\r\n    var confirmContainer;\r\n    return function (fp) {\r\n        var hooks = __assign({ onKeyDown: function (_, __, ___, e) {\r\n                if (fp.config.enableTime && e.key === "Tab" && e.target === fp.amPM) {\r\n                    e.preventDefault();\r\n                    confirmContainer.focus();\r\n                }\r\n                else if (e.key === "Enter" && e.target === confirmContainer)\r\n                    fp.close();\r\n            },\r\n            onReady: function () {\r\n                if (fp.calendarContainer === undefined)\r\n                    return;\r\n                confirmContainer = fp._createElement("div", "flatpickr-confirm " + (config.showAlways\r\n                    ? "visible"\r\n                    : "") + " " + config.theme + "Theme", config.confirmText);\r\n                confirmContainer.tabIndex = -1;\r\n                confirmContainer.innerHTML += config.confirmIcon;\r\n                confirmContainer.addEventListener("click", fp.close);\r\n                fp.calendarContainer.appendChild(confirmContainer);\r\n            } }, !config.showAlways\r\n            ? {\r\n                onChange: function (_, dateStr) {\r\n                    var showCondition = fp.config.enableTime || fp.config.mode === "multiple";\r\n                    if (dateStr && !fp.config.inline && showCondition)\r\n                        return confirmContainer.classList.add("visible");\r\n                    confirmContainer.classList.remove("visible");\r\n                },\r\n            }\r\n            : {});\r\n        return hooks;\r\n    };\r\n}\n\nreturn confirmDatePlugin;\n\n})));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZmxhdHBpY2tyL2Rpc3QvcGx1Z2lucy9jb25maXJtRGF0ZS9jb25maXJtRGF0ZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mbGF0cGlja3IvZGlzdC9wbHVnaW5zL2NvbmZpcm1EYXRlL2NvbmZpcm1EYXRlLmpzPzc0OWYiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZmxhdHBpY2tyIHY0LjEuNCwgQGxpY2Vuc2UgTUlUICovXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuXHR0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG5cdHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG5cdChnbG9iYWwuY29uZmlybURhdGVQbHVnaW4gPSBmYWN0b3J5KCkpO1xufSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG5cclxuXHJcbnZhciBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn07XG5cbnZhciBkZWZhdWx0Q29uZmlnID0ge1xyXG4gICAgY29uZmlybUljb246IFwiPHN2ZyB2ZXJzaW9uPScxLjEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnIHdpZHRoPScxNycgaGVpZ2h0PScxNycgdmlld0JveD0nMCAwIDE3IDE3Jz4gPGc+IDwvZz4gPHBhdGggZD0nTTE1LjQxOCAxLjc3NGwtOC44MzMgMTMuNDg1LTQuOTE4LTQuMzg2IDAuNjY2LTAuNzQ2IDQuMDUxIDMuNjE0IDguMTk4LTEyLjUxNSAwLjgzNiAwLjU0OHonIGZpbGw9JyMwMDAwMDAnIC8+IDwvc3ZnPlwiLFxyXG4gICAgY29uZmlybVRleHQ6IFwiT0sgXCIsXHJcbiAgICBzaG93QWx3YXlzOiBmYWxzZSxcclxuICAgIHRoZW1lOiBcImxpZ2h0XCIsXHJcbn07XHJcbmZ1bmN0aW9uIGNvbmZpcm1EYXRlUGx1Z2luKHBsdWdpbkNvbmZpZykge1xyXG4gICAgdmFyIGNvbmZpZyA9IF9fYXNzaWduKHt9LCBkZWZhdWx0Q29uZmlnLCBwbHVnaW5Db25maWcpO1xyXG4gICAgdmFyIGNvbmZpcm1Db250YWluZXI7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGZwKSB7XHJcbiAgICAgICAgdmFyIGhvb2tzID0gX19hc3NpZ24oeyBvbktleURvd246IGZ1bmN0aW9uIChfLCBfXywgX19fLCBlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZnAuY29uZmlnLmVuYWJsZVRpbWUgJiYgZS5rZXkgPT09IFwiVGFiXCIgJiYgZS50YXJnZXQgPT09IGZwLmFtUE0pIHtcclxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlybUNvbnRhaW5lci5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZS5rZXkgPT09IFwiRW50ZXJcIiAmJiBlLnRhcmdldCA9PT0gY29uZmlybUNvbnRhaW5lcilcclxuICAgICAgICAgICAgICAgICAgICBmcC5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBvblJlYWR5OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZnAuY2FsZW5kYXJDb250YWluZXIgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBjb25maXJtQ29udGFpbmVyID0gZnAuX2NyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgXCJmbGF0cGlja3ItY29uZmlybSBcIiArIChjb25maWcuc2hvd0Fsd2F5c1xyXG4gICAgICAgICAgICAgICAgICAgID8gXCJ2aXNpYmxlXCJcclxuICAgICAgICAgICAgICAgICAgICA6IFwiXCIpICsgXCIgXCIgKyBjb25maWcudGhlbWUgKyBcIlRoZW1lXCIsIGNvbmZpZy5jb25maXJtVGV4dCk7XHJcbiAgICAgICAgICAgICAgICBjb25maXJtQ29udGFpbmVyLnRhYkluZGV4ID0gLTE7XHJcbiAgICAgICAgICAgICAgICBjb25maXJtQ29udGFpbmVyLmlubmVySFRNTCArPSBjb25maWcuY29uZmlybUljb247XHJcbiAgICAgICAgICAgICAgICBjb25maXJtQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmcC5jbG9zZSk7XHJcbiAgICAgICAgICAgICAgICBmcC5jYWxlbmRhckNvbnRhaW5lci5hcHBlbmRDaGlsZChjb25maXJtQ29udGFpbmVyKTtcclxuICAgICAgICAgICAgfSB9LCAhY29uZmlnLnNob3dBbHdheXNcclxuICAgICAgICAgICAgPyB7XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gKF8sIGRhdGVTdHIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2hvd0NvbmRpdGlvbiA9IGZwLmNvbmZpZy5lbmFibGVUaW1lIHx8IGZwLmNvbmZpZy5tb2RlID09PSBcIm11bHRpcGxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGVTdHIgJiYgIWZwLmNvbmZpZy5pbmxpbmUgJiYgc2hvd0NvbmRpdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpcm1Db250YWluZXIuY2xhc3NMaXN0LmFkZChcInZpc2libGVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlybUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwidmlzaWJsZVwiKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgOiB7fSk7XHJcbiAgICAgICAgcmV0dXJuIGhvb2tzO1xyXG4gICAgfTtcclxufVxuXG5yZXR1cm4gY29uZmlybURhdGVQbHVnaW47XG5cbn0pKSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBLFVBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/flatpickr/dist/plugins/confirmDate/confirmDate.js\n')},"./node_modules/umbrellajs/umbrella.min.js":function(module,exports){eval('/* Umbrella JS 2.10.0 umbrellajs.com */\nfunction ajax(a,b,c,d){c=c||function(){},b=b||{},b.body=b.body||{},b.method=(b.method||"GET").toUpperCase(),b.headers=b.headers||{},b.headers["X-Requested-With"]=b.headers["X-Requested-With"]||"XMLHttpRequest","undefined"!=typeof window.FormData&&b.body instanceof window.FormData||(b.headers["Content-Type"]=b.headers["Content-Type"]||"application/x-www-form-urlencoded"),/json/.test(b.headers["Content-Type"])&&(b.body=JSON.stringify(b.body)),"object"!=typeof b.body||b.body instanceof window.FormData||(b.body=u().param(b.body));var e=new window.XMLHttpRequest;u(e).on("error timeout abort",function(){c(new Error,null,e)}).on("load",function(){var a=/^(4|5)/.test(e.status)?new Error(e.status):null,b=parseJson(e.response)||e.response;return c(a,b,e)}),e.open(b.method,a),e.withCredentials=!0;for(var f in b.headers)e.setRequestHeader(f,b.headers[f]);return d&&d(e),e.send(b.body),e}function parseJson(a){try{var b=JSON.parse(a);if(b&&"object"==typeof b)return b}catch(c){}return!1}var u=function(a,b){return this instanceof u?a instanceof u?a:("string"==typeof a&&(a=this.select(a,b)),a&&a.nodeName&&(a=[a]),void(this.nodes=this.slice(a))):new u(a,b)};u.prototype={get length(){return this.nodes.length}},u.prototype.nodes=[],u.prototype.addClass=function(){return this.eacharg(arguments,function(a,b){a.classList.add(b)})},u.prototype.adjacent=function(a,b,c){return"number"==typeof b&&(b=0===b?[]:new Array(b).join().split(",").map(Number.call,Number)),this.each(function(d,e){var f=document.createDocumentFragment();u(b||{}).map(function(b,c){var f="function"==typeof a?a.call(this,b,c,d,e):a;return"string"==typeof f?this.generate(f):u(f)}).each(function(a){this.isInPage(a)?f.appendChild(u(a).clone().first()):f.appendChild(a)}),c.call(this,d,f)})},u.prototype.after=function(a,b){return this.adjacent(a,b,function(a,b){a.parentNode.insertBefore(b,a.nextSibling)})},u.prototype.ajax=function(a,b){return this.handle("submit",function(c){ajax(u(this).attr("action"),{body:u(this).serialize(),method:u(this).attr("method")},a&&a.bind(this),b&&b.bind(this))})},u.prototype.append=function(a,b){return this.adjacent(a,b,function(a,b){a.appendChild(b)})},u.prototype.args=function(a,b,c){return"function"==typeof a&&(a=a(b,c)),"string"!=typeof a&&(a=this.slice(a).map(this.str(b,c))),a.toString().split(/[\\s,]+/).filter(function(a){return a.length})},u.prototype.array=function(a){a=a;var b=this;return this.nodes.reduce(function(c,d,e){var f;return a?(f=a.call(b,d,e),f||(f=!1),"string"==typeof f&&(f=u(f)),f instanceof u&&(f=f.nodes)):f=d.innerHTML,c.concat(f!==!1?f:[])},[])},u.prototype.attr=function(a,b,c){return c=c?"data-":"",this.pairs(a,b,function(a,b){return a.getAttribute(c+b)},function(a,b,d){a.setAttribute(c+b,d)})},u.prototype.before=function(a,b){return this.adjacent(a,b,function(a,b){a.parentNode.insertBefore(b,a)})},u.prototype.children=function(a){return this.map(function(a){return this.slice(a.children)}).filter(a)},u.prototype.clone=function(){return this.map(function(a,b){var c=a.cloneNode(!0),d=this.getAll(c);return this.getAll(a).each(function(a,b){for(var c in this.mirror)this.mirror[c](a,d.nodes[b])}),c})},u.prototype.getAll=function(a){return u([a].concat(u("*",a).nodes))},u.prototype.mirror={},u.prototype.mirror.events=function(a,b){if(a._e)for(var c in a._e)a._e[c].forEach(function(a){u(b).on(c,a)})},u.prototype.mirror.select=function(a,b){u(a).is("select")&&(b.value=a.value)},u.prototype.mirror.textarea=function(a,b){u(a).is("textarea")&&(b.value=a.value)},u.prototype.closest=function(a){return this.map(function(b){do if(u(b).is(a))return b;while((b=b.parentNode)&&b!==document)})},u.prototype.data=function(a,b){return this.attr(a,b,!0)},u.prototype.each=function(a){return this.nodes.forEach(a.bind(this)),this},u.prototype.eacharg=function(a,b){return this.each(function(c,d){this.args(a,c,d).forEach(function(a){b.call(this,c,a)},this)})},u.prototype.empty=function(){return this.each(function(a){for(;a.firstChild;)a.removeChild(a.firstChild)})},u.prototype.filter=function(a){var b=function(b){return b.matches=b.matches||b.msMatchesSelector||b.webkitMatchesSelector,b.matches(a||"*")};return"function"==typeof a&&(b=a),a instanceof u&&(b=function(b){return a.nodes.indexOf(b)!==-1}),u(this.nodes.filter(b))},u.prototype.find=function(a){return this.map(function(b){return u(a||"*",b)})},u.prototype.first=function(){return this.nodes[0]||!1},u.prototype.generate=function(a){return/^\\s*<t(h|r|d)/.test(a)?u(document.createElement("table")).html(a).children().nodes:/^\\s*</.test(a)?u(document.createElement("div")).html(a).children().nodes:document.createTextNode(a)},u.prototype.handle=function(){var a=this.slice(arguments).map(function(a){return"function"==typeof a?function(b){b.preventDefault(),a.apply(this,arguments)}:a},this);return this.on.apply(this,a)},u.prototype.hasClass=function(){return this.is("."+this.args(arguments).join("."))},u.prototype.html=function(a){return void 0===a?this.first().innerHTML||"":this.each(function(b){b.innerHTML=a})},u.prototype.is=function(a){return this.filter(a).length>0},u.prototype.isInPage=function(a){return a!==document.body&&document.body.contains(a)},u.prototype.last=function(){return this.nodes[this.length-1]||!1},u.prototype.map=function(a){return a?u(this.array(a)).unique():this},u.prototype.not=function(a){return this.filter(function(b){return!u(b).is(a||!0)})},u.prototype.off=function(a){return this.eacharg(a,function(a,b){u(a._e?a._e[b]:[]).each(function(c){a.removeEventListener(b,c)})})},u.prototype.on=function(a,b,c){if("string"==typeof b){var d=b;b=function(a){var b=arguments;u(a.currentTarget).find(d).each(function(d){if(d===a.target||d.contains(a.target)){try{Object.defineProperty(a,"currentTarget",{get:function(){return d}})}catch(e){}c.apply(d,b)}})}}var e=function(a){return b.apply(this,[a].concat(a.detail||[]))};return this.eacharg(a,function(a,b){a.addEventListener(b,e),a._e=a._e||{},a._e[b]=a._e[b]||[],a._e[b].push(e)})},u.prototype.pairs=function(a,b,c,d){if("undefined"!=typeof b){var e=a;a={},a[e]=b}return"object"==typeof a?this.each(function(b){for(var c in a)d(b,c,a[c])}):this.length?c(this.first(),a):""},u.prototype.param=function(a){return Object.keys(a).map(function(b){return this.uri(b)+"="+this.uri(a[b])}.bind(this)).join("&")},u.prototype.parent=function(a){return this.map(function(a){return a.parentNode}).filter(a)},u.prototype.prepend=function(a,b){return this.adjacent(a,b,function(a,b){a.insertBefore(b,a.firstChild)})},u.prototype.remove=function(){return this.each(function(a){a.parentNode&&a.parentNode.removeChild(a)})},u.prototype.removeClass=function(){return this.eacharg(arguments,function(a,b){a.classList.remove(b)})},u.prototype.replace=function(a,b){var c=[];return this.adjacent(a,b,function(a,b){c=c.concat(this.slice(b.children)),a.parentNode.replaceChild(b,a)}),u(c)},u.prototype.scroll=function(){return this.first().scrollIntoView({behavior:"smooth"}),this},u.prototype.select=function(a,b){if(a=a.replace(/^\\s*/,"").replace(/\\s*$/,""),b)return this.select.byCss(a,b);for(var c in this.selectors)if(b=c.split("/"),new RegExp(b[1],b[2]).test(a))return this.selectors[c](a);return this.select.byCss(a)},u.prototype.select.byCss=function(a,b){return(b||document).querySelectorAll(a)},u.prototype.selectors={},u.prototype.selectors[/^\\.[\\w\\-]+$/]=function(a){return document.getElementsByClassName(a.substring(1))},u.prototype.selectors[/^\\w+$/]=function(a){return document.getElementsByTagName(a)},u.prototype.selectors[/^\\#[\\w\\-]+$/]=function(a){return document.getElementById(a.substring(1))},u.prototype.selectors[/^</]=function(a){return u().generate(a)},u.prototype.serialize=function(){var a=this;return this.slice(this.first().elements).reduce(function(b,c){return!c.name||c.disabled||"file"===c.type?b:/(checkbox|radio)/.test(c.type)&&!c.checked?b:"select-multiple"===c.type?(u(c.options).each(function(d){d.selected&&(b+="&"+a.uri(c.name)+"="+a.uri(d.value))}),b):b+"&"+a.uri(c.name)+"="+a.uri(c.value)},"").slice(1)},u.prototype.siblings=function(a){return this.parent().children(a).not(this)},u.prototype.size=function(){return this.first().getBoundingClientRect()},u.prototype.slice=function(a){return a&&0!==a.length&&"string"!=typeof a&&"[object Function]"!==a.toString()?a.length?[].slice.call(a.nodes||a):[a]:[]},u.prototype.str=function(a,b){return function(c){return"function"==typeof c?c.call(this,a,b):c.toString()}},u.prototype.text=function(a){return void 0===a?this.first().textContent||"":this.each(function(b){b.textContent=a})},u.prototype.toggleClass=function(a,b){return!!b===b?this[b?"addClass":"removeClass"](a):this.eacharg(a,function(a,b){a.classList.toggle(b)})},u.prototype.trigger=function(a){var b=this.slice(arguments).slice(1);return this.eacharg(a,function(a,c){var d,e={bubbles:!0,cancelable:!0,detail:b};try{d=new window.CustomEvent(c,e)}catch(f){d=document.createEvent("CustomEvent"),d.initCustomEvent(c,!0,!0,b)}a.dispatchEvent(d)})},u.prototype.unique=function(){return u(this.nodes.reduce(function(a,b){var c=null!==b&&void 0!==b&&b!==!1;return c&&a.indexOf(b)===-1?a.concat(b):a},[]))},u.prototype.uri=function(a){return encodeURIComponent(a).replace(/!/g,"%21").replace(/\'/g,"%27").replace(/\\(/g,"%28").replace(/\\)/g,"%29").replace(/\\*/g,"%2A").replace(/%20/g,"+")},u.prototype.wrap=function(a){function b(a){for(;a.firstElementChild;)a=a.firstElementChild;return u(a)}return this.map(function(c){return u(a).each(function(a){b(a).append(c.cloneNode(!0)),c.parentNode.replaceChild(a,c)})})},"object"==typeof module&&module.exports&&(module.exports={u:u,ajax:ajax});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdW1icmVsbGFqcy91bWJyZWxsYS5taW4uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW1icmVsbGFqcy91bWJyZWxsYS5taW4uanM/NmQwNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBVbWJyZWxsYSBKUyAyLjEwLjAgdW1icmVsbGFqcy5jb20gKi9cbmZ1bmN0aW9uIGFqYXgoYSxiLGMsZCl7Yz1jfHxmdW5jdGlvbigpe30sYj1ifHx7fSxiLmJvZHk9Yi5ib2R5fHx7fSxiLm1ldGhvZD0oYi5tZXRob2R8fFwiR0VUXCIpLnRvVXBwZXJDYXNlKCksYi5oZWFkZXJzPWIuaGVhZGVyc3x8e30sYi5oZWFkZXJzW1wiWC1SZXF1ZXN0ZWQtV2l0aFwiXT1iLmhlYWRlcnNbXCJYLVJlcXVlc3RlZC1XaXRoXCJdfHxcIlhNTEh0dHBSZXF1ZXN0XCIsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdy5Gb3JtRGF0YSYmYi5ib2R5IGluc3RhbmNlb2Ygd2luZG93LkZvcm1EYXRhfHwoYi5oZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdPWIuaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXXx8XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIiksL2pzb24vLnRlc3QoYi5oZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdKSYmKGIuYm9keT1KU09OLnN0cmluZ2lmeShiLmJvZHkpKSxcIm9iamVjdFwiIT10eXBlb2YgYi5ib2R5fHxiLmJvZHkgaW5zdGFuY2VvZiB3aW5kb3cuRm9ybURhdGF8fChiLmJvZHk9dSgpLnBhcmFtKGIuYm9keSkpO3ZhciBlPW5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3Q7dShlKS5vbihcImVycm9yIHRpbWVvdXQgYWJvcnRcIixmdW5jdGlvbigpe2MobmV3IEVycm9yLG51bGwsZSl9KS5vbihcImxvYWRcIixmdW5jdGlvbigpe3ZhciBhPS9eKDR8NSkvLnRlc3QoZS5zdGF0dXMpP25ldyBFcnJvcihlLnN0YXR1cyk6bnVsbCxiPXBhcnNlSnNvbihlLnJlc3BvbnNlKXx8ZS5yZXNwb25zZTtyZXR1cm4gYyhhLGIsZSl9KSxlLm9wZW4oYi5tZXRob2QsYSksZS53aXRoQ3JlZGVudGlhbHM9ITA7Zm9yKHZhciBmIGluIGIuaGVhZGVycyllLnNldFJlcXVlc3RIZWFkZXIoZixiLmhlYWRlcnNbZl0pO3JldHVybiBkJiZkKGUpLGUuc2VuZChiLmJvZHkpLGV9ZnVuY3Rpb24gcGFyc2VKc29uKGEpe3RyeXt2YXIgYj1KU09OLnBhcnNlKGEpO2lmKGImJlwib2JqZWN0XCI9PXR5cGVvZiBiKXJldHVybiBifWNhdGNoKGMpe31yZXR1cm4hMX12YXIgdT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgdT9hIGluc3RhbmNlb2YgdT9hOihcInN0cmluZ1wiPT10eXBlb2YgYSYmKGE9dGhpcy5zZWxlY3QoYSxiKSksYSYmYS5ub2RlTmFtZSYmKGE9W2FdKSx2b2lkKHRoaXMubm9kZXM9dGhpcy5zbGljZShhKSkpOm5ldyB1KGEsYil9O3UucHJvdG90eXBlPXtnZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMubm9kZXMubGVuZ3RofX0sdS5wcm90b3R5cGUubm9kZXM9W10sdS5wcm90b3R5cGUuYWRkQ2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoYXJnKGFyZ3VtZW50cyxmdW5jdGlvbihhLGIpe2EuY2xhc3NMaXN0LmFkZChiKX0pfSx1LnByb3RvdHlwZS5hZGphY2VudD1mdW5jdGlvbihhLGIsYyl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGImJihiPTA9PT1iP1tdOm5ldyBBcnJheShiKS5qb2luKCkuc3BsaXQoXCIsXCIpLm1hcChOdW1iZXIuY2FsbCxOdW1iZXIpKSx0aGlzLmVhY2goZnVuY3Rpb24oZCxlKXt2YXIgZj1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7dShifHx7fSkubWFwKGZ1bmN0aW9uKGIsYyl7dmFyIGY9XCJmdW5jdGlvblwiPT10eXBlb2YgYT9hLmNhbGwodGhpcyxiLGMsZCxlKTphO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBmP3RoaXMuZ2VuZXJhdGUoZik6dShmKX0pLmVhY2goZnVuY3Rpb24oYSl7dGhpcy5pc0luUGFnZShhKT9mLmFwcGVuZENoaWxkKHUoYSkuY2xvbmUoKS5maXJzdCgpKTpmLmFwcGVuZENoaWxkKGEpfSksYy5jYWxsKHRoaXMsZCxmKX0pfSx1LnByb3RvdHlwZS5hZnRlcj1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmFkamFjZW50KGEsYixmdW5jdGlvbihhLGIpe2EucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYixhLm5leHRTaWJsaW5nKX0pfSx1LnByb3RvdHlwZS5hamF4PWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaGFuZGxlKFwic3VibWl0XCIsZnVuY3Rpb24oYyl7YWpheCh1KHRoaXMpLmF0dHIoXCJhY3Rpb25cIikse2JvZHk6dSh0aGlzKS5zZXJpYWxpemUoKSxtZXRob2Q6dSh0aGlzKS5hdHRyKFwibWV0aG9kXCIpfSxhJiZhLmJpbmQodGhpcyksYiYmYi5iaW5kKHRoaXMpKX0pfSx1LnByb3RvdHlwZS5hcHBlbmQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5hZGphY2VudChhLGIsZnVuY3Rpb24oYSxiKXthLmFwcGVuZENoaWxkKGIpfSl9LHUucHJvdG90eXBlLmFyZ3M9ZnVuY3Rpb24oYSxiLGMpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGEmJihhPWEoYixjKSksXCJzdHJpbmdcIiE9dHlwZW9mIGEmJihhPXRoaXMuc2xpY2UoYSkubWFwKHRoaXMuc3RyKGIsYykpKSxhLnRvU3RyaW5nKCkuc3BsaXQoL1tcXHMsXSsvKS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEubGVuZ3RofSl9LHUucHJvdG90eXBlLmFycmF5PWZ1bmN0aW9uKGEpe2E9YTt2YXIgYj10aGlzO3JldHVybiB0aGlzLm5vZGVzLnJlZHVjZShmdW5jdGlvbihjLGQsZSl7dmFyIGY7cmV0dXJuIGE/KGY9YS5jYWxsKGIsZCxlKSxmfHwoZj0hMSksXCJzdHJpbmdcIj09dHlwZW9mIGYmJihmPXUoZikpLGYgaW5zdGFuY2VvZiB1JiYoZj1mLm5vZGVzKSk6Zj1kLmlubmVySFRNTCxjLmNvbmNhdChmIT09ITE/ZjpbXSl9LFtdKX0sdS5wcm90b3R5cGUuYXR0cj1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGM9Yz9cImRhdGEtXCI6XCJcIix0aGlzLnBhaXJzKGEsYixmdW5jdGlvbihhLGIpe3JldHVybiBhLmdldEF0dHJpYnV0ZShjK2IpfSxmdW5jdGlvbihhLGIsZCl7YS5zZXRBdHRyaWJ1dGUoYytiLGQpfSl9LHUucHJvdG90eXBlLmJlZm9yZT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmFkamFjZW50KGEsYixmdW5jdGlvbihhLGIpe2EucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYixhKX0pfSx1LnByb3RvdHlwZS5jaGlsZHJlbj1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc2xpY2UoYS5jaGlsZHJlbil9KS5maWx0ZXIoYSl9LHUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKGEsYil7dmFyIGM9YS5jbG9uZU5vZGUoITApLGQ9dGhpcy5nZXRBbGwoYyk7cmV0dXJuIHRoaXMuZ2V0QWxsKGEpLmVhY2goZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMgaW4gdGhpcy5taXJyb3IpdGhpcy5taXJyb3JbY10oYSxkLm5vZGVzW2JdKX0pLGN9KX0sdS5wcm90b3R5cGUuZ2V0QWxsPWZ1bmN0aW9uKGEpe3JldHVybiB1KFthXS5jb25jYXQodShcIipcIixhKS5ub2RlcykpfSx1LnByb3RvdHlwZS5taXJyb3I9e30sdS5wcm90b3R5cGUubWlycm9yLmV2ZW50cz1mdW5jdGlvbihhLGIpe2lmKGEuX2UpZm9yKHZhciBjIGluIGEuX2UpYS5fZVtjXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3UoYikub24oYyxhKX0pfSx1LnByb3RvdHlwZS5taXJyb3Iuc2VsZWN0PWZ1bmN0aW9uKGEsYil7dShhKS5pcyhcInNlbGVjdFwiKSYmKGIudmFsdWU9YS52YWx1ZSl9LHUucHJvdG90eXBlLm1pcnJvci50ZXh0YXJlYT1mdW5jdGlvbihhLGIpe3UoYSkuaXMoXCJ0ZXh0YXJlYVwiKSYmKGIudmFsdWU9YS52YWx1ZSl9LHUucHJvdG90eXBlLmNsb3Nlc3Q9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKGIpe2RvIGlmKHUoYikuaXMoYSkpcmV0dXJuIGI7d2hpbGUoKGI9Yi5wYXJlbnROb2RlKSYmYiE9PWRvY3VtZW50KX0pfSx1LnByb3RvdHlwZS5kYXRhPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuYXR0cihhLGIsITApfSx1LnByb3RvdHlwZS5lYWNoPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm5vZGVzLmZvckVhY2goYS5iaW5kKHRoaXMpKSx0aGlzfSx1LnByb3RvdHlwZS5lYWNoYXJnPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihjLGQpe3RoaXMuYXJncyhhLGMsZCkuZm9yRWFjaChmdW5jdGlvbihhKXtiLmNhbGwodGhpcyxjLGEpfSx0aGlzKX0pfSx1LnByb3RvdHlwZS5lbXB0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYSl7Zm9yKDthLmZpcnN0Q2hpbGQ7KWEucmVtb3ZlQ2hpbGQoYS5maXJzdENoaWxkKX0pfSx1LnByb3RvdHlwZS5maWx0ZXI9ZnVuY3Rpb24oYSl7dmFyIGI9ZnVuY3Rpb24oYil7cmV0dXJuIGIubWF0Y2hlcz1iLm1hdGNoZXN8fGIubXNNYXRjaGVzU2VsZWN0b3J8fGIud2Via2l0TWF0Y2hlc1NlbGVjdG9yLGIubWF0Y2hlcyhhfHxcIipcIil9O3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGEmJihiPWEpLGEgaW5zdGFuY2VvZiB1JiYoYj1mdW5jdGlvbihiKXtyZXR1cm4gYS5ub2Rlcy5pbmRleE9mKGIpIT09LTF9KSx1KHRoaXMubm9kZXMuZmlsdGVyKGIpKX0sdS5wcm90b3R5cGUuZmluZD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oYil7cmV0dXJuIHUoYXx8XCIqXCIsYil9KX0sdS5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2Rlc1swXXx8ITF9LHUucHJvdG90eXBlLmdlbmVyYXRlPWZ1bmN0aW9uKGEpe3JldHVybi9eXFxzKjx0KGh8cnxkKS8udGVzdChhKT91KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiKSkuaHRtbChhKS5jaGlsZHJlbigpLm5vZGVzOi9eXFxzKjwvLnRlc3QoYSk/dShkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKS5odG1sKGEpLmNoaWxkcmVuKCkubm9kZXM6ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYSl9LHUucHJvdG90eXBlLmhhbmRsZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuc2xpY2UoYXJndW1lbnRzKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgYT9mdW5jdGlvbihiKXtiLnByZXZlbnREZWZhdWx0KCksYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9OmF9LHRoaXMpO3JldHVybiB0aGlzLm9uLmFwcGx5KHRoaXMsYSl9LHUucHJvdG90eXBlLmhhc0NsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXMoXCIuXCIrdGhpcy5hcmdzKGFyZ3VtZW50cykuam9pbihcIi5cIikpfSx1LnByb3RvdHlwZS5odG1sPWZ1bmN0aW9uKGEpe3JldHVybiB2b2lkIDA9PT1hP3RoaXMuZmlyc3QoKS5pbm5lckhUTUx8fFwiXCI6dGhpcy5lYWNoKGZ1bmN0aW9uKGIpe2IuaW5uZXJIVE1MPWF9KX0sdS5wcm90b3R5cGUuaXM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZmlsdGVyKGEpLmxlbmd0aD4wfSx1LnByb3RvdHlwZS5pc0luUGFnZT1mdW5jdGlvbihhKXtyZXR1cm4gYSE9PWRvY3VtZW50LmJvZHkmJmRvY3VtZW50LmJvZHkuY29udGFpbnMoYSl9LHUucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2Rlc1t0aGlzLmxlbmd0aC0xXXx8ITF9LHUucHJvdG90eXBlLm1hcD1mdW5jdGlvbihhKXtyZXR1cm4gYT91KHRoaXMuYXJyYXkoYSkpLnVuaXF1ZSgpOnRoaXN9LHUucHJvdG90eXBlLm5vdD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24oYil7cmV0dXJuIXUoYikuaXMoYXx8ITApfSl9LHUucHJvdG90eXBlLm9mZj1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoYXJnKGEsZnVuY3Rpb24oYSxiKXt1KGEuX2U/YS5fZVtiXTpbXSkuZWFjaChmdW5jdGlvbihjKXthLnJlbW92ZUV2ZW50TGlzdGVuZXIoYixjKX0pfSl9LHUucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGEsYixjKXtpZihcInN0cmluZ1wiPT10eXBlb2YgYil7dmFyIGQ9YjtiPWZ1bmN0aW9uKGEpe3ZhciBiPWFyZ3VtZW50czt1KGEuY3VycmVudFRhcmdldCkuZmluZChkKS5lYWNoKGZ1bmN0aW9uKGQpe2lmKGQ9PT1hLnRhcmdldHx8ZC5jb250YWlucyhhLnRhcmdldCkpe3RyeXtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxcImN1cnJlbnRUYXJnZXRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGR9fSl9Y2F0Y2goZSl7fWMuYXBwbHkoZCxiKX19KX19dmFyIGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGIuYXBwbHkodGhpcyxbYV0uY29uY2F0KGEuZGV0YWlsfHxbXSkpfTtyZXR1cm4gdGhpcy5lYWNoYXJnKGEsZnVuY3Rpb24oYSxiKXthLmFkZEV2ZW50TGlzdGVuZXIoYixlKSxhLl9lPWEuX2V8fHt9LGEuX2VbYl09YS5fZVtiXXx8W10sYS5fZVtiXS5wdXNoKGUpfSl9LHUucHJvdG90eXBlLnBhaXJzPWZ1bmN0aW9uKGEsYixjLGQpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBiKXt2YXIgZT1hO2E9e30sYVtlXT1ifXJldHVyblwib2JqZWN0XCI9PXR5cGVvZiBhP3RoaXMuZWFjaChmdW5jdGlvbihiKXtmb3IodmFyIGMgaW4gYSlkKGIsYyxhW2NdKX0pOnRoaXMubGVuZ3RoP2ModGhpcy5maXJzdCgpLGEpOlwiXCJ9LHUucHJvdG90eXBlLnBhcmFtPWZ1bmN0aW9uKGEpe3JldHVybiBPYmplY3Qua2V5cyhhKS5tYXAoZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMudXJpKGIpK1wiPVwiK3RoaXMudXJpKGFbYl0pfS5iaW5kKHRoaXMpKS5qb2luKFwiJlwiKX0sdS5wcm90b3R5cGUucGFyZW50PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5wYXJlbnROb2RlfSkuZmlsdGVyKGEpfSx1LnByb3RvdHlwZS5wcmVwZW5kPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuYWRqYWNlbnQoYSxiLGZ1bmN0aW9uKGEsYil7YS5pbnNlcnRCZWZvcmUoYixhLmZpcnN0Q2hpbGQpfSl9LHUucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYSl7YS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSl9KX0sdS5wcm90b3R5cGUucmVtb3ZlQ2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoYXJnKGFyZ3VtZW50cyxmdW5jdGlvbihhLGIpe2EuY2xhc3NMaXN0LnJlbW92ZShiKX0pfSx1LnByb3RvdHlwZS5yZXBsYWNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9W107cmV0dXJuIHRoaXMuYWRqYWNlbnQoYSxiLGZ1bmN0aW9uKGEsYil7Yz1jLmNvbmNhdCh0aGlzLnNsaWNlKGIuY2hpbGRyZW4pKSxhLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGIsYSl9KSx1KGMpfSx1LnByb3RvdHlwZS5zY3JvbGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maXJzdCgpLnNjcm9sbEludG9WaWV3KHtiZWhhdmlvcjpcInNtb290aFwifSksdGhpc30sdS5wcm90b3R5cGUuc2VsZWN0PWZ1bmN0aW9uKGEsYil7aWYoYT1hLnJlcGxhY2UoL15cXHMqLyxcIlwiKS5yZXBsYWNlKC9cXHMqJC8sXCJcIiksYilyZXR1cm4gdGhpcy5zZWxlY3QuYnlDc3MoYSxiKTtmb3IodmFyIGMgaW4gdGhpcy5zZWxlY3RvcnMpaWYoYj1jLnNwbGl0KFwiL1wiKSxuZXcgUmVnRXhwKGJbMV0sYlsyXSkudGVzdChhKSlyZXR1cm4gdGhpcy5zZWxlY3RvcnNbY10oYSk7cmV0dXJuIHRoaXMuc2VsZWN0LmJ5Q3NzKGEpfSx1LnByb3RvdHlwZS5zZWxlY3QuYnlDc3M9ZnVuY3Rpb24oYSxiKXtyZXR1cm4oYnx8ZG9jdW1lbnQpLnF1ZXJ5U2VsZWN0b3JBbGwoYSl9LHUucHJvdG90eXBlLnNlbGVjdG9ycz17fSx1LnByb3RvdHlwZS5zZWxlY3RvcnNbL15cXC5bXFx3XFwtXSskL109ZnVuY3Rpb24oYSl7cmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoYS5zdWJzdHJpbmcoMSkpfSx1LnByb3RvdHlwZS5zZWxlY3RvcnNbL15cXHcrJC9dPWZ1bmN0aW9uKGEpe3JldHVybiBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShhKX0sdS5wcm90b3R5cGUuc2VsZWN0b3JzWy9eXFwjW1xcd1xcLV0rJC9dPWZ1bmN0aW9uKGEpe3JldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhLnN1YnN0cmluZygxKSl9LHUucHJvdG90eXBlLnNlbGVjdG9yc1svXjwvXT1mdW5jdGlvbihhKXtyZXR1cm4gdSgpLmdlbmVyYXRlKGEpfSx1LnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiB0aGlzLnNsaWNlKHRoaXMuZmlyc3QoKS5lbGVtZW50cykucmVkdWNlKGZ1bmN0aW9uKGIsYyl7cmV0dXJuIWMubmFtZXx8Yy5kaXNhYmxlZHx8XCJmaWxlXCI9PT1jLnR5cGU/YjovKGNoZWNrYm94fHJhZGlvKS8udGVzdChjLnR5cGUpJiYhYy5jaGVja2VkP2I6XCJzZWxlY3QtbXVsdGlwbGVcIj09PWMudHlwZT8odShjLm9wdGlvbnMpLmVhY2goZnVuY3Rpb24oZCl7ZC5zZWxlY3RlZCYmKGIrPVwiJlwiK2EudXJpKGMubmFtZSkrXCI9XCIrYS51cmkoZC52YWx1ZSkpfSksYik6YitcIiZcIithLnVyaShjLm5hbWUpK1wiPVwiK2EudXJpKGMudmFsdWUpfSxcIlwiKS5zbGljZSgxKX0sdS5wcm90b3R5cGUuc2libGluZ3M9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucGFyZW50KCkuY2hpbGRyZW4oYSkubm90KHRoaXMpfSx1LnByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmlyc3QoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKX0sdS5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJjAhPT1hLmxlbmd0aCYmXCJzdHJpbmdcIiE9dHlwZW9mIGEmJlwiW29iamVjdCBGdW5jdGlvbl1cIiE9PWEudG9TdHJpbmcoKT9hLmxlbmd0aD9bXS5zbGljZS5jYWxsKGEubm9kZXN8fGEpOlthXTpbXX0sdS5wcm90b3R5cGUuc3RyPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGM/Yy5jYWxsKHRoaXMsYSxiKTpjLnRvU3RyaW5nKCl9fSx1LnByb3RvdHlwZS50ZXh0PWZ1bmN0aW9uKGEpe3JldHVybiB2b2lkIDA9PT1hP3RoaXMuZmlyc3QoKS50ZXh0Q29udGVudHx8XCJcIjp0aGlzLmVhY2goZnVuY3Rpb24oYil7Yi50ZXh0Q29udGVudD1hfSl9LHUucHJvdG90eXBlLnRvZ2dsZUNsYXNzPWZ1bmN0aW9uKGEsYil7cmV0dXJuISFiPT09Yj90aGlzW2I/XCJhZGRDbGFzc1wiOlwicmVtb3ZlQ2xhc3NcIl0oYSk6dGhpcy5lYWNoYXJnKGEsZnVuY3Rpb24oYSxiKXthLmNsYXNzTGlzdC50b2dnbGUoYil9KX0sdS5wcm90b3R5cGUudHJpZ2dlcj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLnNsaWNlKGFyZ3VtZW50cykuc2xpY2UoMSk7cmV0dXJuIHRoaXMuZWFjaGFyZyhhLGZ1bmN0aW9uKGEsYyl7dmFyIGQsZT17YnViYmxlczohMCxjYW5jZWxhYmxlOiEwLGRldGFpbDpifTt0cnl7ZD1uZXcgd2luZG93LkN1c3RvbUV2ZW50KGMsZSl9Y2F0Y2goZil7ZD1kb2N1bWVudC5jcmVhdGVFdmVudChcIkN1c3RvbUV2ZW50XCIpLGQuaW5pdEN1c3RvbUV2ZW50KGMsITAsITAsYil9YS5kaXNwYXRjaEV2ZW50KGQpfSl9LHUucHJvdG90eXBlLnVuaXF1ZT1mdW5jdGlvbigpe3JldHVybiB1KHRoaXMubm9kZXMucmVkdWNlKGZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbCE9PWImJnZvaWQgMCE9PWImJmIhPT0hMTtyZXR1cm4gYyYmYS5pbmRleE9mKGIpPT09LTE/YS5jb25jYXQoYik6YX0sW10pKX0sdS5wcm90b3R5cGUudXJpPWZ1bmN0aW9uKGEpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQoYSkucmVwbGFjZSgvIS9nLFwiJTIxXCIpLnJlcGxhY2UoLycvZyxcIiUyN1wiKS5yZXBsYWNlKC9cXCgvZyxcIiUyOFwiKS5yZXBsYWNlKC9cXCkvZyxcIiUyOVwiKS5yZXBsYWNlKC9cXCovZyxcIiUyQVwiKS5yZXBsYWNlKC8lMjAvZyxcIitcIil9LHUucHJvdG90eXBlLndyYXA9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtmb3IoO2EuZmlyc3RFbGVtZW50Q2hpbGQ7KWE9YS5maXJzdEVsZW1lbnRDaGlsZDtyZXR1cm4gdShhKX1yZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oYyl7cmV0dXJuIHUoYSkuZWFjaChmdW5jdGlvbihhKXtiKGEpLmFwcGVuZChjLmNsb25lTm9kZSghMCkpLGMucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoYSxjKX0pfSl9LFwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzJiYobW9kdWxlLmV4cG9ydHM9e3U6dSxhamF4OmFqYXh9KTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/umbrellajs/umbrella.min.js\n')},"./src/resources/typescript/app.ts":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar icon_1 = __webpack_require__(/*! ./bulma/icon */ "./src/resources/typescript/bulma/icon.ts");\nvar button_1 = __webpack_require__(/*! ./bulma/button */ "./src/resources/typescript/bulma/button.ts");\nvar choices_1 = __webpack_require__(/*! ./lib/choices */ "./src/resources/typescript/lib/choices.ts");\nvar modal_1 = __webpack_require__(/*! ./bulma/modal */ "./src/resources/typescript/bulma/modal.ts");\nvar light_modal_1 = __webpack_require__(/*! ./bulma/light_modal */ "./src/resources/typescript/bulma/light_modal.ts");\nvar tab_1 = __webpack_require__(/*! ./bulma/tab */ "./src/resources/typescript/bulma/tab.ts");\nvar dropdown_1 = __webpack_require__(/*! ./bulma/dropdown */ "./src/resources/typescript/bulma/dropdown.ts");\nvar offset_1 = __webpack_require__(/*! ./bulma/offset */ "./src/resources/typescript/bulma/offset.ts");\nvar toggle_1 = __webpack_require__(/*! ./bulma/toggle */ "./src/resources/typescript/bulma/toggle.ts");\nvar flush_1 = __webpack_require__(/*! ./flush */ "./src/resources/typescript/flush.ts");\nvar form_1 = __webpack_require__(/*! ./form/form */ "./src/resources/typescript/form/form.ts");\nvar history_1 = __webpack_require__(/*! ./history */ "./src/resources/typescript/history.ts");\nvar cookie_monster_1 = __webpack_require__(/*! ./cookie_monster */ "./src/resources/typescript/cookie_monster.ts");\nvar screen_control_1 = __webpack_require__(/*! ./screen_control */ "./src/resources/typescript/screen_control.ts");\nvar attach_detach_1 = __webpack_require__(/*! ./attach_detach */ "./src/resources/typescript/attach_detach.ts");\nvar umbrella_extends_1 = __webpack_require__(/*! ./extends/umbrella_extends */ "./src/resources/typescript/extends/umbrella_extends.ts");\nvar APP = {\n    button: button_1.default,\n    icon: icon_1.default,\n    choices: choices_1.default,\n    modal: modal_1.default,\n    light_modal: light_modal_1.default,\n    tab: tab_1.default,\n    flush: flush_1.default,\n    form: form_1.default,\n    dropdown: dropdown_1.default,\n    toggle: toggle_1.default,\n    history: new history_1.default(window),\n    cookie: new cookie_monster_1.default("THD", "/", 60 * 60 * 24 * 7 * 4),\n    offset: offset_1.default,\n    attach_detach: attach_detach_1.default,\n    u: umbrella_extends_1.u\n};\n//confirm \nvar confirm_modal = new APP.modal("#confirm");\nconfirm_modal.close = function () {\n    if (confirm_modal.transaction) {\n        return;\n    }\n    confirm_modal.close();\n    confirm_modal.button.state = "primary";\n    confirm_modal.button.text = "Done";\n    confirm_modal.button.enable();\n    confirm_modal.button.icon.spin(false);\n    confirm_modal.button.icon.change("fa-check");\n};\nAPP["confirm"] = function (title, body, callback) {\n    confirm_modal.title(title);\n    confirm_modal.body(body);\n    confirm_modal.button.click = function (button) {\n        callback(confirm_modal);\n    };\n    confirm_modal.open();\n    confirm_modal.button.focus();\n};\nvar light_confirm_modal = new light_modal_1.default("#light-modal-container", {\n    "done": ".done",\n    "cancel": ".cancel",\n    "message": ".light-modal-message",\n    "close": ".cancel,.delete"\n});\nAPP["confirm_light"] = function (args) {\n    light_confirm_modal.open(args);\n};\nAPP["token"] = function () {\n    var tag = document.querySelector("[name=\'csrf-token\']");\n    if (tag === null) {\n        return "";\n    }\n    return tag.getAttribute("content");\n};\n//tab\nnew APP.tab(".tabs");\n//flush\nnew APP.flush("#flush");\n//offset\nnew APP.offset("#offset-container", "#main-container", APP.cookie);\n//dropdown\nnew APP.dropdown(".has-dropdown");\n//toggle\nnew APP.toggle(".toggle");\n//choices\nnew APP.choices("[data-choice=\'on\']");\n//screen controll\nvar sc = new screen_control_1.default("#thd-lock");\nAPP["lock"] = sc.lock;\nApplicationCache["unlock"] = sc.unlock;\n//flatpicker\nvar flatpickr = __webpack_require__(/*! flatpickr */ "./node_modules/flatpickr/dist/flatpickr.js");\nvar confirmDate = __webpack_require__(/*! flatpickr/dist/plugins/confirmDate/confirmDate */ "./node_modules/flatpickr/dist/plugins/confirmDate/confirmDate.js");\nflatpickr(".calender", {});\nflatpickr(".calendar-time", {\n    "enableTime": true,\n    "enableSeconds": true,\n    "time_24hr": true,\n    "plugins": [new confirmDate({})]\n});\nwindow["APP"] = APP;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVzb3VyY2VzL3R5cGVzY3JpcHQvYXBwLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3Jlc291cmNlcy90eXBlc2NyaXB0L2FwcC50cz80ZDFkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGljb25fMSA9IHJlcXVpcmUoXCIuL2J1bG1hL2ljb25cIik7XG52YXIgYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9idWxtYS9idXR0b25cIik7XG52YXIgY2hvaWNlc18xID0gcmVxdWlyZShcIi4vbGliL2Nob2ljZXNcIik7XG52YXIgbW9kYWxfMSA9IHJlcXVpcmUoXCIuL2J1bG1hL21vZGFsXCIpO1xudmFyIGxpZ2h0X21vZGFsXzEgPSByZXF1aXJlKFwiLi9idWxtYS9saWdodF9tb2RhbFwiKTtcbnZhciB0YWJfMSA9IHJlcXVpcmUoXCIuL2J1bG1hL3RhYlwiKTtcbnZhciBkcm9wZG93bl8xID0gcmVxdWlyZShcIi4vYnVsbWEvZHJvcGRvd25cIik7XG52YXIgb2Zmc2V0XzEgPSByZXF1aXJlKFwiLi9idWxtYS9vZmZzZXRcIik7XG52YXIgdG9nZ2xlXzEgPSByZXF1aXJlKFwiLi9idWxtYS90b2dnbGVcIik7XG52YXIgZmx1c2hfMSA9IHJlcXVpcmUoXCIuL2ZsdXNoXCIpO1xudmFyIGZvcm1fMSA9IHJlcXVpcmUoXCIuL2Zvcm0vZm9ybVwiKTtcbnZhciBoaXN0b3J5XzEgPSByZXF1aXJlKFwiLi9oaXN0b3J5XCIpO1xudmFyIGNvb2tpZV9tb25zdGVyXzEgPSByZXF1aXJlKFwiLi9jb29raWVfbW9uc3RlclwiKTtcbnZhciBzY3JlZW5fY29udHJvbF8xID0gcmVxdWlyZShcIi4vc2NyZWVuX2NvbnRyb2xcIik7XG52YXIgYXR0YWNoX2RldGFjaF8xID0gcmVxdWlyZShcIi4vYXR0YWNoX2RldGFjaFwiKTtcbnZhciB1bWJyZWxsYV9leHRlbmRzXzEgPSByZXF1aXJlKFwiLi9leHRlbmRzL3VtYnJlbGxhX2V4dGVuZHNcIik7XG52YXIgQVBQID0ge1xuICAgIGJ1dHRvbjogYnV0dG9uXzEuZGVmYXVsdCxcbiAgICBpY29uOiBpY29uXzEuZGVmYXVsdCxcbiAgICBjaG9pY2VzOiBjaG9pY2VzXzEuZGVmYXVsdCxcbiAgICBtb2RhbDogbW9kYWxfMS5kZWZhdWx0LFxuICAgIGxpZ2h0X21vZGFsOiBsaWdodF9tb2RhbF8xLmRlZmF1bHQsXG4gICAgdGFiOiB0YWJfMS5kZWZhdWx0LFxuICAgIGZsdXNoOiBmbHVzaF8xLmRlZmF1bHQsXG4gICAgZm9ybTogZm9ybV8xLmRlZmF1bHQsXG4gICAgZHJvcGRvd246IGRyb3Bkb3duXzEuZGVmYXVsdCxcbiAgICB0b2dnbGU6IHRvZ2dsZV8xLmRlZmF1bHQsXG4gICAgaGlzdG9yeTogbmV3IGhpc3RvcnlfMS5kZWZhdWx0KHdpbmRvdyksXG4gICAgY29va2llOiBuZXcgY29va2llX21vbnN0ZXJfMS5kZWZhdWx0KFwiVEhEXCIsIFwiL1wiLCA2MCAqIDYwICogMjQgKiA3ICogNCksXG4gICAgb2Zmc2V0OiBvZmZzZXRfMS5kZWZhdWx0LFxuICAgIGF0dGFjaF9kZXRhY2g6IGF0dGFjaF9kZXRhY2hfMS5kZWZhdWx0LFxuICAgIHU6IHVtYnJlbGxhX2V4dGVuZHNfMS51XG59O1xuLy9jb25maXJtIFxudmFyIGNvbmZpcm1fbW9kYWwgPSBuZXcgQVBQLm1vZGFsKFwiI2NvbmZpcm1cIik7XG5jb25maXJtX21vZGFsLmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChjb25maXJtX21vZGFsLnRyYW5zYWN0aW9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uZmlybV9tb2RhbC5jbG9zZSgpO1xuICAgIGNvbmZpcm1fbW9kYWwuYnV0dG9uLnN0YXRlID0gXCJwcmltYXJ5XCI7XG4gICAgY29uZmlybV9tb2RhbC5idXR0b24udGV4dCA9IFwiRG9uZVwiO1xuICAgIGNvbmZpcm1fbW9kYWwuYnV0dG9uLmVuYWJsZSgpO1xuICAgIGNvbmZpcm1fbW9kYWwuYnV0dG9uLmljb24uc3BpbihmYWxzZSk7XG4gICAgY29uZmlybV9tb2RhbC5idXR0b24uaWNvbi5jaGFuZ2UoXCJmYS1jaGVja1wiKTtcbn07XG5BUFBbXCJjb25maXJtXCJdID0gZnVuY3Rpb24gKHRpdGxlLCBib2R5LCBjYWxsYmFjaykge1xuICAgIGNvbmZpcm1fbW9kYWwudGl0bGUodGl0bGUpO1xuICAgIGNvbmZpcm1fbW9kYWwuYm9keShib2R5KTtcbiAgICBjb25maXJtX21vZGFsLmJ1dHRvbi5jbGljayA9IGZ1bmN0aW9uIChidXR0b24pIHtcbiAgICAgICAgY2FsbGJhY2soY29uZmlybV9tb2RhbCk7XG4gICAgfTtcbiAgICBjb25maXJtX21vZGFsLm9wZW4oKTtcbiAgICBjb25maXJtX21vZGFsLmJ1dHRvbi5mb2N1cygpO1xufTtcbnZhciBsaWdodF9jb25maXJtX21vZGFsID0gbmV3IGxpZ2h0X21vZGFsXzEuZGVmYXVsdChcIiNsaWdodC1tb2RhbC1jb250YWluZXJcIiwge1xuICAgIFwiZG9uZVwiOiBcIi5kb25lXCIsXG4gICAgXCJjYW5jZWxcIjogXCIuY2FuY2VsXCIsXG4gICAgXCJtZXNzYWdlXCI6IFwiLmxpZ2h0LW1vZGFsLW1lc3NhZ2VcIixcbiAgICBcImNsb3NlXCI6IFwiLmNhbmNlbCwuZGVsZXRlXCJcbn0pO1xuQVBQW1wiY29uZmlybV9saWdodFwiXSA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgbGlnaHRfY29uZmlybV9tb2RhbC5vcGVuKGFyZ3MpO1xufTtcbkFQUFtcInRva2VuXCJdID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0YWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW25hbWU9J2NzcmYtdG9rZW4nXVwiKTtcbiAgICBpZiAodGFnID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICByZXR1cm4gdGFnLmdldEF0dHJpYnV0ZShcImNvbnRlbnRcIik7XG59O1xuLy90YWJcbm5ldyBBUFAudGFiKFwiLnRhYnNcIik7XG4vL2ZsdXNoXG5uZXcgQVBQLmZsdXNoKFwiI2ZsdXNoXCIpO1xuLy9vZmZzZXRcbm5ldyBBUFAub2Zmc2V0KFwiI29mZnNldC1jb250YWluZXJcIiwgXCIjbWFpbi1jb250YWluZXJcIiwgQVBQLmNvb2tpZSk7XG4vL2Ryb3Bkb3duXG5uZXcgQVBQLmRyb3Bkb3duKFwiLmhhcy1kcm9wZG93blwiKTtcbi8vdG9nZ2xlXG5uZXcgQVBQLnRvZ2dsZShcIi50b2dnbGVcIik7XG4vL2Nob2ljZXNcbm5ldyBBUFAuY2hvaWNlcyhcIltkYXRhLWNob2ljZT0nb24nXVwiKTtcbi8vc2NyZWVuIGNvbnRyb2xsXG52YXIgc2MgPSBuZXcgc2NyZWVuX2NvbnRyb2xfMS5kZWZhdWx0KFwiI3RoZC1sb2NrXCIpO1xuQVBQW1wibG9ja1wiXSA9IHNjLmxvY2s7XG5BcHBsaWNhdGlvbkNhY2hlW1widW5sb2NrXCJdID0gc2MudW5sb2NrO1xuLy9mbGF0cGlja2VyXG52YXIgZmxhdHBpY2tyID0gcmVxdWlyZShcImZsYXRwaWNrclwiKTtcbnZhciBjb25maXJtRGF0ZSA9IHJlcXVpcmUoXCJmbGF0cGlja3IvZGlzdC9wbHVnaW5zL2NvbmZpcm1EYXRlL2NvbmZpcm1EYXRlXCIpO1xuZmxhdHBpY2tyKFwiLmNhbGVuZGVyXCIsIHt9KTtcbmZsYXRwaWNrcihcIi5jYWxlbmRhci10aW1lXCIsIHtcbiAgICBcImVuYWJsZVRpbWVcIjogdHJ1ZSxcbiAgICBcImVuYWJsZVNlY29uZHNcIjogdHJ1ZSxcbiAgICBcInRpbWVfMjRoclwiOiB0cnVlLFxuICAgIFwicGx1Z2luc1wiOiBbbmV3IGNvbmZpcm1EYXRlKHt9KV1cbn0pO1xud2luZG93W1wiQVBQXCJdID0gQVBQO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/resources/typescript/app.ts\n')},"./src/resources/typescript/attach_detach.ts":function(module,exports,__webpack_require__){"use strict";eval('\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, "__esModule", { value: true });\nvar umbrella_extends_1 = __webpack_require__(/*! ./extends/umbrella_extends */ "./src/resources/typescript/extends/umbrella_extends.ts");\nvar button_1 = __webpack_require__(/*! ./bulma/button */ "./src/resources/typescript/bulma/button.ts");\nvar attach_detach_button = /** @class */ (function (_super) {\n    __extends(attach_detach_button, _super);\n    function attach_detach_button() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.give = function (has) {\n            _this.button.addClass("is-primary");\n            _this.button.attr(has, "yes");\n        };\n        _this.take = function (has) {\n            _this.button.removeClass("is-primary");\n            _this.button.attr(has, "no");\n        };\n        return _this;\n    }\n    return attach_detach_button;\n}(button_1.default));\nvar attach_detach = /** @class */ (function () {\n    function attach_detach(options) {\n        var _this = this;\n        this.to_sanke = function (str) {\n            return str.toLowerCase().replace(/\\-/gi, "_");\n        };\n        this.put_options = function (button) {\n            var options = {\n                "method": "PATCH",\n                "credentials": "same-origin",\n                "headers": {\n                    \'Accept\': \'application/json\',\n                    \'X-Requested-With\': \'XMLHttpRequest\',\n                    \'Content-Type\': \'application/json\',\n                    \'X-CSRF-TOKEN\': _this.options.token\n                }\n            };\n            var opt = _this.options;\n            var body = {};\n            body[_this.to_sanke(opt.model)] = button.attr(opt.prefix + opt.model);\n            body[_this.to_sanke(opt.attach_model)] = button.attr(opt.prefix + opt.attach_model);\n            options.body = JSON.stringify(body);\n            return options;\n        };\n        this.init = function () {\n            var buttons = umbrella_extends_1.u("[" + _this.options.prefix + _this.options.button + "]");\n            buttons.each(_this.toggle);\n        };\n        this.attach = function (button) {\n            fetch(_this.options.url.attach, _this.put_options(button)).then(function (response) {\n                if (response.status === 200) {\n                    return response.json();\n                }\n                throw response;\n            }).then(function (data) {\n                button.give(_this.options.prefix + _this.options.has);\n                button.loading = false;\n            }).catch(function (e) {\n            });\n        };\n        this.detach = function (button) {\n            fetch(_this.options.url.detach, _this.put_options(button)).then(function (response) {\n                if (response.status === 200) {\n                    return response.json();\n                }\n                throw response;\n            }).then(function (data) {\n                button.take(_this.options.prefix + _this.options.has);\n                button.loading = false;\n            }).catch(function (e) {\n            });\n        };\n        this.toggle = function (node) {\n            var btn = new attach_detach_button(node);\n            btn.click = function (button) {\n                var has = button.attr(_this.options.prefix + _this.options.has);\n                button.loading = true;\n                if (has === "yes") {\n                    _this.detach(button);\n                    return;\n                }\n                _this.attach(button);\n            };\n        };\n        this.options = options;\n        this.init();\n    }\n    return attach_detach;\n}());\nexports.default = attach_detach;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVzb3VyY2VzL3R5cGVzY3JpcHQvYXR0YWNoX2RldGFjaC50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9yZXNvdXJjZXMvdHlwZXNjcmlwdC9hdHRhY2hfZGV0YWNoLnRzPzAyYzAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB1bWJyZWxsYV9leHRlbmRzXzEgPSByZXF1aXJlKFwiLi9leHRlbmRzL3VtYnJlbGxhX2V4dGVuZHNcIik7XG52YXIgYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9idWxtYS9idXR0b25cIik7XG52YXIgYXR0YWNoX2RldGFjaF9idXR0b24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKGF0dGFjaF9kZXRhY2hfYnV0dG9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIGF0dGFjaF9kZXRhY2hfYnV0dG9uKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZ2l2ZSA9IGZ1bmN0aW9uIChoYXMpIHtcbiAgICAgICAgICAgIF90aGlzLmJ1dHRvbi5hZGRDbGFzcyhcImlzLXByaW1hcnlcIik7XG4gICAgICAgICAgICBfdGhpcy5idXR0b24uYXR0cihoYXMsIFwieWVzXCIpO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy50YWtlID0gZnVuY3Rpb24gKGhhcykge1xuICAgICAgICAgICAgX3RoaXMuYnV0dG9uLnJlbW92ZUNsYXNzKFwiaXMtcHJpbWFyeVwiKTtcbiAgICAgICAgICAgIF90aGlzLmJ1dHRvbi5hdHRyKGhhcywgXCJub1wiKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gYXR0YWNoX2RldGFjaF9idXR0b247XG59KGJ1dHRvbl8xLmRlZmF1bHQpKTtcbnZhciBhdHRhY2hfZGV0YWNoID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGF0dGFjaF9kZXRhY2gob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnRvX3NhbmtlID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICAgICAgcmV0dXJuIHN0ci50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xcLS9naSwgXCJfXCIpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnB1dF9vcHRpb25zID0gZnVuY3Rpb24gKGJ1dHRvbikge1xuICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgXCJtZXRob2RcIjogXCJQQVRDSFwiLFxuICAgICAgICAgICAgICAgIFwiY3JlZGVudGlhbHNcIjogXCJzYW1lLW9yaWdpblwiLFxuICAgICAgICAgICAgICAgIFwiaGVhZGVyc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgICdYLVJlcXVlc3RlZC1XaXRoJzogJ1hNTEh0dHBSZXF1ZXN0JyxcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAgICAgJ1gtQ1NSRi1UT0tFTic6IF90aGlzLm9wdGlvbnMudG9rZW5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIG9wdCA9IF90aGlzLm9wdGlvbnM7XG4gICAgICAgICAgICB2YXIgYm9keSA9IHt9O1xuICAgICAgICAgICAgYm9keVtfdGhpcy50b19zYW5rZShvcHQubW9kZWwpXSA9IGJ1dHRvbi5hdHRyKG9wdC5wcmVmaXggKyBvcHQubW9kZWwpO1xuICAgICAgICAgICAgYm9keVtfdGhpcy50b19zYW5rZShvcHQuYXR0YWNoX21vZGVsKV0gPSBidXR0b24uYXR0cihvcHQucHJlZml4ICsgb3B0LmF0dGFjaF9tb2RlbCk7XG4gICAgICAgICAgICBvcHRpb25zLmJvZHkgPSBKU09OLnN0cmluZ2lmeShib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmluaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYnV0dG9ucyA9IHVtYnJlbGxhX2V4dGVuZHNfMS51KFwiW1wiICsgX3RoaXMub3B0aW9ucy5wcmVmaXggKyBfdGhpcy5vcHRpb25zLmJ1dHRvbiArIFwiXVwiKTtcbiAgICAgICAgICAgIGJ1dHRvbnMuZWFjaChfdGhpcy50b2dnbGUpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmF0dGFjaCA9IGZ1bmN0aW9uIChidXR0b24pIHtcbiAgICAgICAgICAgIGZldGNoKF90aGlzLm9wdGlvbnMudXJsLmF0dGFjaCwgX3RoaXMucHV0X29wdGlvbnMoYnV0dG9uKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgcmVzcG9uc2U7XG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgYnV0dG9uLmdpdmUoX3RoaXMub3B0aW9ucy5wcmVmaXggKyBfdGhpcy5vcHRpb25zLmhhcyk7XG4gICAgICAgICAgICAgICAgYnV0dG9uLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kZXRhY2ggPSBmdW5jdGlvbiAoYnV0dG9uKSB7XG4gICAgICAgICAgICBmZXRjaChfdGhpcy5vcHRpb25zLnVybC5kZXRhY2gsIF90aGlzLnB1dF9vcHRpb25zKGJ1dHRvbikpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IHJlc3BvbnNlO1xuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIGJ1dHRvbi50YWtlKF90aGlzLm9wdGlvbnMucHJlZml4ICsgX3RoaXMub3B0aW9ucy5oYXMpO1xuICAgICAgICAgICAgICAgIGJ1dHRvbi5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudG9nZ2xlID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgIHZhciBidG4gPSBuZXcgYXR0YWNoX2RldGFjaF9idXR0b24obm9kZSk7XG4gICAgICAgICAgICBidG4uY2xpY2sgPSBmdW5jdGlvbiAoYnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhhcyA9IGJ1dHRvbi5hdHRyKF90aGlzLm9wdGlvbnMucHJlZml4ICsgX3RoaXMub3B0aW9ucy5oYXMpO1xuICAgICAgICAgICAgICAgIGJ1dHRvbi5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoaGFzID09PSBcInllc1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRldGFjaChidXR0b24pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF90aGlzLmF0dGFjaChidXR0b24pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuICAgIHJldHVybiBhdHRhY2hfZGV0YWNoO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IGF0dGFjaF9kZXRhY2g7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/resources/typescript/attach_detach.ts\n')},"./src/resources/typescript/bulma/button.ts":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar umbrella_extends_1 = __webpack_require__(/*! ../extends/umbrella_extends */ "./src/resources/typescript/extends/umbrella_extends.ts");\nvar config_1 = __webpack_require__(/*! ../config */ "./src/resources/typescript/config.ts");\nvar icon_1 = __webpack_require__(/*! ./icon */ "./src/resources/typescript/bulma/icon.ts");\nvar button = /** @class */ (function () {\n    function button(element) {\n        var _this = this;\n        this.attr = function (attrName) {\n            return _this.button.attr(attrName);\n        };\n        /*\n        public status = (status : string) => {\n            this.button.removeClass(config.statuses);\n            this.button.addClass(config.prefix + status);\n        }\n        */\n        this._state = "";\n        this.change_state = function () {\n            _this.button.removeClass(config_1.default.statuses);\n            if (_this._state !== "") {\n                _this.button.addClass(config_1.default.prefix + _this._state);\n            }\n        };\n        this.disable = function () {\n            _this.button.attr("disabled", "disabled");\n            _this.state = "";\n        };\n        this.enable = function () {\n            _this.button.removeAttr("disabled");\n            _this.state = "primary";\n        };\n        this.reset = function () {\n            _this.text = _this.initial.text;\n            _this.button.nodes[0].className = _this.initial.className;\n        };\n        this.focus = function () {\n            _this.element.focus();\n        };\n        this.click = function (button) {\n        };\n        this.button = umbrella_extends_1.u(element);\n        if (this.button.length === 0) {\n            return;\n        }\n        this.element = element;\n        var inner_icon = this.button.find(".icon");\n        inner_icon.each(function (node) {\n            _this.icon = new icon_1.default(node);\n            return;\n        });\n        this.textNode = document.createElement(\'span\');\n        if (this.button.find(".text").nodes[0]) {\n            this.textNode = this.button.find(".text").nodes[0];\n        }\n        this.initial = {\n            text: this.textNode.innerHTML,\n            className: this.button.nodes[0].className\n        };\n        this.button.on("click", function () {\n            _this.click(_this);\n        });\n    }\n    Object.defineProperty(button.prototype, "state", {\n        get: function () {\n            return this._state;\n        },\n        set: function (state) {\n            this._state = state;\n            this.change_state();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(button.prototype, "text", {\n        set: function (text) {\n            this.textNode.innerHTML = text;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(button.prototype, "loading", {\n        set: function (state) {\n            if (!state) {\n                this.button.removeClass("is-loading");\n                return;\n            }\n            this.button.addClass("is-loading");\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return button;\n}());\nexports.default = button;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVzb3VyY2VzL3R5cGVzY3JpcHQvYnVsbWEvYnV0dG9uLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3Jlc291cmNlcy90eXBlc2NyaXB0L2J1bG1hL2J1dHRvbi50cz80ODdlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHVtYnJlbGxhX2V4dGVuZHNfMSA9IHJlcXVpcmUoXCIuLi9leHRlbmRzL3VtYnJlbGxhX2V4dGVuZHNcIik7XG52YXIgY29uZmlnXzEgPSByZXF1aXJlKFwiLi4vY29uZmlnXCIpO1xudmFyIGljb25fMSA9IHJlcXVpcmUoXCIuL2ljb25cIik7XG52YXIgYnV0dG9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGJ1dHRvbihlbGVtZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuYXR0ciA9IGZ1bmN0aW9uIChhdHRyTmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmJ1dHRvbi5hdHRyKGF0dHJOYW1lKTtcbiAgICAgICAgfTtcbiAgICAgICAgLypcbiAgICAgICAgcHVibGljIHN0YXR1cyA9IChzdGF0dXMgOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYnV0dG9uLnJlbW92ZUNsYXNzKGNvbmZpZy5zdGF0dXNlcyk7XG4gICAgICAgICAgICB0aGlzLmJ1dHRvbi5hZGRDbGFzcyhjb25maWcucHJlZml4ICsgc3RhdHVzKTtcbiAgICAgICAgfVxuICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zdGF0ZSA9IFwiXCI7XG4gICAgICAgIHRoaXMuY2hhbmdlX3N0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuYnV0dG9uLnJlbW92ZUNsYXNzKGNvbmZpZ18xLmRlZmF1bHQuc3RhdHVzZXMpO1xuICAgICAgICAgICAgaWYgKF90aGlzLl9zdGF0ZSAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAgIF90aGlzLmJ1dHRvbi5hZGRDbGFzcyhjb25maWdfMS5kZWZhdWx0LnByZWZpeCArIF90aGlzLl9zdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZGlzYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmJ1dHRvbi5hdHRyKFwiZGlzYWJsZWRcIiwgXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgICAgIF90aGlzLnN0YXRlID0gXCJcIjtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5lbmFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5idXR0b24ucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpO1xuICAgICAgICAgICAgX3RoaXMuc3RhdGUgPSBcInByaW1hcnlcIjtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLnRleHQgPSBfdGhpcy5pbml0aWFsLnRleHQ7XG4gICAgICAgICAgICBfdGhpcy5idXR0b24ubm9kZXNbMF0uY2xhc3NOYW1lID0gX3RoaXMuaW5pdGlhbC5jbGFzc05hbWU7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZm9jdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5lbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY2xpY2sgPSBmdW5jdGlvbiAoYnV0dG9uKSB7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYnV0dG9uID0gdW1icmVsbGFfZXh0ZW5kc18xLnUoZWxlbWVudCk7XG4gICAgICAgIGlmICh0aGlzLmJ1dHRvbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB2YXIgaW5uZXJfaWNvbiA9IHRoaXMuYnV0dG9uLmZpbmQoXCIuaWNvblwiKTtcbiAgICAgICAgaW5uZXJfaWNvbi5lYWNoKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICBfdGhpcy5pY29uID0gbmV3IGljb25fMS5kZWZhdWx0KG5vZGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy50ZXh0Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgaWYgKHRoaXMuYnV0dG9uLmZpbmQoXCIudGV4dFwiKS5ub2Rlc1swXSkge1xuICAgICAgICAgICAgdGhpcy50ZXh0Tm9kZSA9IHRoaXMuYnV0dG9uLmZpbmQoXCIudGV4dFwiKS5ub2Rlc1swXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmluaXRpYWwgPSB7XG4gICAgICAgICAgICB0ZXh0OiB0aGlzLnRleHROb2RlLmlubmVySFRNTCxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogdGhpcy5idXR0b24ubm9kZXNbMF0uY2xhc3NOYW1lXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYnV0dG9uLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuY2xpY2soX3RoaXMpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGJ1dHRvbi5wcm90b3R5cGUsIFwic3RhdGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gc3RhdGU7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZV9zdGF0ZSgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYnV0dG9uLnByb3RvdHlwZSwgXCJ0ZXh0XCIsIHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodGV4dCkge1xuICAgICAgICAgICAgdGhpcy50ZXh0Tm9kZS5pbm5lckhUTUwgPSB0ZXh0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYnV0dG9uLnByb3RvdHlwZSwgXCJsb2FkaW5nXCIsIHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgICAgIGlmICghc3RhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1dHRvbi5yZW1vdmVDbGFzcyhcImlzLWxvYWRpbmdcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5idXR0b24uYWRkQ2xhc3MoXCJpcy1sb2FkaW5nXCIpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gYnV0dG9uO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IGJ1dHRvbjtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/resources/typescript/bulma/button.ts\n')},"./src/resources/typescript/bulma/dropdown.ts":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar umbrella_extends_1 = __webpack_require__(/*! ../extends/umbrella_extends */ "./src/resources/typescript/extends/umbrella_extends.ts");\nvar dropdown = /** @class */ (function () {\n    function dropdown(selector) {\n        this.open = function (element) {\n            var active_class = "is-active";\n            if (element.hasClass(active_class)) {\n                element.removeClass(active_class);\n                return;\n            }\n            element.addClass(active_class);\n            element.one("mouseleave", function () {\n                element.removeClass(active_class);\n            });\n        };\n        var drop_container = umbrella_extends_1.u(selector);\n        if (drop_container.length === 0) {\n            return;\n        }\n        var self = this;\n        drop_container.on("click", function () {\n            self.open(umbrella_extends_1.u(this));\n        });\n    }\n    return dropdown;\n}());\nexports.default = dropdown;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVzb3VyY2VzL3R5cGVzY3JpcHQvYnVsbWEvZHJvcGRvd24udHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcmVzb3VyY2VzL3R5cGVzY3JpcHQvYnVsbWEvZHJvcGRvd24udHM/OWQzNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB1bWJyZWxsYV9leHRlbmRzXzEgPSByZXF1aXJlKFwiLi4vZXh0ZW5kcy91bWJyZWxsYV9leHRlbmRzXCIpO1xudmFyIGRyb3Bkb3duID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGRyb3Bkb3duKHNlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMub3BlbiA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgICAgICB2YXIgYWN0aXZlX2NsYXNzID0gXCJpcy1hY3RpdmVcIjtcbiAgICAgICAgICAgIGlmIChlbGVtZW50Lmhhc0NsYXNzKGFjdGl2ZV9jbGFzcykpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKGFjdGl2ZV9jbGFzcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhhY3RpdmVfY2xhc3MpO1xuICAgICAgICAgICAgZWxlbWVudC5vbmUoXCJtb3VzZWxlYXZlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKGFjdGl2ZV9jbGFzcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGRyb3BfY29udGFpbmVyID0gdW1icmVsbGFfZXh0ZW5kc18xLnUoc2VsZWN0b3IpO1xuICAgICAgICBpZiAoZHJvcF9jb250YWluZXIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBkcm9wX2NvbnRhaW5lci5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNlbGYub3Blbih1bWJyZWxsYV9leHRlbmRzXzEudSh0aGlzKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZHJvcGRvd247XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gZHJvcGRvd247XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/resources/typescript/bulma/dropdown.ts\n')},"./src/resources/typescript/bulma/icon.ts":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar umbrella_extends_1 = __webpack_require__(/*! ../extends/umbrella_extends */ "./src/resources/typescript/extends/umbrella_extends.ts");\nvar icon = /** @class */ (function () {\n    function icon(element) {\n        var _this = this;\n        this.prefix = "fa";\n        this.change = function (type) {\n            _this.container.each(function (node) {\n                var classes = node.classList;\n                for (var i = 0; i < classes.length; i++) {\n                    if (classes[i] === "fa") {\n                        continue;\n                    }\n                    ;\n                    classes.remove(classes[i]);\n                }\n                classes.add("fa-" + type);\n            });\n        };\n        this.spin = function (action) {\n            if (action === false) {\n                _this.container.removeClass("fa-spin");\n                return;\n            }\n            if (!_this.container.hasClass("fa-spin")) {\n                _this.container.addClass("fa-spin");\n            }\n        };\n        this.icon = umbrella_extends_1.u(element);\n        this.container = this.icon.find("." + this.prefix);\n    }\n    return icon;\n}());\nexports.default = icon;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVzb3VyY2VzL3R5cGVzY3JpcHQvYnVsbWEvaWNvbi50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9yZXNvdXJjZXMvdHlwZXNjcmlwdC9idWxtYS9pY29uLnRzP2ExMGYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdW1icmVsbGFfZXh0ZW5kc18xID0gcmVxdWlyZShcIi4uL2V4dGVuZHMvdW1icmVsbGFfZXh0ZW5kc1wiKTtcbnZhciBpY29uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGljb24oZWxlbWVudCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnByZWZpeCA9IFwiZmFcIjtcbiAgICAgICAgdGhpcy5jaGFuZ2UgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICAgICAgX3RoaXMuY29udGFpbmVyLmVhY2goZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2xhc3NlcyA9IG5vZGUuY2xhc3NMaXN0O1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2xhc3Nlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2xhc3Nlc1tpXSA9PT0gXCJmYVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzZXMucmVtb3ZlKGNsYXNzZXNbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjbGFzc2VzLmFkZChcImZhLVwiICsgdHlwZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zcGluID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICAgICAgaWYgKGFjdGlvbiA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5jb250YWluZXIucmVtb3ZlQ2xhc3MoXCJmYS1zcGluXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghX3RoaXMuY29udGFpbmVyLmhhc0NsYXNzKFwiZmEtc3BpblwiKSkge1xuICAgICAgICAgICAgICAgIF90aGlzLmNvbnRhaW5lci5hZGRDbGFzcyhcImZhLXNwaW5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaWNvbiA9IHVtYnJlbGxhX2V4dGVuZHNfMS51KGVsZW1lbnQpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IHRoaXMuaWNvbi5maW5kKFwiLlwiICsgdGhpcy5wcmVmaXgpO1xuICAgIH1cbiAgICByZXR1cm4gaWNvbjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBpY29uO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/resources/typescript/bulma/icon.ts\n')},"./src/resources/typescript/bulma/light_modal.ts":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar umbrella_extends_1 = __webpack_require__(/*! ../extends/umbrella_extends */ "./src/resources/typescript/extends/umbrella_extends.ts");\nvar config_1 = __webpack_require__(/*! ../config */ "./src/resources/typescript/config.ts");\nvar button_1 = __webpack_require__(/*! ./button */ "./src/resources/typescript/bulma/button.ts");\nvar light_modal = /** @class */ (function () {\n    function light_modal(selector, options) {\n        var _this = this;\n        this.done = function () { };\n        this.status = function (state) {\n            _this.modal.removeClass(config_1.default.statuses);\n            if (typeof state === "undefined") {\n                return false;\n            }\n            _this.modal.addClass("is-" + state);\n            _this.modal.addClass("is-" + state);\n        };\n        this.clear = function () {\n            _this.status("primary");\n            _this.button.done.reset();\n            _this.button.cancel.reset();\n            _this.done = function (modal) { };\n        };\n        this.open = function (args) {\n            _this.done = args.done;\n            _this.before_focus = document.activeElement;\n            _this.message = args.message;\n            _this.button.done.text = args.done_text;\n            _this.button.cancel.text = args.cancel_text;\n            _this.active();\n            _this.focus(args.focus);\n            _this.status(args.status);\n        };\n        this.focus = function (focusType) {\n            if (typeof focusType === "undefined" || focusType === "cancel") {\n                _this.button.cancel.focus();\n            }\n            if (focusType === "done") {\n                _this.button.done.focus();\n            }\n        };\n        this.active = function () {\n            _this.modal.addClass("is-active");\n        };\n        this.inactive = function () {\n            _this.modal.removeClass("is-active");\n        };\n        this.close = function () {\n            _this.clear();\n            _this.inactive();\n            _this.before_focus.focus();\n        };\n        this.modal = umbrella_extends_1.u(selector);\n        if (this.modal.length === 0) {\n            return;\n        }\n        var done = this.modal.find(options.done);\n        var cancel = this.modal.find(options.cancel);\n        this.button = {\n            done: new button_1.default(done.nodes[0]),\n            cancel: new button_1.default(cancel.nodes[0])\n        };\n        var self = this;\n        done.on("click", function () {\n            self.done(self);\n        });\n        this.modal.find(options.close).on("click", this.close);\n        this._message = this.modal.find(options.message).nodes[0];\n    }\n    Object.defineProperty(light_modal.prototype, "message", {\n        set: function (msg) {\n            this._message.innerHTML = msg;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return light_modal;\n}());\nexports.default = light_modal;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVzb3VyY2VzL3R5cGVzY3JpcHQvYnVsbWEvbGlnaHRfbW9kYWwudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcmVzb3VyY2VzL3R5cGVzY3JpcHQvYnVsbWEvbGlnaHRfbW9kYWwudHM/NzQ5MSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB1bWJyZWxsYV9leHRlbmRzXzEgPSByZXF1aXJlKFwiLi4vZXh0ZW5kcy91bWJyZWxsYV9leHRlbmRzXCIpO1xudmFyIGNvbmZpZ18xID0gcmVxdWlyZShcIi4uL2NvbmZpZ1wiKTtcbnZhciBidXR0b25fMSA9IHJlcXVpcmUoXCIuL2J1dHRvblwiKTtcbnZhciBsaWdodF9tb2RhbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBsaWdodF9tb2RhbChzZWxlY3Rvciwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmRvbmUgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgICAgIHRoaXMuc3RhdHVzID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgICAgICBfdGhpcy5tb2RhbC5yZW1vdmVDbGFzcyhjb25maWdfMS5kZWZhdWx0LnN0YXR1c2VzKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5tb2RhbC5hZGRDbGFzcyhcImlzLVwiICsgc3RhdGUpO1xuICAgICAgICAgICAgX3RoaXMubW9kYWwuYWRkQ2xhc3MoXCJpcy1cIiArIHN0YXRlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLnN0YXR1cyhcInByaW1hcnlcIik7XG4gICAgICAgICAgICBfdGhpcy5idXR0b24uZG9uZS5yZXNldCgpO1xuICAgICAgICAgICAgX3RoaXMuYnV0dG9uLmNhbmNlbC5yZXNldCgpO1xuICAgICAgICAgICAgX3RoaXMuZG9uZSA9IGZ1bmN0aW9uIChtb2RhbCkgeyB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9wZW4gPSBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICAgICAgX3RoaXMuZG9uZSA9IGFyZ3MuZG9uZTtcbiAgICAgICAgICAgIF90aGlzLmJlZm9yZV9mb2N1cyA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgICAgICAgICBfdGhpcy5tZXNzYWdlID0gYXJncy5tZXNzYWdlO1xuICAgICAgICAgICAgX3RoaXMuYnV0dG9uLmRvbmUudGV4dCA9IGFyZ3MuZG9uZV90ZXh0O1xuICAgICAgICAgICAgX3RoaXMuYnV0dG9uLmNhbmNlbC50ZXh0ID0gYXJncy5jYW5jZWxfdGV4dDtcbiAgICAgICAgICAgIF90aGlzLmFjdGl2ZSgpO1xuICAgICAgICAgICAgX3RoaXMuZm9jdXMoYXJncy5mb2N1cyk7XG4gICAgICAgICAgICBfdGhpcy5zdGF0dXMoYXJncy5zdGF0dXMpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZvY3VzID0gZnVuY3Rpb24gKGZvY3VzVHlwZSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBmb2N1c1R5cGUgPT09IFwidW5kZWZpbmVkXCIgfHwgZm9jdXNUeXBlID09PSBcImNhbmNlbFwiKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuYnV0dG9uLmNhbmNlbC5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZvY3VzVHlwZSA9PT0gXCJkb25lXCIpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5idXR0b24uZG9uZS5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLm1vZGFsLmFkZENsYXNzKFwiaXMtYWN0aXZlXCIpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmluYWN0aXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMubW9kYWwucmVtb3ZlQ2xhc3MoXCJpcy1hY3RpdmVcIik7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5jbGVhcigpO1xuICAgICAgICAgICAgX3RoaXMuaW5hY3RpdmUoKTtcbiAgICAgICAgICAgIF90aGlzLmJlZm9yZV9mb2N1cy5mb2N1cygpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm1vZGFsID0gdW1icmVsbGFfZXh0ZW5kc18xLnUoc2VsZWN0b3IpO1xuICAgICAgICBpZiAodGhpcy5tb2RhbC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZG9uZSA9IHRoaXMubW9kYWwuZmluZChvcHRpb25zLmRvbmUpO1xuICAgICAgICB2YXIgY2FuY2VsID0gdGhpcy5tb2RhbC5maW5kKG9wdGlvbnMuY2FuY2VsKTtcbiAgICAgICAgdGhpcy5idXR0b24gPSB7XG4gICAgICAgICAgICBkb25lOiBuZXcgYnV0dG9uXzEuZGVmYXVsdChkb25lLm5vZGVzWzBdKSxcbiAgICAgICAgICAgIGNhbmNlbDogbmV3IGJ1dHRvbl8xLmRlZmF1bHQoY2FuY2VsLm5vZGVzWzBdKVxuICAgICAgICB9O1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIGRvbmUub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZWxmLmRvbmUoc2VsZik7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1vZGFsLmZpbmQob3B0aW9ucy5jbG9zZSkub24oXCJjbGlja1wiLCB0aGlzLmNsb3NlKTtcbiAgICAgICAgdGhpcy5fbWVzc2FnZSA9IHRoaXMubW9kYWwuZmluZChvcHRpb25zLm1lc3NhZ2UpLm5vZGVzWzBdO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobGlnaHRfbW9kYWwucHJvdG90eXBlLCBcIm1lc3NhZ2VcIiwge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChtc2cpIHtcbiAgICAgICAgICAgIHRoaXMuX21lc3NhZ2UuaW5uZXJIVE1MID0gbXNnO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gbGlnaHRfbW9kYWw7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gbGlnaHRfbW9kYWw7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/resources/typescript/bulma/light_modal.ts\n')},"./src/resources/typescript/bulma/modal.ts":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar umbrella_extends_1 = __webpack_require__(/*! ../extends/umbrella_extends */ "./src/resources/typescript/extends/umbrella_extends.ts");\nvar config_1 = __webpack_require__(/*! ../config */ "./src/resources/typescript/config.ts");\nvar button_1 = __webpack_require__(/*! ./button */ "./src/resources/typescript/bulma/button.ts");\nvar loading = /** @class */ (function () {\n    function loading(modal) {\n        var _this = this;\n        this.config = config_1.default.modal;\n        this.start = function () {\n            var modal = _this.modal;\n            modal.transaction = true;\n            modal.button.disable();\n            modal.button.icon.change(_this.config.done.icon.loading);\n            modal.button.icon.spin(true);\n        };\n        this.end = function (state) {\n            var modal = _this.modal;\n            modal.button.icon.spin(false);\n            modal.transaction = false;\n            modal.button.enable();\n            if (state) {\n                if (state !== "success") {\n                    modal.button.state = state;\n                    modal.button.text = "Error";\n                }\n                modal.button.icon.change(_this.config.done.icon[state]);\n                return;\n            }\n            modal.button.text = "done";\n            modal.button.icon.change(_this.config.done.icon.base);\n        };\n        this.modal = modal;\n    }\n    return loading;\n}());\nvar modal = /** @class */ (function () {\n    function modal(selector) {\n        var _this = this;\n        this.config = config_1.default.modal;\n        this._transaction = false;\n        this.title = function (newTitle) {\n            _this._title.innerHTML = newTitle;\n        };\n        this.body = function (newBody) {\n            _this._body.innerHTML = newBody;\n        };\n        this.close = function () {\n            if (_this.transaction) {\n                return;\n            }\n            _this.modal.removeClass(_this.config.active);\n        };\n        this.open = function () {\n            _this.modal.addClass(_this.config.active);\n        };\n        this.toggle = function () {\n            if (_this.modal.hasClass(_this.config.active)) {\n                _this.close();\n                return;\n            }\n            _this.open();\n        };\n        this.modal = umbrella_extends_1.u(selector);\n        if (this.modal.length === 0) {\n            return;\n        }\n        var btnNode = this.modal.find("." + this.config.done.class).nodes[0];\n        this.button = new button_1.default(btnNode);\n        this._title = this.modal.find("." + this.config.card.title).nodes[0];\n        this._body = this.modal.find("." + this.config.card.body).nodes[0];\n        this.loading = new loading(this);\n        this.modal.find(\'[aria-label="close"]\').on("click", this.close);\n    }\n    Object.defineProperty(modal.prototype, "transaction", {\n        get: function () {\n            return this._transaction;\n        },\n        set: function (state) {\n            this._transaction = state;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return modal;\n}());\nexports.default = modal;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVzb3VyY2VzL3R5cGVzY3JpcHQvYnVsbWEvbW9kYWwudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcmVzb3VyY2VzL3R5cGVzY3JpcHQvYnVsbWEvbW9kYWwudHM/MGU5ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB1bWJyZWxsYV9leHRlbmRzXzEgPSByZXF1aXJlKFwiLi4vZXh0ZW5kcy91bWJyZWxsYV9leHRlbmRzXCIpO1xudmFyIGNvbmZpZ18xID0gcmVxdWlyZShcIi4uL2NvbmZpZ1wiKTtcbnZhciBidXR0b25fMSA9IHJlcXVpcmUoXCIuL2J1dHRvblwiKTtcbnZhciBsb2FkaW5nID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGxvYWRpbmcobW9kYWwpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWdfMS5kZWZhdWx0Lm1vZGFsO1xuICAgICAgICB0aGlzLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG1vZGFsID0gX3RoaXMubW9kYWw7XG4gICAgICAgICAgICBtb2RhbC50cmFuc2FjdGlvbiA9IHRydWU7XG4gICAgICAgICAgICBtb2RhbC5idXR0b24uZGlzYWJsZSgpO1xuICAgICAgICAgICAgbW9kYWwuYnV0dG9uLmljb24uY2hhbmdlKF90aGlzLmNvbmZpZy5kb25lLmljb24ubG9hZGluZyk7XG4gICAgICAgICAgICBtb2RhbC5idXR0b24uaWNvbi5zcGluKHRydWUpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmVuZCA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICAgICAgdmFyIG1vZGFsID0gX3RoaXMubW9kYWw7XG4gICAgICAgICAgICBtb2RhbC5idXR0b24uaWNvbi5zcGluKGZhbHNlKTtcbiAgICAgICAgICAgIG1vZGFsLnRyYW5zYWN0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICBtb2RhbC5idXR0b24uZW5hYmxlKCk7XG4gICAgICAgICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUgIT09IFwic3VjY2Vzc1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGFsLmJ1dHRvbi5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICAgICAgICAgICAgICBtb2RhbC5idXR0b24udGV4dCA9IFwiRXJyb3JcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbW9kYWwuYnV0dG9uLmljb24uY2hhbmdlKF90aGlzLmNvbmZpZy5kb25lLmljb25bc3RhdGVdKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtb2RhbC5idXR0b24udGV4dCA9IFwiZG9uZVwiO1xuICAgICAgICAgICAgbW9kYWwuYnV0dG9uLmljb24uY2hhbmdlKF90aGlzLmNvbmZpZy5kb25lLmljb24uYmFzZSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubW9kYWwgPSBtb2RhbDtcbiAgICB9XG4gICAgcmV0dXJuIGxvYWRpbmc7XG59KCkpO1xudmFyIG1vZGFsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG1vZGFsKHNlbGVjdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnXzEuZGVmYXVsdC5tb2RhbDtcbiAgICAgICAgdGhpcy5fdHJhbnNhY3Rpb24gPSBmYWxzZTtcbiAgICAgICAgdGhpcy50aXRsZSA9IGZ1bmN0aW9uIChuZXdUaXRsZSkge1xuICAgICAgICAgICAgX3RoaXMuX3RpdGxlLmlubmVySFRNTCA9IG5ld1RpdGxlO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmJvZHkgPSBmdW5jdGlvbiAobmV3Qm9keSkge1xuICAgICAgICAgICAgX3RoaXMuX2JvZHkuaW5uZXJIVE1MID0gbmV3Qm9keTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy50cmFuc2FjdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLm1vZGFsLnJlbW92ZUNsYXNzKF90aGlzLmNvbmZpZy5hY3RpdmUpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5tb2RhbC5hZGRDbGFzcyhfdGhpcy5jb25maWcuYWN0aXZlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy50b2dnbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMubW9kYWwuaGFzQ2xhc3MoX3RoaXMuY29uZmlnLmFjdGl2ZSkpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLm9wZW4oKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5tb2RhbCA9IHVtYnJlbGxhX2V4dGVuZHNfMS51KHNlbGVjdG9yKTtcbiAgICAgICAgaWYgKHRoaXMubW9kYWwubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJ0bk5vZGUgPSB0aGlzLm1vZGFsLmZpbmQoXCIuXCIgKyB0aGlzLmNvbmZpZy5kb25lLmNsYXNzKS5ub2Rlc1swXTtcbiAgICAgICAgdGhpcy5idXR0b24gPSBuZXcgYnV0dG9uXzEuZGVmYXVsdChidG5Ob2RlKTtcbiAgICAgICAgdGhpcy5fdGl0bGUgPSB0aGlzLm1vZGFsLmZpbmQoXCIuXCIgKyB0aGlzLmNvbmZpZy5jYXJkLnRpdGxlKS5ub2Rlc1swXTtcbiAgICAgICAgdGhpcy5fYm9keSA9IHRoaXMubW9kYWwuZmluZChcIi5cIiArIHRoaXMuY29uZmlnLmNhcmQuYm9keSkubm9kZXNbMF07XG4gICAgICAgIHRoaXMubG9hZGluZyA9IG5ldyBsb2FkaW5nKHRoaXMpO1xuICAgICAgICB0aGlzLm1vZGFsLmZpbmQoJ1thcmlhLWxhYmVsPVwiY2xvc2VcIl0nKS5vbihcImNsaWNrXCIsIHRoaXMuY2xvc2UpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kYWwucHJvdG90eXBlLCBcInRyYW5zYWN0aW9uXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnNhY3Rpb247XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgICAgICB0aGlzLl90cmFuc2FjdGlvbiA9IHN0YXRlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gbW9kYWw7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gbW9kYWw7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/resources/typescript/bulma/modal.ts\n')},"./src/resources/typescript/bulma/offset.ts":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar umbrella_extends_1 = __webpack_require__(/*! ../extends/umbrella_extends */ "./src/resources/typescript/extends/umbrella_extends.ts");\nvar offset = /** @class */ (function () {\n    function offset(offset, main, cookie) {\n        var _this = this;\n        this.open = function () {\n            _this.offset.addClass("is-active");\n            _this.main.addClass("is-offset-active");\n            _this.burger.addClass("is-active");\n            _this.memory = true;\n        };\n        this.close = function () {\n            _this.offset.removeClass("is-active");\n            _this.main.removeClass("is-offset-active");\n            _this.burger.removeClass("is-active");\n            _this.memory = false;\n        };\n        this.offset = umbrella_extends_1.u(offset);\n        this.main = umbrella_extends_1.u(main);\n        this.burger = this.offset.find(".burger");\n        this.cookie = cookie;\n        if (this.offset.attr("id") !== "") {\n            this.id = this.offset.attr("id");\n        }\n        var toggle = this.offset.find(".offset-toggle");\n        toggle.on("click", function () {\n            if (_this.state) {\n                _this.close();\n                return;\n            }\n            _this.open();\n        });\n        if (this.cookie.get("offset." + this.id)) {\n            this.open();\n        }\n    }\n    Object.defineProperty(offset.prototype, "state", {\n        get: function () {\n            return this.offset.hasClass("is-active");\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(offset.prototype, "memory", {\n        set: function (state) {\n            if (this.cookie && this.id) {\n                var e = { offset: {} };\n                e.offset[this.id] = state;\n                this.cookie.set(e);\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return offset;\n}());\nexports.default = offset;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVzb3VyY2VzL3R5cGVzY3JpcHQvYnVsbWEvb2Zmc2V0LnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3Jlc291cmNlcy90eXBlc2NyaXB0L2J1bG1hL29mZnNldC50cz8wMTdlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHVtYnJlbGxhX2V4dGVuZHNfMSA9IHJlcXVpcmUoXCIuLi9leHRlbmRzL3VtYnJlbGxhX2V4dGVuZHNcIik7XG52YXIgb2Zmc2V0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG9mZnNldChvZmZzZXQsIG1haW4sIGNvb2tpZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLm9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5vZmZzZXQuYWRkQ2xhc3MoXCJpcy1hY3RpdmVcIik7XG4gICAgICAgICAgICBfdGhpcy5tYWluLmFkZENsYXNzKFwiaXMtb2Zmc2V0LWFjdGl2ZVwiKTtcbiAgICAgICAgICAgIF90aGlzLmJ1cmdlci5hZGRDbGFzcyhcImlzLWFjdGl2ZVwiKTtcbiAgICAgICAgICAgIF90aGlzLm1lbW9yeSA9IHRydWU7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5vZmZzZXQucmVtb3ZlQ2xhc3MoXCJpcy1hY3RpdmVcIik7XG4gICAgICAgICAgICBfdGhpcy5tYWluLnJlbW92ZUNsYXNzKFwiaXMtb2Zmc2V0LWFjdGl2ZVwiKTtcbiAgICAgICAgICAgIF90aGlzLmJ1cmdlci5yZW1vdmVDbGFzcyhcImlzLWFjdGl2ZVwiKTtcbiAgICAgICAgICAgIF90aGlzLm1lbW9yeSA9IGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9mZnNldCA9IHVtYnJlbGxhX2V4dGVuZHNfMS51KG9mZnNldCk7XG4gICAgICAgIHRoaXMubWFpbiA9IHVtYnJlbGxhX2V4dGVuZHNfMS51KG1haW4pO1xuICAgICAgICB0aGlzLmJ1cmdlciA9IHRoaXMub2Zmc2V0LmZpbmQoXCIuYnVyZ2VyXCIpO1xuICAgICAgICB0aGlzLmNvb2tpZSA9IGNvb2tpZTtcbiAgICAgICAgaWYgKHRoaXMub2Zmc2V0LmF0dHIoXCJpZFwiKSAhPT0gXCJcIikge1xuICAgICAgICAgICAgdGhpcy5pZCA9IHRoaXMub2Zmc2V0LmF0dHIoXCJpZFwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdG9nZ2xlID0gdGhpcy5vZmZzZXQuZmluZChcIi5vZmZzZXQtdG9nZ2xlXCIpO1xuICAgICAgICB0b2dnbGUub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuc3RhdGUpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLm9wZW4oKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0aGlzLmNvb2tpZS5nZXQoXCJvZmZzZXQuXCIgKyB0aGlzLmlkKSkge1xuICAgICAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9mZnNldC5wcm90b3R5cGUsIFwic3RhdGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9mZnNldC5oYXNDbGFzcyhcImlzLWFjdGl2ZVwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9mZnNldC5wcm90b3R5cGUsIFwibWVtb3J5XCIsIHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvb2tpZSAmJiB0aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgdmFyIGUgPSB7IG9mZnNldDoge30gfTtcbiAgICAgICAgICAgICAgICBlLm9mZnNldFt0aGlzLmlkXSA9IHN0YXRlO1xuICAgICAgICAgICAgICAgIHRoaXMuY29va2llLnNldChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIG9mZnNldDtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBvZmZzZXQ7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/resources/typescript/bulma/offset.ts\n')},"./src/resources/typescript/bulma/tab.ts":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar umbrella_extends_1 = __webpack_require__(/*! ../extends/umbrella_extends */ "./src/resources/typescript/extends/umbrella_extends.ts");\nvar tab_container = /** @class */ (function () {\n    function tab_container(node) {\n        var _this = this;\n        this.active = function () {\n            _this.container.addClass("is-active");\n        };\n        this.inactive = function () {\n            _this.container.removeClass("is-active");\n        };\n        this.container = umbrella_extends_1.u(node);\n    }\n    return tab_container;\n}());\nvar tab = /** @class */ (function () {\n    function tab(selector) {\n        var _this = this;\n        this.containers = {};\n        this.active = function (active) {\n            var containers = _this.containers;\n            for (var key in containers) {\n                if (key === active) {\n                    containers[key].active();\n                    continue;\n                }\n                containers[key].inactive();\n            }\n        };\n        this.parent = umbrella_extends_1.u(selector);\n        this.tab = this.parent.find("li");\n        var tag_str = this.parent.attr("data-tab-target");\n        var containers = umbrella_extends_1.u(\'[data-tab-container="\' + tag_str + \'"]\');\n        containers.each(function (node) {\n            var container = umbrella_extends_1.u(node);\n            var key = container.attr("data-tab-content");\n            _this.containers[key] = new tab_container(node);\n        });\n        // cancel defalt action\n        this.tab.find("a").handle("click", function (e) { });\n        var self = this;\n        this.tab.handle("click", function (e) {\n            var active = umbrella_extends_1.u(this).find("a").attr("href");\n            active = active.replace("#", "");\n            self.active(active);\n            umbrella_extends_1.u(this).addClass("is-active");\n            self.tab.not(umbrella_extends_1.u(this)).removeClass("is-active");\n        });\n    }\n    return tab;\n}());\nexports.default = tab;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVzb3VyY2VzL3R5cGVzY3JpcHQvYnVsbWEvdGFiLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3Jlc291cmNlcy90eXBlc2NyaXB0L2J1bG1hL3RhYi50cz8zZjk0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHVtYnJlbGxhX2V4dGVuZHNfMSA9IHJlcXVpcmUoXCIuLi9leHRlbmRzL3VtYnJlbGxhX2V4dGVuZHNcIik7XG52YXIgdGFiX2NvbnRhaW5lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiB0YWJfY29udGFpbmVyKG5vZGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5hY3RpdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5jb250YWluZXIuYWRkQ2xhc3MoXCJpcy1hY3RpdmVcIik7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaW5hY3RpdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5jb250YWluZXIucmVtb3ZlQ2xhc3MoXCJpcy1hY3RpdmVcIik7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gdW1icmVsbGFfZXh0ZW5kc18xLnUobm9kZSk7XG4gICAgfVxuICAgIHJldHVybiB0YWJfY29udGFpbmVyO1xufSgpKTtcbnZhciB0YWIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gdGFiKHNlbGVjdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuY29udGFpbmVycyA9IHt9O1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IGZ1bmN0aW9uIChhY3RpdmUpIHtcbiAgICAgICAgICAgIHZhciBjb250YWluZXJzID0gX3RoaXMuY29udGFpbmVycztcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBjb250YWluZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gYWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcnNba2V5XS5hY3RpdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRhaW5lcnNba2V5XS5pbmFjdGl2ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnBhcmVudCA9IHVtYnJlbGxhX2V4dGVuZHNfMS51KHNlbGVjdG9yKTtcbiAgICAgICAgdGhpcy50YWIgPSB0aGlzLnBhcmVudC5maW5kKFwibGlcIik7XG4gICAgICAgIHZhciB0YWdfc3RyID0gdGhpcy5wYXJlbnQuYXR0cihcImRhdGEtdGFiLXRhcmdldFwiKTtcbiAgICAgICAgdmFyIGNvbnRhaW5lcnMgPSB1bWJyZWxsYV9leHRlbmRzXzEudSgnW2RhdGEtdGFiLWNvbnRhaW5lcj1cIicgKyB0YWdfc3RyICsgJ1wiXScpO1xuICAgICAgICBjb250YWluZXJzLmVhY2goZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSB1bWJyZWxsYV9leHRlbmRzXzEudShub2RlKTtcbiAgICAgICAgICAgIHZhciBrZXkgPSBjb250YWluZXIuYXR0cihcImRhdGEtdGFiLWNvbnRlbnRcIik7XG4gICAgICAgICAgICBfdGhpcy5jb250YWluZXJzW2tleV0gPSBuZXcgdGFiX2NvbnRhaW5lcihub2RlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGNhbmNlbCBkZWZhbHQgYWN0aW9uXG4gICAgICAgIHRoaXMudGFiLmZpbmQoXCJhXCIpLmhhbmRsZShcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7IH0pO1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHRoaXMudGFiLmhhbmRsZShcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB2YXIgYWN0aXZlID0gdW1icmVsbGFfZXh0ZW5kc18xLnUodGhpcykuZmluZChcImFcIikuYXR0cihcImhyZWZcIik7XG4gICAgICAgICAgICBhY3RpdmUgPSBhY3RpdmUucmVwbGFjZShcIiNcIiwgXCJcIik7XG4gICAgICAgICAgICBzZWxmLmFjdGl2ZShhY3RpdmUpO1xuICAgICAgICAgICAgdW1icmVsbGFfZXh0ZW5kc18xLnUodGhpcykuYWRkQ2xhc3MoXCJpcy1hY3RpdmVcIik7XG4gICAgICAgICAgICBzZWxmLnRhYi5ub3QodW1icmVsbGFfZXh0ZW5kc18xLnUodGhpcykpLnJlbW92ZUNsYXNzKFwiaXMtYWN0aXZlXCIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRhYjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSB0YWI7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/resources/typescript/bulma/tab.ts\n')},"./src/resources/typescript/bulma/toggle.ts":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar umbrella_extends_1 = __webpack_require__(/*! ../extends/umbrella_extends */ "./src/resources/typescript/extends/umbrella_extends.ts");\nvar toggle = /** @class */ (function () {\n    function toggle(selector, target_selector, target) {\n        if (target_selector === void 0) { target_selector = "data-toggle-target"; }\n        if (target === void 0) { target = "data-toggle"; }\n        this.open = function (element, target) {\n            element.addClass("is-active");\n            target.addClass("is-active");\n        };\n        this.close = function (element, target) {\n            target.removeClass("is-active");\n            element.removeClass("is-active");\n        };\n        var elements = umbrella_extends_1.u(selector);\n        var self = this;\n        elements.each(function (node) {\n            var element = umbrella_extends_1.u(node);\n            element.on("click", function () {\n                var ts = umbrella_extends_1.u(this).attr(target_selector);\n                var t = umbrella_extends_1.u("[" + target + "=\'" + ts + "\']");\n                if (t.hasClass("is-active")) {\n                    self.close(element, t);\n                    return;\n                }\n                self.open(element, t);\n            });\n        });\n    }\n    return toggle;\n}());\nexports.default = toggle;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVzb3VyY2VzL3R5cGVzY3JpcHQvYnVsbWEvdG9nZ2xlLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3Jlc291cmNlcy90eXBlc2NyaXB0L2J1bG1hL3RvZ2dsZS50cz85OWYzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHVtYnJlbGxhX2V4dGVuZHNfMSA9IHJlcXVpcmUoXCIuLi9leHRlbmRzL3VtYnJlbGxhX2V4dGVuZHNcIik7XG52YXIgdG9nZ2xlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIHRvZ2dsZShzZWxlY3RvciwgdGFyZ2V0X3NlbGVjdG9yLCB0YXJnZXQpIHtcbiAgICAgICAgaWYgKHRhcmdldF9zZWxlY3RvciA9PT0gdm9pZCAwKSB7IHRhcmdldF9zZWxlY3RvciA9IFwiZGF0YS10b2dnbGUtdGFyZ2V0XCI7IH1cbiAgICAgICAgaWYgKHRhcmdldCA9PT0gdm9pZCAwKSB7IHRhcmdldCA9IFwiZGF0YS10b2dnbGVcIjsgfVxuICAgICAgICB0aGlzLm9wZW4gPSBmdW5jdGlvbiAoZWxlbWVudCwgdGFyZ2V0KSB7XG4gICAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKFwiaXMtYWN0aXZlXCIpO1xuICAgICAgICAgICAgdGFyZ2V0LmFkZENsYXNzKFwiaXMtYWN0aXZlXCIpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNsb3NlID0gZnVuY3Rpb24gKGVsZW1lbnQsIHRhcmdldCkge1xuICAgICAgICAgICAgdGFyZ2V0LnJlbW92ZUNsYXNzKFwiaXMtYWN0aXZlXCIpO1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcyhcImlzLWFjdGl2ZVwiKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGVsZW1lbnRzID0gdW1icmVsbGFfZXh0ZW5kc18xLnUoc2VsZWN0b3IpO1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIGVsZW1lbnRzLmVhY2goZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gdW1icmVsbGFfZXh0ZW5kc18xLnUobm9kZSk7XG4gICAgICAgICAgICBlbGVtZW50Lm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciB0cyA9IHVtYnJlbGxhX2V4dGVuZHNfMS51KHRoaXMpLmF0dHIodGFyZ2V0X3NlbGVjdG9yKTtcbiAgICAgICAgICAgICAgICB2YXIgdCA9IHVtYnJlbGxhX2V4dGVuZHNfMS51KFwiW1wiICsgdGFyZ2V0ICsgXCI9J1wiICsgdHMgKyBcIiddXCIpO1xuICAgICAgICAgICAgICAgIGlmICh0Lmhhc0NsYXNzKFwiaXMtYWN0aXZlXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY2xvc2UoZWxlbWVudCwgdCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2VsZi5vcGVuKGVsZW1lbnQsIHQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdG9nZ2xlO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IHRvZ2dsZTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/resources/typescript/bulma/toggle.ts\n')},"./src/resources/typescript/config.ts":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nexports.default = {\n    "statuses": [\n        "is-primary",\n        "is-link",\n        "is-info",\n        "is-success",\n        "is-warning",\n        "is-danger"\n    ],\n    "prefix": "is-",\n    "modal": {\n        "active": "is-active",\n        "done": {\n            "class": "done",\n            "icon": {\n                "base": "check",\n                "loading": "spinner",\n                "danger": "exclamation",\n                "success": "check"\n            }\n        },\n        "card": {\n            "title": "modal-card-title",\n            "body": "modal-card-body"\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVzb3VyY2VzL3R5cGVzY3JpcHQvY29uZmlnLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3Jlc291cmNlcy90eXBlc2NyaXB0L2NvbmZpZy50cz9iMmJhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5kZWZhdWx0ID0ge1xuICAgIFwic3RhdHVzZXNcIjogW1xuICAgICAgICBcImlzLXByaW1hcnlcIixcbiAgICAgICAgXCJpcy1saW5rXCIsXG4gICAgICAgIFwiaXMtaW5mb1wiLFxuICAgICAgICBcImlzLXN1Y2Nlc3NcIixcbiAgICAgICAgXCJpcy13YXJuaW5nXCIsXG4gICAgICAgIFwiaXMtZGFuZ2VyXCJcbiAgICBdLFxuICAgIFwicHJlZml4XCI6IFwiaXMtXCIsXG4gICAgXCJtb2RhbFwiOiB7XG4gICAgICAgIFwiYWN0aXZlXCI6IFwiaXMtYWN0aXZlXCIsXG4gICAgICAgIFwiZG9uZVwiOiB7XG4gICAgICAgICAgICBcImNsYXNzXCI6IFwiZG9uZVwiLFxuICAgICAgICAgICAgXCJpY29uXCI6IHtcbiAgICAgICAgICAgICAgICBcImJhc2VcIjogXCJjaGVja1wiLFxuICAgICAgICAgICAgICAgIFwibG9hZGluZ1wiOiBcInNwaW5uZXJcIixcbiAgICAgICAgICAgICAgICBcImRhbmdlclwiOiBcImV4Y2xhbWF0aW9uXCIsXG4gICAgICAgICAgICAgICAgXCJzdWNjZXNzXCI6IFwiY2hlY2tcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImNhcmRcIjoge1xuICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIm1vZGFsLWNhcmQtdGl0bGVcIixcbiAgICAgICAgICAgIFwiYm9keVwiOiBcIm1vZGFsLWNhcmQtYm9keVwiXG4gICAgICAgIH1cbiAgICB9XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/resources/typescript/config.ts\n')},"./src/resources/typescript/cookie_monster.ts":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar cookie_monster = /** @class */ (function () {\n    function cookie_monster(base, path, expires) {\n        if (path === void 0) { path = ""; }\n        if (expires === void 0) { expires = 0; }\n        var _this = this;\n        this.set = function (data) {\n            _this.store_data(data);\n            _this.set_cookie();\n        };\n        this.set_cookie = function () {\n            var cookie_string = _this.base + "=" + new String(encodeURIComponent(JSON.stringify(_this.store)));\n            if (_this.expires !== 0) {\n                var da = new Date();\n                da.setSeconds(da.getSeconds() + _this.expires);\n                cookie_string += ";expires=" + da.toUTCString();\n            }\n            if (_this.path !== "") {\n                cookie_string += ";path=" + _this.path;\n            }\n            document.cookie = cookie_string;\n        };\n        this.remove = function (path) {\n            var list = path.split(".");\n            var co = list.length;\n            var prev = _this.store;\n            for (var i = 0; i < co; i++) {\n                var key = list[i];\n                if (typeof prev[key] === "undefined") {\n                    break;\n                }\n                if (i === (co - 1)) {\n                    delete prev[key];\n                    break;\n                }\n                if (typeof prev[key] === "object") {\n                    prev = prev[key];\n                }\n            }\n            _this.set_cookie();\n        };\n        this.get = function (path) {\n            var list = path.split(".");\n            var co = list.length;\n            var prev = _this.store;\n            for (var i = 0; i < co; i++) {\n                var key = list[i];\n                if (typeof prev[key] === "undefined") {\n                    return "";\n                }\n                if (i === (co - 1)) {\n                    return prev[key];\n                }\n                if (typeof prev[key] === "object") {\n                    prev = prev[key];\n                }\n            }\n        };\n        this.init = function (base) {\n            var data = _this.cookie_perse(document.cookie);\n            if (typeof data[base] === "undefined") {\n                _this.store = {};\n                return;\n            }\n            _this.store = _this.base_perser(data[base]);\n        };\n        this.base_perser = function (str) {\n            var decode = decodeURIComponent(str);\n            return JSON.parse(decode);\n        };\n        this.deep_merge = function (n_o, o_o) {\n            for (var k in n_o) {\n                if (typeof o_o[k] === "undefined") {\n                    o_o[k] = n_o[k];\n                    continue;\n                }\n                if (typeof o_o[k] === "object") {\n                    o_o[k] = _this.deep_merge(o_o[k], n_o[k]);\n                }\n                o_o[k] = n_o[k];\n            }\n            return o_o;\n        };\n        this.cookie_perse = function (str) {\n            var d = str.split(/[;\\s]+/);\n            var data = {};\n            for (var k in d) {\n                var dd = d[k].split("=");\n                data[dd[0]] = dd[1];\n            }\n            return data;\n        };\n        this.store_data = function (data) {\n            _this.store = _this.deep_merge(_this.store, data);\n        };\n        this.store = {};\n        this.base = base;\n        this.path = path;\n        this.expires = expires;\n        this.init(base);\n    }\n    return cookie_monster;\n}());\nexports.default = cookie_monster;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVzb3VyY2VzL3R5cGVzY3JpcHQvY29va2llX21vbnN0ZXIudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcmVzb3VyY2VzL3R5cGVzY3JpcHQvY29va2llX21vbnN0ZXIudHM/ZDdmZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBjb29raWVfbW9uc3RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBjb29raWVfbW9uc3RlcihiYXNlLCBwYXRoLCBleHBpcmVzKSB7XG4gICAgICAgIGlmIChwYXRoID09PSB2b2lkIDApIHsgcGF0aCA9IFwiXCI7IH1cbiAgICAgICAgaWYgKGV4cGlyZXMgPT09IHZvaWQgMCkgeyBleHBpcmVzID0gMDsgfVxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnNldCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICBfdGhpcy5zdG9yZV9kYXRhKGRhdGEpO1xuICAgICAgICAgICAgX3RoaXMuc2V0X2Nvb2tpZSgpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNldF9jb29raWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY29va2llX3N0cmluZyA9IF90aGlzLmJhc2UgKyBcIj1cIiArIG5ldyBTdHJpbmcoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KF90aGlzLnN0b3JlKSkpO1xuICAgICAgICAgICAgaWYgKF90aGlzLmV4cGlyZXMgIT09IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgZGEgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgIGRhLnNldFNlY29uZHMoZGEuZ2V0U2Vjb25kcygpICsgX3RoaXMuZXhwaXJlcyk7XG4gICAgICAgICAgICAgICAgY29va2llX3N0cmluZyArPSBcIjtleHBpcmVzPVwiICsgZGEudG9VVENTdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfdGhpcy5wYXRoICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgY29va2llX3N0cmluZyArPSBcIjtwYXRoPVwiICsgX3RoaXMucGF0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZV9zdHJpbmc7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucmVtb3ZlID0gZnVuY3Rpb24gKHBhdGgpIHtcbiAgICAgICAgICAgIHZhciBsaXN0ID0gcGF0aC5zcGxpdChcIi5cIik7XG4gICAgICAgICAgICB2YXIgY28gPSBsaXN0Lmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBwcmV2ID0gX3RoaXMuc3RvcmU7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gbGlzdFtpXTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHByZXZba2V5XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IChjbyAtIDEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBwcmV2W2tleV07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHByZXZba2V5XSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgICAgICBwcmV2ID0gcHJldltrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLnNldF9jb29raWUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nZXQgPSBmdW5jdGlvbiAocGF0aCkge1xuICAgICAgICAgICAgdmFyIGxpc3QgPSBwYXRoLnNwbGl0KFwiLlwiKTtcbiAgICAgICAgICAgIHZhciBjbyA9IGxpc3QubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIHByZXYgPSBfdGhpcy5zdG9yZTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY287IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBsaXN0W2ldO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcHJldltrZXldID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gKGNvIC0gMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXZba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwcmV2W2tleV0gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJldiA9IHByZXZba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaW5pdCA9IGZ1bmN0aW9uIChiYXNlKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IF90aGlzLmNvb2tpZV9wZXJzZShkb2N1bWVudC5jb29raWUpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhW2Jhc2VdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc3RvcmUgPSB7fTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5zdG9yZSA9IF90aGlzLmJhc2VfcGVyc2VyKGRhdGFbYmFzZV0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmJhc2VfcGVyc2VyID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICAgICAgdmFyIGRlY29kZSA9IGRlY29kZVVSSUNvbXBvbmVudChzdHIpO1xuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZGVjb2RlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kZWVwX21lcmdlID0gZnVuY3Rpb24gKG5fbywgb19vKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBrIGluIG5fbykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb19vW2tdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIG9fb1trXSA9IG5fb1trXTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb19vW2tdID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIG9fb1trXSA9IF90aGlzLmRlZXBfbWVyZ2Uob19vW2tdLCBuX29ba10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvX29ba10gPSBuX29ba107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb19vO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNvb2tpZV9wZXJzZSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgICAgIHZhciBkID0gc3RyLnNwbGl0KC9bO1xcc10rLyk7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHt9O1xuICAgICAgICAgICAgZm9yICh2YXIgayBpbiBkKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRkID0gZFtrXS5zcGxpdChcIj1cIik7XG4gICAgICAgICAgICAgICAgZGF0YVtkZFswXV0gPSBkZFsxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnN0b3JlX2RhdGEgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgX3RoaXMuc3RvcmUgPSBfdGhpcy5kZWVwX21lcmdlKF90aGlzLnN0b3JlLCBkYXRhKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zdG9yZSA9IHt9O1xuICAgICAgICB0aGlzLmJhc2UgPSBiYXNlO1xuICAgICAgICB0aGlzLnBhdGggPSBwYXRoO1xuICAgICAgICB0aGlzLmV4cGlyZXMgPSBleHBpcmVzO1xuICAgICAgICB0aGlzLmluaXQoYmFzZSk7XG4gICAgfVxuICAgIHJldHVybiBjb29raWVfbW9uc3Rlcjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBjb29raWVfbW9uc3RlcjtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/resources/typescript/cookie_monster.ts\n')},"./src/resources/typescript/extends/umbrella_extends.ts":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar umbrellajs_1 = __webpack_require__(/*! umbrellajs */ "./node_modules/umbrellajs/umbrella.min.js");\numbrellajs_1.u.prototype.ancestors = function (selector, first) {\n    var parent = umbrellajs_1.u(this).parent();\n    var ancestors = [];\n    if (parent.is(selector)) {\n        if (first) {\n            return parent[0];\n        }\n        ancestors.push(parent);\n    }\n    var has_parent = true;\n    while (has_parent) {\n        if (parent.parent().is(selector)) {\n            if (first) {\n                return parent.parent();\n            }\n            ancestors.push(parent.parent());\n        }\n        if (parent.is("body")) {\n            has_parent = false;\n        }\n        ;\n        parent = parent.parent();\n    }\n    return ancestors;\n};\numbrellajs_1.u.prototype.removeAttr = function (attributes) {\n    if (typeof attributes === "string") {\n        attributes = [attributes];\n    }\n    var _this = this;\n    attributes.forEach(function (attribute) {\n        umbrellajs_1.u(_this).each(function (node) {\n            node.removeAttribute(attribute);\n        });\n    });\n};\numbrellajs_1.u.prototype.one = function (event, callback) {\n    var self = umbrellajs_1.u(this);\n    var call = callback;\n    var one = function (e) {\n        call(e);\n        self.off(event, one);\n    };\n    self.on(event, one);\n};\nexports.u = umbrellajs_1.u;\nexports.ajax = umbrellajs_1.ajax;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVzb3VyY2VzL3R5cGVzY3JpcHQvZXh0ZW5kcy91bWJyZWxsYV9leHRlbmRzLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3Jlc291cmNlcy90eXBlc2NyaXB0L2V4dGVuZHMvdW1icmVsbGFfZXh0ZW5kcy50cz9lNTZmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHVtYnJlbGxhanNfMSA9IHJlcXVpcmUoXCJ1bWJyZWxsYWpzXCIpO1xudW1icmVsbGFqc18xLnUucHJvdG90eXBlLmFuY2VzdG9ycyA9IGZ1bmN0aW9uIChzZWxlY3RvciwgZmlyc3QpIHtcbiAgICB2YXIgcGFyZW50ID0gdW1icmVsbGFqc18xLnUodGhpcykucGFyZW50KCk7XG4gICAgdmFyIGFuY2VzdG9ycyA9IFtdO1xuICAgIGlmIChwYXJlbnQuaXMoc2VsZWN0b3IpKSB7XG4gICAgICAgIGlmIChmaXJzdCkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcmVudFswXTtcbiAgICAgICAgfVxuICAgICAgICBhbmNlc3RvcnMucHVzaChwYXJlbnQpO1xuICAgIH1cbiAgICB2YXIgaGFzX3BhcmVudCA9IHRydWU7XG4gICAgd2hpbGUgKGhhc19wYXJlbnQpIHtcbiAgICAgICAgaWYgKHBhcmVudC5wYXJlbnQoKS5pcyhzZWxlY3RvcikpIHtcbiAgICAgICAgICAgIGlmIChmaXJzdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnQucGFyZW50KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhbmNlc3RvcnMucHVzaChwYXJlbnQucGFyZW50KCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJlbnQuaXMoXCJib2R5XCIpKSB7XG4gICAgICAgICAgICBoYXNfcGFyZW50ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgO1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50KCk7XG4gICAgfVxuICAgIHJldHVybiBhbmNlc3RvcnM7XG59O1xudW1icmVsbGFqc18xLnUucHJvdG90eXBlLnJlbW92ZUF0dHIgPSBmdW5jdGlvbiAoYXR0cmlidXRlcykge1xuICAgIGlmICh0eXBlb2YgYXR0cmlidXRlcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBhdHRyaWJ1dGVzID0gW2F0dHJpYnV0ZXNdO1xuICAgIH1cbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIGF0dHJpYnV0ZXMuZm9yRWFjaChmdW5jdGlvbiAoYXR0cmlidXRlKSB7XG4gICAgICAgIHVtYnJlbGxhanNfMS51KF90aGlzKS5lYWNoKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG51bWJyZWxsYWpzXzEudS5wcm90b3R5cGUub25lID0gZnVuY3Rpb24gKGV2ZW50LCBjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdW1icmVsbGFqc18xLnUodGhpcyk7XG4gICAgdmFyIGNhbGwgPSBjYWxsYmFjaztcbiAgICB2YXIgb25lID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgY2FsbChlKTtcbiAgICAgICAgc2VsZi5vZmYoZXZlbnQsIG9uZSk7XG4gICAgfTtcbiAgICBzZWxmLm9uKGV2ZW50LCBvbmUpO1xufTtcbmV4cG9ydHMudSA9IHVtYnJlbGxhanNfMS51O1xuZXhwb3J0cy5hamF4ID0gdW1icmVsbGFqc18xLmFqYXg7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/resources/typescript/extends/umbrella_extends.ts\n')},"./src/resources/typescript/flush.ts":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar umbrella_extends_1 = __webpack_require__(/*! ./extends/umbrella_extends */ "./src/resources/typescript/extends/umbrella_extends.ts");\nvar flush = /** @class */ (function () {\n    function flush(selector) {\n        var _this = this;\n        this.remove = function () {\n            _this.flush.remove();\n        };\n        this.close = function () {\n            _this.flush.addClass("flush-remove");\n            setTimeout(_this.remove, 2000);\n        };\n        this.scroll = function () {\n            _this.close();\n            window.removeEventListener("scroll", _this.scroll);\n        };\n        this.flush = umbrella_extends_1.u(selector);\n        var body = umbrella_extends_1.u("body");\n        body.one("click", this.close);\n        window.addEventListener(\'scroll\', this.scroll);\n        setTimeout(this.remove, 2000);\n    }\n    return flush;\n}());\nexports.default = flush;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVzb3VyY2VzL3R5cGVzY3JpcHQvZmx1c2gudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcmVzb3VyY2VzL3R5cGVzY3JpcHQvZmx1c2gudHM/NzgzOSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB1bWJyZWxsYV9leHRlbmRzXzEgPSByZXF1aXJlKFwiLi9leHRlbmRzL3VtYnJlbGxhX2V4dGVuZHNcIik7XG52YXIgZmx1c2ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZmx1c2goc2VsZWN0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5yZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5mbHVzaC5yZW1vdmUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmZsdXNoLmFkZENsYXNzKFwiZmx1c2gtcmVtb3ZlXCIpO1xuICAgICAgICAgICAgc2V0VGltZW91dChfdGhpcy5yZW1vdmUsIDIwMDApO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNjcm9sbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBfdGhpcy5zY3JvbGwpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZsdXNoID0gdW1icmVsbGFfZXh0ZW5kc18xLnUoc2VsZWN0b3IpO1xuICAgICAgICB2YXIgYm9keSA9IHVtYnJlbGxhX2V4dGVuZHNfMS51KFwiYm9keVwiKTtcbiAgICAgICAgYm9keS5vbmUoXCJjbGlja1wiLCB0aGlzLmNsb3NlKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuc2Nyb2xsKTtcbiAgICAgICAgc2V0VGltZW91dCh0aGlzLnJlbW92ZSwgMjAwMCk7XG4gICAgfVxuICAgIHJldHVybiBmbHVzaDtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBmbHVzaDtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/resources/typescript/flush.ts\n')},"./src/resources/typescript/form/checkbox.ts":function(module,exports,__webpack_require__){"use strict";eval('\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, "__esModule", { value: true });\nvar form_element_1 = __webpack_require__(/*! ./form_element */ "./src/resources/typescript/form/form_element.ts");\nvar checkbox_state = /** @class */ (function (_super) {\n    __extends(checkbox_state, _super);\n    function checkbox_state() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(checkbox_state.prototype, "state", {\n        get: function () {\n            return this._state;\n        },\n        set: function (state) {\n            this.typical(state);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return checkbox_state;\n}(form_element_1.form_element_state));\nvar checkbox_error = /** @class */ (function (_super) {\n    __extends(checkbox_error, _super);\n    function checkbox_error() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(checkbox_error.prototype, "error", {\n        get: function () {\n            return this._error;\n        },\n        set: function (errors) {\n            this.typical(errors);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return checkbox_error;\n}(form_element_1.form_element_error));\nvar checkbox = /** @class */ (function (_super) {\n    __extends(checkbox, _super);\n    function checkbox(element, error_container) {\n        var _this = _super.call(this, element) || this;\n        _this._state = new checkbox_state(_this);\n        _this._error = new checkbox_error(_this._state, error_container);\n        return _this;\n    }\n    Object.defineProperty(checkbox.prototype, "value", {\n        get: function () {\n            var checkbox = this.u_element;\n            var checked = [];\n            checkbox.each(function (node) {\n                if (node.checked) {\n                    checked.push(node.value);\n                }\n            });\n            if (checked.length === 0) {\n                return "";\n            }\n            if (checked.length === 1) {\n                return checked[0];\n            }\n            return checked;\n        },\n        set: function (value) {\n            var checked = "";\n            if (Array.isArray(value)) {\n                for (var i = 0; i < value.length; i++) {\n                    checked += "[value=\'" + value[i] + "\'],";\n                }\n                checked = checked.replace(/,$/, "");\n            }\n            else {\n                checked = "[value=\'" + value + "\']";\n            }\n            this.u_element.removeAttr("checked");\n            this.u_element.filter(checked).attr("checked", "checked");\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(checkbox.prototype, "error", {\n        get: function () {\n            return this._error.error;\n        },\n        set: function (errors) {\n            this._error.error = errors;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return checkbox;\n}(form_element_1.form_element));\nexports.default = checkbox;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVzb3VyY2VzL3R5cGVzY3JpcHQvZm9ybS9jaGVja2JveC50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9yZXNvdXJjZXMvdHlwZXNjcmlwdC9mb3JtL2NoZWNrYm94LnRzPzBlMzYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBmb3JtX2VsZW1lbnRfMSA9IHJlcXVpcmUoXCIuL2Zvcm1fZWxlbWVudFwiKTtcbnZhciBjaGVja2JveF9zdGF0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoY2hlY2tib3hfc3RhdGUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gY2hlY2tib3hfc3RhdGUoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNoZWNrYm94X3N0YXRlLnByb3RvdHlwZSwgXCJzdGF0ZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICAgICAgdGhpcy50eXBpY2FsKHN0YXRlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIGNoZWNrYm94X3N0YXRlO1xufShmb3JtX2VsZW1lbnRfMS5mb3JtX2VsZW1lbnRfc3RhdGUpKTtcbnZhciBjaGVja2JveF9lcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoY2hlY2tib3hfZXJyb3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gY2hlY2tib3hfZXJyb3IoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNoZWNrYm94X2Vycm9yLnByb3RvdHlwZSwgXCJlcnJvclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Vycm9yO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChlcnJvcnMpIHtcbiAgICAgICAgICAgIHRoaXMudHlwaWNhbChlcnJvcnMpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gY2hlY2tib3hfZXJyb3I7XG59KGZvcm1fZWxlbWVudF8xLmZvcm1fZWxlbWVudF9lcnJvcikpO1xudmFyIGNoZWNrYm94ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhjaGVja2JveCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBjaGVja2JveChlbGVtZW50LCBlcnJvcl9jb250YWluZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZWxlbWVudCkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX3N0YXRlID0gbmV3IGNoZWNrYm94X3N0YXRlKF90aGlzKTtcbiAgICAgICAgX3RoaXMuX2Vycm9yID0gbmV3IGNoZWNrYm94X2Vycm9yKF90aGlzLl9zdGF0ZSwgZXJyb3JfY29udGFpbmVyKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY2hlY2tib3gucHJvdG90eXBlLCBcInZhbHVlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY2hlY2tib3ggPSB0aGlzLnVfZWxlbWVudDtcbiAgICAgICAgICAgIHZhciBjaGVja2VkID0gW107XG4gICAgICAgICAgICBjaGVja2JveC5lYWNoKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICBjaGVja2VkLnB1c2gobm9kZS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoY2hlY2tlZC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaGVja2VkLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjaGVja2VkWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNoZWNrZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgY2hlY2tlZCA9IFwiXCI7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQgKz0gXCJbdmFsdWU9J1wiICsgdmFsdWVbaV0gKyBcIiddLFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjaGVja2VkID0gY2hlY2tlZC5yZXBsYWNlKC8sJC8sIFwiXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY2hlY2tlZCA9IFwiW3ZhbHVlPSdcIiArIHZhbHVlICsgXCInXVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy51X2VsZW1lbnQucmVtb3ZlQXR0cihcImNoZWNrZWRcIik7XG4gICAgICAgICAgICB0aGlzLnVfZWxlbWVudC5maWx0ZXIoY2hlY2tlZCkuYXR0cihcImNoZWNrZWRcIiwgXCJjaGVja2VkXCIpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY2hlY2tib3gucHJvdG90eXBlLCBcImVycm9yXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZXJyb3IuZXJyb3I7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGVycm9ycykge1xuICAgICAgICAgICAgdGhpcy5fZXJyb3IuZXJyb3IgPSBlcnJvcnM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBjaGVja2JveDtcbn0oZm9ybV9lbGVtZW50XzEuZm9ybV9lbGVtZW50KSk7XG5leHBvcnRzLmRlZmF1bHQgPSBjaGVja2JveDtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/resources/typescript/form/checkbox.ts\n')},"./src/resources/typescript/form/form.ts":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar umbrella_extends_1 = __webpack_require__(/*! ../extends/umbrella_extends */ "./src/resources/typescript/extends/umbrella_extends.ts");\nvar button_1 = __webpack_require__(/*! ../bulma/button */ "./src/resources/typescript/bulma/button.ts");\nvar form_element_node_1 = __webpack_require__(/*! ./form_element_node */ "./src/resources/typescript/form/form_element_node.ts");\nvar lock = /** @class */ (function () {\n    function lock(form) {\n        var _this = this;\n        this.init = function () {\n            var spinner = umbrella_extends_1.u(\'<div>\');\n            spinner.addClass(["spinner", "loading"]);\n            for (var i = 1; i < 6; i++) {\n                var rect = umbrella_extends_1.u("<div>");\n                rect.addClass("rect" + i);\n                spinner.append(rect);\n            }\n            _this.lock_container = umbrella_extends_1.u("<div>");\n            _this.lock_container.addClass("form-lock");\n            _this.lock_container.append(spinner);\n            _this.form.append(_this.lock_container);\n        };\n        this.lock = function () {\n            _this.lock_container.addClass("is-active");\n            _this.before_focus = document.activeElement;\n            _this.before_focus.blur();\n        };\n        this.unlock = function () {\n            _this.lock_container.removeClass("is-active");\n            _this.before_focus.focus();\n        };\n        this.form = umbrella_extends_1.u(form);\n        this.init();\n    }\n    return lock;\n}());\nvar form = /** @class */ (function () {\n    function form(selector, options) {\n        var _this = this;\n        this.lock = function () {\n            _this._lock.lock();\n        };\n        this.unlock = function () {\n            _this._lock.unlock();\n        };\n        this.submit = function (form) {\n        };\n        this.submit_handle = function () {\n            if (_this.dirty) {\n                _this.lock();\n                _this.submit(_this);\n            }\n        };\n        this.update_input = function () {\n            _this.dirty = true;\n            _this.button.submit.enable();\n            _this.button.submit.state = "primary";\n            _this.button.submit.icon.change("floppy-o");\n        };\n        this.toJSON = function () {\n            return _this._node.toJSON();\n        };\n        this.bind = function (values) {\n            _this._node.update(values);\n        };\n        this.bind_errors = function (values) {\n            _this._node.errors(values);\n        };\n        this.post_options = function () {\n            return {\n                "method": "post",\n                "credentials": "same-origin",\n                "headers": {\n                    \'Accept\': \'application/json\',\n                    \'X-Requested-With\': \'XMLHttpRequest\',\n                    \'Content-Type\': \'application/json\',\n                    \'X-CSRF-TOKEN\': _this.token,\n                }\n            };\n        };\n        this.success = function () {\n            _this.dirty = false;\n            _this.button.submit.disable();\n            _this.button.submit.loading = false;\n            _this.unlock();\n        };\n        this.error = function () {\n            _this.button.submit.loading = false;\n            _this.button.submit.state = "danger";\n            _this.unlock();\n        };\n        this.form = umbrella_extends_1.u(selector);\n        this._lock = new lock(this.form.nodes[0]);\n        this._node = new form_element_node_1.default(selector);\n        this._node.inputs.on("change", this.update_input);\n        this.button = {\n            submit: new button_1.default(this.form.find("button[type=\'submit\']").nodes[0])\n        };\n        if (options.submit) {\n            this.submit = options.submit;\n        }\n        this.button.submit.disable();\n        this.form.handle("submit", this.submit_handle);\n    }\n    Object.defineProperty(form.prototype, "dirty", {\n        get: function () {\n            return this._dirty;\n        },\n        set: function (status) {\n            this._dirty = status;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(form.prototype, "method", {\n        get: function () {\n            if (typeof this._node.tree["_method"] === "undefined") {\n                return this.form.attr("method");\n            }\n            return this._node.tree["_method"].value;\n        },\n        set: function (value) {\n            if (value.toLowerCase() == "get") {\n                this.form.attr("method", "GET");\n            }\n            else {\n                this.form.attr("method", "POST");\n            }\n            if (typeof this._node.tree["_method"] === "undefined") {\n                var _method = umbrella_extends_1.u(\'<input name="_method" value="" type="hidden">\');\n                this.form.prepend(_method);\n                this._node.append(_method.nodes[0]);\n            }\n            this._node.update({ "_method": value });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(form.prototype, "action", {\n        get: function () {\n            return this.form.attr("action");\n        },\n        set: function (value) {\n            this.form.attr("action", value);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(form.prototype, "token", {\n        get: function () {\n            if (this._node.tree["_token"]) {\n                return this._node.tree["_token"].value;\n            }\n            var page_token = umbrella_extends_1.u("[name=\'csrf-token\']").attr("content");\n            if (page_token) {\n                return page_token;\n            }\n            return "";\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return form;\n}());\nexports.default = form;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVzb3VyY2VzL3R5cGVzY3JpcHQvZm9ybS9mb3JtLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3Jlc291cmNlcy90eXBlc2NyaXB0L2Zvcm0vZm9ybS50cz84N2NiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHVtYnJlbGxhX2V4dGVuZHNfMSA9IHJlcXVpcmUoXCIuLi9leHRlbmRzL3VtYnJlbGxhX2V4dGVuZHNcIik7XG52YXIgYnV0dG9uXzEgPSByZXF1aXJlKFwiLi4vYnVsbWEvYnV0dG9uXCIpO1xudmFyIGZvcm1fZWxlbWVudF9ub2RlXzEgPSByZXF1aXJlKFwiLi9mb3JtX2VsZW1lbnRfbm9kZVwiKTtcbnZhciBsb2NrID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGxvY2soZm9ybSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmluaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc3Bpbm5lciA9IHVtYnJlbGxhX2V4dGVuZHNfMS51KCc8ZGl2PicpO1xuICAgICAgICAgICAgc3Bpbm5lci5hZGRDbGFzcyhbXCJzcGlubmVyXCIsIFwibG9hZGluZ1wiXSk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IDY7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciByZWN0ID0gdW1icmVsbGFfZXh0ZW5kc18xLnUoXCI8ZGl2PlwiKTtcbiAgICAgICAgICAgICAgICByZWN0LmFkZENsYXNzKFwicmVjdFwiICsgaSk7XG4gICAgICAgICAgICAgICAgc3Bpbm5lci5hcHBlbmQocmVjdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5sb2NrX2NvbnRhaW5lciA9IHVtYnJlbGxhX2V4dGVuZHNfMS51KFwiPGRpdj5cIik7XG4gICAgICAgICAgICBfdGhpcy5sb2NrX2NvbnRhaW5lci5hZGRDbGFzcyhcImZvcm0tbG9ja1wiKTtcbiAgICAgICAgICAgIF90aGlzLmxvY2tfY29udGFpbmVyLmFwcGVuZChzcGlubmVyKTtcbiAgICAgICAgICAgIF90aGlzLmZvcm0uYXBwZW5kKF90aGlzLmxvY2tfY29udGFpbmVyKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5sb2NrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMubG9ja19jb250YWluZXIuYWRkQ2xhc3MoXCJpcy1hY3RpdmVcIik7XG4gICAgICAgICAgICBfdGhpcy5iZWZvcmVfZm9jdXMgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgICAgICAgICAgX3RoaXMuYmVmb3JlX2ZvY3VzLmJsdXIoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51bmxvY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5sb2NrX2NvbnRhaW5lci5yZW1vdmVDbGFzcyhcImlzLWFjdGl2ZVwiKTtcbiAgICAgICAgICAgIF90aGlzLmJlZm9yZV9mb2N1cy5mb2N1cygpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZvcm0gPSB1bWJyZWxsYV9leHRlbmRzXzEudShmb3JtKTtcbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuICAgIHJldHVybiBsb2NrO1xufSgpKTtcbnZhciBmb3JtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGZvcm0oc2VsZWN0b3IsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5sb2NrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuX2xvY2subG9jaygpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnVubG9jayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLl9sb2NrLnVubG9jaygpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnN1Ym1pdCA9IGZ1bmN0aW9uIChmb3JtKSB7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc3VibWl0X2hhbmRsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5kaXJ0eSkge1xuICAgICAgICAgICAgICAgIF90aGlzLmxvY2soKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5zdWJtaXQoX3RoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnVwZGF0ZV9pbnB1dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIF90aGlzLmJ1dHRvbi5zdWJtaXQuZW5hYmxlKCk7XG4gICAgICAgICAgICBfdGhpcy5idXR0b24uc3VibWl0LnN0YXRlID0gXCJwcmltYXJ5XCI7XG4gICAgICAgICAgICBfdGhpcy5idXR0b24uc3VibWl0Lmljb24uY2hhbmdlKFwiZmxvcHB5LW9cIik7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9ub2RlLnRvSlNPTigpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmJpbmQgPSBmdW5jdGlvbiAodmFsdWVzKSB7XG4gICAgICAgICAgICBfdGhpcy5fbm9kZS51cGRhdGUodmFsdWVzKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5iaW5kX2Vycm9ycyA9IGZ1bmN0aW9uICh2YWx1ZXMpIHtcbiAgICAgICAgICAgIF90aGlzLl9ub2RlLmVycm9ycyh2YWx1ZXMpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnBvc3Rfb3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgXCJtZXRob2RcIjogXCJwb3N0XCIsXG4gICAgICAgICAgICAgICAgXCJjcmVkZW50aWFsc1wiOiBcInNhbWUtb3JpZ2luXCIsXG4gICAgICAgICAgICAgICAgXCJoZWFkZXJzXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAgICAgJ1gtUmVxdWVzdGVkLVdpdGgnOiAnWE1MSHR0cFJlcXVlc3QnLFxuICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICAgICAnWC1DU1JGLVRPS0VOJzogX3RoaXMudG9rZW4sXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIF90aGlzLmJ1dHRvbi5zdWJtaXQuZGlzYWJsZSgpO1xuICAgICAgICAgICAgX3RoaXMuYnV0dG9uLnN1Ym1pdC5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBfdGhpcy51bmxvY2soKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmJ1dHRvbi5zdWJtaXQubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgX3RoaXMuYnV0dG9uLnN1Ym1pdC5zdGF0ZSA9IFwiZGFuZ2VyXCI7XG4gICAgICAgICAgICBfdGhpcy51bmxvY2soKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5mb3JtID0gdW1icmVsbGFfZXh0ZW5kc18xLnUoc2VsZWN0b3IpO1xuICAgICAgICB0aGlzLl9sb2NrID0gbmV3IGxvY2sodGhpcy5mb3JtLm5vZGVzWzBdKTtcbiAgICAgICAgdGhpcy5fbm9kZSA9IG5ldyBmb3JtX2VsZW1lbnRfbm9kZV8xLmRlZmF1bHQoc2VsZWN0b3IpO1xuICAgICAgICB0aGlzLl9ub2RlLmlucHV0cy5vbihcImNoYW5nZVwiLCB0aGlzLnVwZGF0ZV9pbnB1dCk7XG4gICAgICAgIHRoaXMuYnV0dG9uID0ge1xuICAgICAgICAgICAgc3VibWl0OiBuZXcgYnV0dG9uXzEuZGVmYXVsdCh0aGlzLmZvcm0uZmluZChcImJ1dHRvblt0eXBlPSdzdWJtaXQnXVwiKS5ub2Rlc1swXSlcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKG9wdGlvbnMuc3VibWl0KSB7XG4gICAgICAgICAgICB0aGlzLnN1Ym1pdCA9IG9wdGlvbnMuc3VibWl0O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnV0dG9uLnN1Ym1pdC5kaXNhYmxlKCk7XG4gICAgICAgIHRoaXMuZm9ybS5oYW5kbGUoXCJzdWJtaXRcIiwgdGhpcy5zdWJtaXRfaGFuZGxlKTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZvcm0ucHJvdG90eXBlLCBcImRpcnR5XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGlydHk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHN0YXR1cykge1xuICAgICAgICAgICAgdGhpcy5fZGlydHkgPSBzdGF0dXM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmb3JtLnByb3RvdHlwZSwgXCJtZXRob2RcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5fbm9kZS50cmVlW1wiX21ldGhvZFwiXSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZvcm0uYXR0cihcIm1ldGhvZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ub2RlLnRyZWVbXCJfbWV0aG9kXCJdLnZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlLnRvTG93ZXJDYXNlKCkgPT0gXCJnZXRcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuZm9ybS5hdHRyKFwibWV0aG9kXCIsIFwiR0VUXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mb3JtLmF0dHIoXCJtZXRob2RcIiwgXCJQT1NUXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9ub2RlLnRyZWVbXCJfbWV0aG9kXCJdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9tZXRob2QgPSB1bWJyZWxsYV9leHRlbmRzXzEudSgnPGlucHV0IG5hbWU9XCJfbWV0aG9kXCIgdmFsdWU9XCJcIiB0eXBlPVwiaGlkZGVuXCI+Jyk7XG4gICAgICAgICAgICAgICAgdGhpcy5mb3JtLnByZXBlbmQoX21ldGhvZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbm9kZS5hcHBlbmQoX21ldGhvZC5ub2Rlc1swXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9ub2RlLnVwZGF0ZSh7IFwiX21ldGhvZFwiOiB2YWx1ZSB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZvcm0ucHJvdG90eXBlLCBcImFjdGlvblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9ybS5hdHRyKFwiYWN0aW9uXCIpO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5mb3JtLmF0dHIoXCJhY3Rpb25cIiwgdmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZm9ybS5wcm90b3R5cGUsIFwidG9rZW5cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9ub2RlLnRyZWVbXCJfdG9rZW5cIl0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbm9kZS50cmVlW1wiX3Rva2VuXCJdLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHBhZ2VfdG9rZW4gPSB1bWJyZWxsYV9leHRlbmRzXzEudShcIltuYW1lPSdjc3JmLXRva2VuJ11cIikuYXR0cihcImNvbnRlbnRcIik7XG4gICAgICAgICAgICBpZiAocGFnZV90b2tlbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYWdlX3Rva2VuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBmb3JtO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IGZvcm07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/resources/typescript/form/form.ts\n')},"./src/resources/typescript/form/form_element.ts":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar umbrella_extends_1 = __webpack_require__(/*! ../extends/umbrella_extends */ "./src/resources/typescript/extends/umbrella_extends.ts");\nvar config_1 = __webpack_require__(/*! ../config */ "./src/resources/typescript/config.ts");\nvar form_element = /** @class */ (function () {\n    function form_element(element) {\n        this.u_element = umbrella_extends_1.u(element);\n        this.element = element;\n    }\n    Object.defineProperty(form_element.prototype, "state", {\n        get: function () {\n            return this._state.state;\n        },\n        set: function (value) {\n            this._state.state = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(form_element.prototype, "error", {\n        get: function () {\n            return this._error.error;\n        },\n        set: function (errors) {\n            this._error.error = errors;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return form_element;\n}());\nexports.form_element = form_element;\nvar form_element_state = /** @class */ (function () {\n    function form_element_state(form_element) {\n        this.form_element = form_element;\n    }\n    form_element_state.prototype.typical = function (state) {\n        this.form_element.u_element.removeClass(config_1.default.statuses);\n        if (typeof status === "undefined") {\n            return;\n        }\n        console.log(state);\n        if (state !== "") {\n            this.form_element.u_element.addClass("is-" + state);\n        }\n    };\n    return form_element_state;\n}());\nexports.form_element_state = form_element_state;\nvar form_element_error = /** @class */ (function () {\n    function form_element_error(state, error_container) {\n        this._state = state;\n        if (!error_container) {\n            error_container = document.createElement("div");\n        }\n        this.container = error_container;\n    }\n    Object.defineProperty(form_element_error.prototype, "state", {\n        get: function () {\n            return this._state.state;\n        },\n        set: function (value) {\n            this._state.state = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    form_element_error.prototype.typical = function (errors) {\n        var contain = "";\n        for (var i = 0; i < errors.length; i++) {\n            contain += \'<div class="help is-danger">* \' + errors[i] + \'</div>\';\n        }\n        this.container.innerHTML = contain;\n        if (errors !== "") {\n            this.state = "danger";\n            return;\n        }\n        this.state = "";\n    };\n    return form_element_error;\n}());\nexports.form_element_error = form_element_error;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVzb3VyY2VzL3R5cGVzY3JpcHQvZm9ybS9mb3JtX2VsZW1lbnQudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcmVzb3VyY2VzL3R5cGVzY3JpcHQvZm9ybS9mb3JtX2VsZW1lbnQudHM/MmY3NiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB1bWJyZWxsYV9leHRlbmRzXzEgPSByZXF1aXJlKFwiLi4vZXh0ZW5kcy91bWJyZWxsYV9leHRlbmRzXCIpO1xudmFyIGNvbmZpZ18xID0gcmVxdWlyZShcIi4uL2NvbmZpZ1wiKTtcbnZhciBmb3JtX2VsZW1lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZm9ybV9lbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy51X2VsZW1lbnQgPSB1bWJyZWxsYV9leHRlbmRzXzEudShlbGVtZW50KTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZvcm1fZWxlbWVudC5wcm90b3R5cGUsIFwic3RhdGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZS5zdGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlLnN0YXRlID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmb3JtX2VsZW1lbnQucHJvdG90eXBlLCBcImVycm9yXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZXJyb3IuZXJyb3I7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGVycm9ycykge1xuICAgICAgICAgICAgdGhpcy5fZXJyb3IuZXJyb3IgPSBlcnJvcnM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBmb3JtX2VsZW1lbnQ7XG59KCkpO1xuZXhwb3J0cy5mb3JtX2VsZW1lbnQgPSBmb3JtX2VsZW1lbnQ7XG52YXIgZm9ybV9lbGVtZW50X3N0YXRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGZvcm1fZWxlbWVudF9zdGF0ZShmb3JtX2VsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5mb3JtX2VsZW1lbnQgPSBmb3JtX2VsZW1lbnQ7XG4gICAgfVxuICAgIGZvcm1fZWxlbWVudF9zdGF0ZS5wcm90b3R5cGUudHlwaWNhbCA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICB0aGlzLmZvcm1fZWxlbWVudC51X2VsZW1lbnQucmVtb3ZlQ2xhc3MoY29uZmlnXzEuZGVmYXVsdC5zdGF0dXNlcyk7XG4gICAgICAgIGlmICh0eXBlb2Ygc3RhdHVzID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coc3RhdGUpO1xuICAgICAgICBpZiAoc3RhdGUgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHRoaXMuZm9ybV9lbGVtZW50LnVfZWxlbWVudC5hZGRDbGFzcyhcImlzLVwiICsgc3RhdGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gZm9ybV9lbGVtZW50X3N0YXRlO1xufSgpKTtcbmV4cG9ydHMuZm9ybV9lbGVtZW50X3N0YXRlID0gZm9ybV9lbGVtZW50X3N0YXRlO1xudmFyIGZvcm1fZWxlbWVudF9lcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBmb3JtX2VsZW1lbnRfZXJyb3Ioc3RhdGUsIGVycm9yX2NvbnRhaW5lcikge1xuICAgICAgICB0aGlzLl9zdGF0ZSA9IHN0YXRlO1xuICAgICAgICBpZiAoIWVycm9yX2NvbnRhaW5lcikge1xuICAgICAgICAgICAgZXJyb3JfY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGVycm9yX2NvbnRhaW5lcjtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZvcm1fZWxlbWVudF9lcnJvci5wcm90b3R5cGUsIFwic3RhdGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZS5zdGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlLnN0YXRlID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIGZvcm1fZWxlbWVudF9lcnJvci5wcm90b3R5cGUudHlwaWNhbCA9IGZ1bmN0aW9uIChlcnJvcnMpIHtcbiAgICAgICAgdmFyIGNvbnRhaW4gPSBcIlwiO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVycm9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29udGFpbiArPSAnPGRpdiBjbGFzcz1cImhlbHAgaXMtZGFuZ2VyXCI+KiAnICsgZXJyb3JzW2ldICsgJzwvZGl2Pic7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gY29udGFpbjtcbiAgICAgICAgaWYgKGVycm9ycyAhPT0gXCJcIikge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFwiZGFuZ2VyXCI7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0ZSA9IFwiXCI7XG4gICAgfTtcbiAgICByZXR1cm4gZm9ybV9lbGVtZW50X2Vycm9yO1xufSgpKTtcbmV4cG9ydHMuZm9ybV9lbGVtZW50X2Vycm9yID0gZm9ybV9lbGVtZW50X2Vycm9yO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/resources/typescript/form/form_element.ts\n')},"./src/resources/typescript/form/form_element_factory.ts":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar checkbox_1 = __webpack_require__(/*! ./checkbox */ "./src/resources/typescript/form/checkbox.ts");\nvar select_1 = __webpack_require__(/*! ./select */ "./src/resources/typescript/form/select.ts");\nvar input_1 = __webpack_require__(/*! ./input */ "./src/resources/typescript/form/input.ts");\nvar radio_1 = __webpack_require__(/*! ./radio */ "./src/resources/typescript/form/radio.ts");\nvar textarea_1 = __webpack_require__(/*! ./textarea */ "./src/resources/typescript/form/textarea.ts");\nvar form_element_factory = /** @class */ (function () {\n    function form_element_factory() {\n    }\n    form_element_factory.prototype.create = function (element, error_container) {\n        var tag = element[0].tagName.toLowerCase();\n        var type = element[0].getAttribute("type");\n        var container = {\n            checkbox: checkbox_1.default,\n            select: select_1.default,\n            radio: radio_1.default,\n            textarea: textarea_1.default\n        };\n        if (container[tag]) {\n            return new container[tag](element, error_container);\n        }\n        if (container[type]) {\n            return new container[type](element, error_container);\n        }\n        return new input_1.default(element[0], error_container);\n    };\n    return form_element_factory;\n}());\nexports.default = form_element_factory;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVzb3VyY2VzL3R5cGVzY3JpcHQvZm9ybS9mb3JtX2VsZW1lbnRfZmFjdG9yeS50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9yZXNvdXJjZXMvdHlwZXNjcmlwdC9mb3JtL2Zvcm1fZWxlbWVudF9mYWN0b3J5LnRzPzY1YjciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgY2hlY2tib3hfMSA9IHJlcXVpcmUoXCIuL2NoZWNrYm94XCIpO1xudmFyIHNlbGVjdF8xID0gcmVxdWlyZShcIi4vc2VsZWN0XCIpO1xudmFyIGlucHV0XzEgPSByZXF1aXJlKFwiLi9pbnB1dFwiKTtcbnZhciByYWRpb18xID0gcmVxdWlyZShcIi4vcmFkaW9cIik7XG52YXIgdGV4dGFyZWFfMSA9IHJlcXVpcmUoXCIuL3RleHRhcmVhXCIpO1xudmFyIGZvcm1fZWxlbWVudF9mYWN0b3J5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGZvcm1fZWxlbWVudF9mYWN0b3J5KCkge1xuICAgIH1cbiAgICBmb3JtX2VsZW1lbnRfZmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24gKGVsZW1lbnQsIGVycm9yX2NvbnRhaW5lcikge1xuICAgICAgICB2YXIgdGFnID0gZWxlbWVudFswXS50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHZhciB0eXBlID0gZWxlbWVudFswXS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpO1xuICAgICAgICB2YXIgY29udGFpbmVyID0ge1xuICAgICAgICAgICAgY2hlY2tib3g6IGNoZWNrYm94XzEuZGVmYXVsdCxcbiAgICAgICAgICAgIHNlbGVjdDogc2VsZWN0XzEuZGVmYXVsdCxcbiAgICAgICAgICAgIHJhZGlvOiByYWRpb18xLmRlZmF1bHQsXG4gICAgICAgICAgICB0ZXh0YXJlYTogdGV4dGFyZWFfMS5kZWZhdWx0XG4gICAgICAgIH07XG4gICAgICAgIGlmIChjb250YWluZXJbdGFnXSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBjb250YWluZXJbdGFnXShlbGVtZW50LCBlcnJvcl9jb250YWluZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb250YWluZXJbdHlwZV0pIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgY29udGFpbmVyW3R5cGVdKGVsZW1lbnQsIGVycm9yX2NvbnRhaW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBpbnB1dF8xLmRlZmF1bHQoZWxlbWVudFswXSwgZXJyb3JfY29udGFpbmVyKTtcbiAgICB9O1xuICAgIHJldHVybiBmb3JtX2VsZW1lbnRfZmFjdG9yeTtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBmb3JtX2VsZW1lbnRfZmFjdG9yeTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/resources/typescript/form/form_element_factory.ts\n')},"./src/resources/typescript/form/form_element_node.ts":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar umbrella_extends_1 = __webpack_require__(/*! ../extends/umbrella_extends */ "./src/resources/typescript/extends/umbrella_extends.ts");\nvar form_element_factory_1 = __webpack_require__(/*! ./form_element_factory */ "./src/resources/typescript/form/form_element_factory.ts");\nvar form_element_node = /** @class */ (function () {\n    function form_element_node(selector) {\n        var _this = this;\n        this.tree = {};\n        this.list = {};\n        this.append = function (node) {\n            var element = umbrella_extends_1.u(node);\n            var name = element.attr("name");\n            if (name === null) {\n                return;\n            }\n            var error = _this.form.find(\'.input-error[form-errors-for="\' + name + \'"]\');\n            var h = name.split(/[\\[\\]]+/);\n            _this.list[name] = _this.factory.create(element.nodes, error.nodes[0]);\n            if (h.length === 1) {\n                _this.tree[name] = _this.list[name];\n                return;\n            }\n            h.pop();\n            var prev = _this.tree;\n            for (var i = 0; i < h.length; i++) {\n                if (i === (h.length - 1)) {\n                    prev[h[i]] = _this.list[name];\n                    break;\n                }\n                if (typeof prev[h[i]] === "undefined") {\n                    prev[h[i]] = {};\n                }\n                prev = prev[h[i]];\n            }\n        };\n        this.update = function (values, tree) {\n            if (typeof tree === "undefined") {\n                tree = _this.tree;\n            }\n            for (var k in values) {\n                if (typeof values[k] === "object") {\n                    if (typeof tree[k] === "undefined") {\n                        continue;\n                    }\n                    _this.update(values[k], tree[k]);\n                    continue;\n                }\n                if (typeof tree[k] === "undefined") {\n                    continue;\n                }\n                tree[k].value = values[k];\n                tree[k].state = "";\n                tree[k].error = "";\n            }\n        };\n        this.errors = function (values, tree) {\n            if (typeof tree === "undefined") {\n                _this.clear_errors();\n                tree = _this.tree;\n            }\n            for (var k in values) {\n                if (!Array.isArray(values[k])) {\n                    if (typeof tree[k] === "undefined") {\n                        continue;\n                    }\n                    _this.errors(values[k], tree[k]);\n                    continue;\n                }\n                if (typeof tree[k] === "undefined") {\n                    continue;\n                }\n                tree[k].error = values[k];\n            }\n        };\n        this.toJSON = function (tree) {\n            var JSONData = {};\n            if (typeof tree === "undefined") {\n                tree = _this.tree;\n            }\n            for (var k in tree) {\n                if (typeof tree[k].value === "undefined") {\n                    JSONData[k] = _this.toJSON(tree[k]);\n                    continue;\n                }\n                JSONData[k] = tree[k].value;\n            }\n            return JSONData;\n        };\n        this.clear_errors = function () {\n            var list = _this.list;\n            for (var k in list) {\n                list[k].error = "";\n            }\n        };\n        this.factory = new form_element_factory_1.default();\n        this.form = umbrella_extends_1.u(selector);\n        this.init();\n    }\n    Object.defineProperty(form_element_node.prototype, "inputs", {\n        get: function () {\n            return this.form.find("input,textarea,select");\n        },\n        enumerable: true,\n        configurable: true\n    });\n    form_element_node.prototype.init = function () {\n        var inputs = this.inputs;\n        var self = this;\n        inputs.each(function (node) {\n            self.append(node);\n        });\n    };\n    return form_element_node;\n}());\nexports.default = form_element_node;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVzb3VyY2VzL3R5cGVzY3JpcHQvZm9ybS9mb3JtX2VsZW1lbnRfbm9kZS50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9yZXNvdXJjZXMvdHlwZXNjcmlwdC9mb3JtL2Zvcm1fZWxlbWVudF9ub2RlLnRzP2I3MjciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdW1icmVsbGFfZXh0ZW5kc18xID0gcmVxdWlyZShcIi4uL2V4dGVuZHMvdW1icmVsbGFfZXh0ZW5kc1wiKTtcbnZhciBmb3JtX2VsZW1lbnRfZmFjdG9yeV8xID0gcmVxdWlyZShcIi4vZm9ybV9lbGVtZW50X2ZhY3RvcnlcIik7XG52YXIgZm9ybV9lbGVtZW50X25vZGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZm9ybV9lbGVtZW50X25vZGUoc2VsZWN0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy50cmVlID0ge307XG4gICAgICAgIHRoaXMubGlzdCA9IHt9O1xuICAgICAgICB0aGlzLmFwcGVuZCA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IHVtYnJlbGxhX2V4dGVuZHNfMS51KG5vZGUpO1xuICAgICAgICAgICAgdmFyIG5hbWUgPSBlbGVtZW50LmF0dHIoXCJuYW1lXCIpO1xuICAgICAgICAgICAgaWYgKG5hbWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZXJyb3IgPSBfdGhpcy5mb3JtLmZpbmQoJy5pbnB1dC1lcnJvcltmb3JtLWVycm9ycy1mb3I9XCInICsgbmFtZSArICdcIl0nKTtcbiAgICAgICAgICAgIHZhciBoID0gbmFtZS5zcGxpdCgvW1xcW1xcXV0rLyk7XG4gICAgICAgICAgICBfdGhpcy5saXN0W25hbWVdID0gX3RoaXMuZmFjdG9yeS5jcmVhdGUoZWxlbWVudC5ub2RlcywgZXJyb3Iubm9kZXNbMF0pO1xuICAgICAgICAgICAgaWYgKGgubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMudHJlZVtuYW1lXSA9IF90aGlzLmxpc3RbbmFtZV07XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaC5wb3AoKTtcbiAgICAgICAgICAgIHZhciBwcmV2ID0gX3RoaXMudHJlZTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChpID09PSAoaC5sZW5ndGggLSAxKSkge1xuICAgICAgICAgICAgICAgICAgICBwcmV2W2hbaV1dID0gX3RoaXMubGlzdFtuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcHJldltoW2ldXSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgICAgICBwcmV2W2hbaV1dID0ge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByZXYgPSBwcmV2W2hbaV1dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uICh2YWx1ZXMsIHRyZWUpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdHJlZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgIHRyZWUgPSBfdGhpcy50cmVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgayBpbiB2YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlc1trXSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRyZWVba10gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnVwZGF0ZSh2YWx1ZXNba10sIHRyZWVba10pO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0cmVlW2tdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cmVlW2tdLnZhbHVlID0gdmFsdWVzW2tdO1xuICAgICAgICAgICAgICAgIHRyZWVba10uc3RhdGUgPSBcIlwiO1xuICAgICAgICAgICAgICAgIHRyZWVba10uZXJyb3IgPSBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmVycm9ycyA9IGZ1bmN0aW9uICh2YWx1ZXMsIHRyZWUpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdHJlZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgIF90aGlzLmNsZWFyX2Vycm9ycygpO1xuICAgICAgICAgICAgICAgIHRyZWUgPSBfdGhpcy50cmVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgayBpbiB2YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWVzW2tdKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRyZWVba10gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmVycm9ycyh2YWx1ZXNba10sIHRyZWVba10pO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0cmVlW2tdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cmVlW2tdLmVycm9yID0gdmFsdWVzW2tdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnRvSlNPTiA9IGZ1bmN0aW9uICh0cmVlKSB7XG4gICAgICAgICAgICB2YXIgSlNPTkRhdGEgPSB7fTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdHJlZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgIHRyZWUgPSBfdGhpcy50cmVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgayBpbiB0cmVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0cmVlW2tdLnZhbHVlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIEpTT05EYXRhW2tdID0gX3RoaXMudG9KU09OKHRyZWVba10pO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgSlNPTkRhdGFba10gPSB0cmVlW2tdLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIEpTT05EYXRhO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNsZWFyX2Vycm9ycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBsaXN0ID0gX3RoaXMubGlzdDtcbiAgICAgICAgICAgIGZvciAodmFyIGsgaW4gbGlzdCkge1xuICAgICAgICAgICAgICAgIGxpc3Rba10uZXJyb3IgPSBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZhY3RvcnkgPSBuZXcgZm9ybV9lbGVtZW50X2ZhY3RvcnlfMS5kZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuZm9ybSA9IHVtYnJlbGxhX2V4dGVuZHNfMS51KHNlbGVjdG9yKTtcbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmb3JtX2VsZW1lbnRfbm9kZS5wcm90b3R5cGUsIFwiaW5wdXRzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mb3JtLmZpbmQoXCJpbnB1dCx0ZXh0YXJlYSxzZWxlY3RcIik7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIGZvcm1fZWxlbWVudF9ub2RlLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaW5wdXRzID0gdGhpcy5pbnB1dHM7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgaW5wdXRzLmVhY2goZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgIHNlbGYuYXBwZW5kKG5vZGUpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBmb3JtX2VsZW1lbnRfbm9kZTtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBmb3JtX2VsZW1lbnRfbm9kZTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/resources/typescript/form/form_element_node.ts\n')},"./src/resources/typescript/form/input.ts":function(module,exports,__webpack_require__){"use strict";eval('\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, "__esModule", { value: true });\nvar form_element_1 = __webpack_require__(/*! ./form_element */ "./src/resources/typescript/form/form_element.ts");\nvar input_state = /** @class */ (function (_super) {\n    __extends(input_state, _super);\n    function input_state() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(input_state.prototype, "state", {\n        get: function () {\n            return this._state;\n        },\n        set: function (state) {\n            this.typical(state);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return input_state;\n}(form_element_1.form_element_state));\nvar input_error = /** @class */ (function (_super) {\n    __extends(input_error, _super);\n    function input_error() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(input_error.prototype, "error", {\n        get: function () {\n            return this._error;\n        },\n        set: function (errors) {\n            this.typical(errors);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return input_error;\n}(form_element_1.form_element_error));\nvar input = /** @class */ (function (_super) {\n    __extends(input, _super);\n    function input(element, error_container) {\n        var _this = _super.call(this, element) || this;\n        _this._state = new input_state(_this);\n        _this._error = new input_error(_this._state, error_container);\n        return _this;\n    }\n    Object.defineProperty(input.prototype, "value", {\n        get: function () {\n            return this.element.value;\n        },\n        set: function (value) {\n            this.element.value = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(input.prototype, "error", {\n        get: function () {\n            return this._error.error;\n        },\n        set: function (errors) {\n            this._error.error = errors;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return input;\n}(form_element_1.form_element));\nexports.default = input;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVzb3VyY2VzL3R5cGVzY3JpcHQvZm9ybS9pbnB1dC50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9yZXNvdXJjZXMvdHlwZXNjcmlwdC9mb3JtL2lucHV0LnRzP2Q5ZDEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBmb3JtX2VsZW1lbnRfMSA9IHJlcXVpcmUoXCIuL2Zvcm1fZWxlbWVudFwiKTtcbnZhciBpbnB1dF9zdGF0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoaW5wdXRfc3RhdGUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gaW5wdXRfc3RhdGUoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGlucHV0X3N0YXRlLnByb3RvdHlwZSwgXCJzdGF0ZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICAgICAgdGhpcy50eXBpY2FsKHN0YXRlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIGlucHV0X3N0YXRlO1xufShmb3JtX2VsZW1lbnRfMS5mb3JtX2VsZW1lbnRfc3RhdGUpKTtcbnZhciBpbnB1dF9lcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoaW5wdXRfZXJyb3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gaW5wdXRfZXJyb3IoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGlucHV0X2Vycm9yLnByb3RvdHlwZSwgXCJlcnJvclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Vycm9yO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChlcnJvcnMpIHtcbiAgICAgICAgICAgIHRoaXMudHlwaWNhbChlcnJvcnMpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gaW5wdXRfZXJyb3I7XG59KGZvcm1fZWxlbWVudF8xLmZvcm1fZWxlbWVudF9lcnJvcikpO1xudmFyIGlucHV0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhpbnB1dCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBpbnB1dChlbGVtZW50LCBlcnJvcl9jb250YWluZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZWxlbWVudCkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX3N0YXRlID0gbmV3IGlucHV0X3N0YXRlKF90aGlzKTtcbiAgICAgICAgX3RoaXMuX2Vycm9yID0gbmV3IGlucHV0X2Vycm9yKF90aGlzLl9zdGF0ZSwgZXJyb3JfY29udGFpbmVyKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoaW5wdXQucHJvdG90eXBlLCBcInZhbHVlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50LnZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnZhbHVlID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpbnB1dC5wcm90b3R5cGUsIFwiZXJyb3JcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9lcnJvci5lcnJvcjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZXJyb3JzKSB7XG4gICAgICAgICAgICB0aGlzLl9lcnJvci5lcnJvciA9IGVycm9ycztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIGlucHV0O1xufShmb3JtX2VsZW1lbnRfMS5mb3JtX2VsZW1lbnQpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IGlucHV0O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/resources/typescript/form/input.ts\n')},"./src/resources/typescript/form/radio.ts":function(module,exports,__webpack_require__){"use strict";eval('\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, "__esModule", { value: true });\nvar form_element_1 = __webpack_require__(/*! ./form_element */ "./src/resources/typescript/form/form_element.ts");\nvar radio_state = /** @class */ (function (_super) {\n    __extends(radio_state, _super);\n    function radio_state() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(radio_state.prototype, "state", {\n        get: function () {\n            return this._state;\n        },\n        set: function (state) {\n            this.typical(state);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return radio_state;\n}(form_element_1.form_element_state));\nvar radio_error = /** @class */ (function (_super) {\n    __extends(radio_error, _super);\n    function radio_error() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(radio_error.prototype, "error", {\n        get: function () {\n            return this._error;\n        },\n        set: function (errors) {\n            this.typical(errors);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return radio_error;\n}(form_element_1.form_element_error));\nvar radio = /** @class */ (function (_super) {\n    __extends(radio, _super);\n    function radio(element, error_container) {\n        var _this = _super.call(this, element) || this;\n        _this._state = new radio_state(_this);\n        _this._error = new radio_error(_this._state, error_container);\n        return _this;\n    }\n    Object.defineProperty(radio.prototype, "value", {\n        get: function () {\n            var radio = this.u_element;\n            var value = "";\n            radio.each(function (node) {\n                if (node.checked) {\n                    value = node.value;\n                    return;\n                }\n            });\n            return value;\n        },\n        set: function (value) {\n            var checked = "[value=\'" + value + "\']";\n            this.u_element.removeAttr("checked");\n            this.u_element.filter(checked).attr("checked", "checked");\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(radio.prototype, "error", {\n        get: function () {\n            return this._error.error;\n        },\n        set: function (errors) {\n            this._error.error = errors;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return radio;\n}(form_element_1.form_element));\nexports.default = radio;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVzb3VyY2VzL3R5cGVzY3JpcHQvZm9ybS9yYWRpby50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9yZXNvdXJjZXMvdHlwZXNjcmlwdC9mb3JtL3JhZGlvLnRzPzIxOTIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBmb3JtX2VsZW1lbnRfMSA9IHJlcXVpcmUoXCIuL2Zvcm1fZWxlbWVudFwiKTtcbnZhciByYWRpb19zdGF0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMocmFkaW9fc3RhdGUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gcmFkaW9fc3RhdGUoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJhZGlvX3N0YXRlLnByb3RvdHlwZSwgXCJzdGF0ZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICAgICAgdGhpcy50eXBpY2FsKHN0YXRlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIHJhZGlvX3N0YXRlO1xufShmb3JtX2VsZW1lbnRfMS5mb3JtX2VsZW1lbnRfc3RhdGUpKTtcbnZhciByYWRpb19lcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMocmFkaW9fZXJyb3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gcmFkaW9fZXJyb3IoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJhZGlvX2Vycm9yLnByb3RvdHlwZSwgXCJlcnJvclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Vycm9yO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChlcnJvcnMpIHtcbiAgICAgICAgICAgIHRoaXMudHlwaWNhbChlcnJvcnMpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gcmFkaW9fZXJyb3I7XG59KGZvcm1fZWxlbWVudF8xLmZvcm1fZWxlbWVudF9lcnJvcikpO1xudmFyIHJhZGlvID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhyYWRpbywgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiByYWRpbyhlbGVtZW50LCBlcnJvcl9jb250YWluZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZWxlbWVudCkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX3N0YXRlID0gbmV3IHJhZGlvX3N0YXRlKF90aGlzKTtcbiAgICAgICAgX3RoaXMuX2Vycm9yID0gbmV3IHJhZGlvX2Vycm9yKF90aGlzLl9zdGF0ZSwgZXJyb3JfY29udGFpbmVyKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmFkaW8ucHJvdG90eXBlLCBcInZhbHVlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcmFkaW8gPSB0aGlzLnVfZWxlbWVudDtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICByYWRpby5lYWNoKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG5vZGUudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBjaGVja2VkID0gXCJbdmFsdWU9J1wiICsgdmFsdWUgKyBcIiddXCI7XG4gICAgICAgICAgICB0aGlzLnVfZWxlbWVudC5yZW1vdmVBdHRyKFwiY2hlY2tlZFwiKTtcbiAgICAgICAgICAgIHRoaXMudV9lbGVtZW50LmZpbHRlcihjaGVja2VkKS5hdHRyKFwiY2hlY2tlZFwiLCBcImNoZWNrZWRcIik7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyYWRpby5wcm90b3R5cGUsIFwiZXJyb3JcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9lcnJvci5lcnJvcjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZXJyb3JzKSB7XG4gICAgICAgICAgICB0aGlzLl9lcnJvci5lcnJvciA9IGVycm9ycztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIHJhZGlvO1xufShmb3JtX2VsZW1lbnRfMS5mb3JtX2VsZW1lbnQpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IHJhZGlvO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/resources/typescript/form/radio.ts\n')},"./src/resources/typescript/form/select.ts":function(module,exports,__webpack_require__){"use strict";eval('\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, "__esModule", { value: true });\nvar form_element_1 = __webpack_require__(/*! ./form_element */ "./src/resources/typescript/form/form_element.ts");\nvar select_state = /** @class */ (function (_super) {\n    __extends(select_state, _super);\n    function select_state() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(select_state.prototype, "state", {\n        get: function () {\n            return this._state;\n        },\n        set: function (state) {\n            this.typical(state);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return select_state;\n}(form_element_1.form_element_state));\nvar select_error = /** @class */ (function (_super) {\n    __extends(select_error, _super);\n    function select_error() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(select_error.prototype, "error", {\n        get: function () {\n            return this._error;\n        },\n        set: function (errors) {\n            this.typical(errors);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return select_error;\n}(form_element_1.form_element_error));\nvar select = /** @class */ (function (_super) {\n    __extends(select, _super);\n    function select(element, error_container) {\n        var _this = _super.call(this, element) || this;\n        _this._state = new select_state(_this);\n        _this._error = new select_error(_this._state, error_container);\n        return _this;\n    }\n    Object.defineProperty(select.prototype, "value", {\n        get: function () {\n            var options = this.u_element.find("option");\n            var multiple = this.u_element.attr("multiple");\n            var selected = [];\n            options.each(function (node) {\n                if (node.selected) {\n                    var val = node.value;\n                    selected.push(val);\n                }\n            });\n            if (multiple === null) {\n                return selected[0];\n            }\n            return selected;\n        },\n        set: function (value) {\n            var select = "";\n            if (Array.isArray(value)) {\n                for (var i = 0; i < value.length; i++) {\n                    select += "[value=\'" + value[i] + "\'],";\n                }\n                select = select.replace(/,$/, "");\n            }\n            else {\n                select = "[value=\'" + value + "\']";\n            }\n            this.u_element.find("option").removeAttr("selected");\n            this.u_element.find("option").filter(select).attr("selected", "selected");\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(select.prototype, "error", {\n        get: function () {\n            return this._error.error;\n        },\n        set: function (errors) {\n            this._error.error = errors;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return select;\n}(form_element_1.form_element));\nexports.default = select;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVzb3VyY2VzL3R5cGVzY3JpcHQvZm9ybS9zZWxlY3QudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcmVzb3VyY2VzL3R5cGVzY3JpcHQvZm9ybS9zZWxlY3QudHM/OTUzMyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGZvcm1fZWxlbWVudF8xID0gcmVxdWlyZShcIi4vZm9ybV9lbGVtZW50XCIpO1xudmFyIHNlbGVjdF9zdGF0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoc2VsZWN0X3N0YXRlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIHNlbGVjdF9zdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc2VsZWN0X3N0YXRlLnByb3RvdHlwZSwgXCJzdGF0ZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICAgICAgdGhpcy50eXBpY2FsKHN0YXRlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIHNlbGVjdF9zdGF0ZTtcbn0oZm9ybV9lbGVtZW50XzEuZm9ybV9lbGVtZW50X3N0YXRlKSk7XG52YXIgc2VsZWN0X2Vycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhzZWxlY3RfZXJyb3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gc2VsZWN0X2Vycm9yKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzZWxlY3RfZXJyb3IucHJvdG90eXBlLCBcImVycm9yXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZXJyb3I7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGVycm9ycykge1xuICAgICAgICAgICAgdGhpcy50eXBpY2FsKGVycm9ycyk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBzZWxlY3RfZXJyb3I7XG59KGZvcm1fZWxlbWVudF8xLmZvcm1fZWxlbWVudF9lcnJvcikpO1xudmFyIHNlbGVjdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoc2VsZWN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIHNlbGVjdChlbGVtZW50LCBlcnJvcl9jb250YWluZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZWxlbWVudCkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX3N0YXRlID0gbmV3IHNlbGVjdF9zdGF0ZShfdGhpcyk7XG4gICAgICAgIF90aGlzLl9lcnJvciA9IG5ldyBzZWxlY3RfZXJyb3IoX3RoaXMuX3N0YXRlLCBlcnJvcl9jb250YWluZXIpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzZWxlY3QucHJvdG90eXBlLCBcInZhbHVlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMudV9lbGVtZW50LmZpbmQoXCJvcHRpb25cIik7XG4gICAgICAgICAgICB2YXIgbXVsdGlwbGUgPSB0aGlzLnVfZWxlbWVudC5hdHRyKFwibXVsdGlwbGVcIik7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSBbXTtcbiAgICAgICAgICAgIG9wdGlvbnMuZWFjaChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgICAgIGlmIChub2RlLnNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSBub2RlLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZC5wdXNoKHZhbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAobXVsdGlwbGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZWN0ZWRbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc2VsZWN0ZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ID0gXCJcIjtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ICs9IFwiW3ZhbHVlPSdcIiArIHZhbHVlW2ldICsgXCInXSxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2VsZWN0ID0gc2VsZWN0LnJlcGxhY2UoLywkLywgXCJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZWxlY3QgPSBcIlt2YWx1ZT0nXCIgKyB2YWx1ZSArIFwiJ11cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudV9lbGVtZW50LmZpbmQoXCJvcHRpb25cIikucmVtb3ZlQXR0cihcInNlbGVjdGVkXCIpO1xuICAgICAgICAgICAgdGhpcy51X2VsZW1lbnQuZmluZChcIm9wdGlvblwiKS5maWx0ZXIoc2VsZWN0KS5hdHRyKFwic2VsZWN0ZWRcIiwgXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlbGVjdC5wcm90b3R5cGUsIFwiZXJyb3JcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9lcnJvci5lcnJvcjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZXJyb3JzKSB7XG4gICAgICAgICAgICB0aGlzLl9lcnJvci5lcnJvciA9IGVycm9ycztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIHNlbGVjdDtcbn0oZm9ybV9lbGVtZW50XzEuZm9ybV9lbGVtZW50KSk7XG5leHBvcnRzLmRlZmF1bHQgPSBzZWxlY3Q7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/resources/typescript/form/select.ts\n')},"./src/resources/typescript/form/textarea.ts":function(module,exports,__webpack_require__){"use strict";eval('\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, "__esModule", { value: true });\nvar form_element_1 = __webpack_require__(/*! ./form_element */ "./src/resources/typescript/form/form_element.ts");\nvar textarea_state = /** @class */ (function (_super) {\n    __extends(textarea_state, _super);\n    function textarea_state() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(textarea_state.prototype, "state", {\n        get: function () {\n            return this._state;\n        },\n        set: function (state) {\n            this.typical(state);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return textarea_state;\n}(form_element_1.form_element_state));\nvar textarea_error = /** @class */ (function (_super) {\n    __extends(textarea_error, _super);\n    function textarea_error() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(textarea_error.prototype, "error", {\n        get: function () {\n            return this._error;\n        },\n        set: function (errors) {\n            this.typical;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return textarea_error;\n}(form_element_1.form_element_error));\nvar input = /** @class */ (function (_super) {\n    __extends(input, _super);\n    function input(element, error_container) {\n        var _this = _super.call(this, element) || this;\n        _this._state = new textarea_state(_this);\n        _this._error = new textarea_error(_this._state, error_container);\n        return _this;\n    }\n    Object.defineProperty(input.prototype, "value", {\n        get: function () {\n            return this.element[0].innerHTML;\n        },\n        set: function (value) {\n            this.element[0].innerHTML = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(input.prototype, "error", {\n        get: function () {\n            return this._error.error;\n        },\n        set: function (errors) {\n            this._error.error = errors;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return input;\n}(form_element_1.form_element));\nexports.default = input;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVzb3VyY2VzL3R5cGVzY3JpcHQvZm9ybS90ZXh0YXJlYS50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9yZXNvdXJjZXMvdHlwZXNjcmlwdC9mb3JtL3RleHRhcmVhLnRzPzdmNGYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBmb3JtX2VsZW1lbnRfMSA9IHJlcXVpcmUoXCIuL2Zvcm1fZWxlbWVudFwiKTtcbnZhciB0ZXh0YXJlYV9zdGF0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHModGV4dGFyZWFfc3RhdGUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gdGV4dGFyZWFfc3RhdGUoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRleHRhcmVhX3N0YXRlLnByb3RvdHlwZSwgXCJzdGF0ZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICAgICAgdGhpcy50eXBpY2FsKHN0YXRlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIHRleHRhcmVhX3N0YXRlO1xufShmb3JtX2VsZW1lbnRfMS5mb3JtX2VsZW1lbnRfc3RhdGUpKTtcbnZhciB0ZXh0YXJlYV9lcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHModGV4dGFyZWFfZXJyb3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gdGV4dGFyZWFfZXJyb3IoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRleHRhcmVhX2Vycm9yLnByb3RvdHlwZSwgXCJlcnJvclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Vycm9yO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChlcnJvcnMpIHtcbiAgICAgICAgICAgIHRoaXMudHlwaWNhbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIHRleHRhcmVhX2Vycm9yO1xufShmb3JtX2VsZW1lbnRfMS5mb3JtX2VsZW1lbnRfZXJyb3IpKTtcbnZhciBpbnB1dCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoaW5wdXQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gaW5wdXQoZWxlbWVudCwgZXJyb3JfY29udGFpbmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGVsZW1lbnQpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9zdGF0ZSA9IG5ldyB0ZXh0YXJlYV9zdGF0ZShfdGhpcyk7XG4gICAgICAgIF90aGlzLl9lcnJvciA9IG5ldyB0ZXh0YXJlYV9lcnJvcihfdGhpcy5fc3RhdGUsIGVycm9yX2NvbnRhaW5lcik7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGlucHV0LnByb3RvdHlwZSwgXCJ2YWx1ZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudFswXS5pbm5lckhUTUw7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRbMF0uaW5uZXJIVE1MID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpbnB1dC5wcm90b3R5cGUsIFwiZXJyb3JcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9lcnJvci5lcnJvcjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZXJyb3JzKSB7XG4gICAgICAgICAgICB0aGlzLl9lcnJvci5lcnJvciA9IGVycm9ycztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIGlucHV0O1xufShmb3JtX2VsZW1lbnRfMS5mb3JtX2VsZW1lbnQpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IGlucHV0O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/resources/typescript/form/textarea.ts\n')},"./src/resources/typescript/history.ts":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar history = /** @class */ (function () {\n    function history(window) {\n        var _this = this;\n        this.push = function (state, title, url) {\n            _this.window.history.pushState(state, title, url);\n        };\n        this.window = window;\n    }\n    return history;\n}());\nexports.default = history;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVzb3VyY2VzL3R5cGVzY3JpcHQvaGlzdG9yeS50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9yZXNvdXJjZXMvdHlwZXNjcmlwdC9oaXN0b3J5LnRzPzFmYjgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgaGlzdG9yeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBoaXN0b3J5KHdpbmRvdykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnB1c2ggPSBmdW5jdGlvbiAoc3RhdGUsIHRpdGxlLCB1cmwpIHtcbiAgICAgICAgICAgIF90aGlzLndpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZShzdGF0ZSwgdGl0bGUsIHVybCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMud2luZG93ID0gd2luZG93O1xuICAgIH1cbiAgICByZXR1cm4gaGlzdG9yeTtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBoaXN0b3J5O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/resources/typescript/history.ts\n')},"./src/resources/typescript/lib/choices.ts":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\n__webpack_require__(/*! fetch-polyfill */ "./node_modules/fetch-polyfill/fetch.js");\nvar base_choices = __webpack_require__(/*! choices.js */ "./node_modules/choices.js/assets/scripts/dist/choices.min.js");\nvar umbrella_extends_1 = __webpack_require__(/*! ../extends/umbrella_extends */ "./src/resources/typescript/extends/umbrella_extends.ts");\nvar choices_ajax = /** @class */ (function () {\n    function choices_ajax(choice, url, min) {\n        if (min === void 0) { min = -1; }\n        var _this = this;\n        this.token = function () {\n            return umbrella_extends_1.u("[name=\'csrf-token\']").attr("content");\n        };\n        this.headers = function () {\n            return {\n                \'X-Requested-With\': \'XMLHttpRequest\',\n                \'Content-Type\': \'application/json\',\n                \'X-CSRF-TOKEN\': _this.token()\n            };\n        };\n        this.options = function () {\n            return { "method": "get",\n                "credentials": "same-origin",\n                "headers": _this.headers()\n            };\n        };\n        this._url = "";\n        this._input = "";\n        this.loading = false;\n        this.min = -1;\n        this.init = [];\n        this.search = function (event) {\n            _this._input = "";\n            if (event.detail.value) {\n                _this._input = event.detail.value;\n            }\n            clearTimeout(_this.observer);\n            _this.observer = null;\n            _this.observer = setTimeout(function () { _this.ajax(); }, 500);\n        };\n        this.choice = choice;\n        this.init = this.choice.getValue();\n        this._url = url;\n        this.min = min;\n        this.ajax();\n    }\n    choices_ajax.prototype.url = function () {\n        return this._url.replace(/\\{input\\}/gi, this._input);\n    };\n    choices_ajax.prototype.ajax = function () {\n        var _this = this;\n        if (this.loading === true) {\n            return;\n        }\n        this.loading = true;\n        if (this._input.length < this.min) {\n            this.loading = false;\n            return;\n        }\n        this.choice.clearStore();\n        this.choice.ajax(function (callback) {\n            fetch(_this.url(), _this.options())\n                .then(function (response) {\n                response.json().then(function (data) {\n                    callback(data, "value", "label");\n                });\n                _this.loading = false;\n            })\n                .catch(function (error) {\n                _this.loading = false;\n            });\n        });\n    };\n    return choices_ajax;\n}());\nvar choices = /** @class */ (function () {\n    function choices(selector) {\n        var _this = this;\n        this.options = function () {\n            return {\n                removeItems: true,\n                removeItemButton: true,\n                noChoicesText: "選択肢が存在しません",\n                noResultsText: "結果が存在しません",\n                itemSelectText: "選択",\n                loadingText: "読み込み中"\n            };\n        };\n        umbrella_extends_1.u(selector).each(function (node) {\n            var source_url = umbrella_extends_1.u(node).attr("data-choice-url");\n            var min = (umbrella_extends_1.u(node).attr("data-choice-min") === null) ? 0 : umbrella_extends_1.u(node).attr("data-choice-min");\n            var opt = _this.options();\n            if (source_url !== null) {\n                opt["noResultsText"] = "存在しないか、読込待ちです";\n                opt["noChoicesText"] = "キーワードを入力後に選択肢が表示されます";\n                if (min > 0) {\n                    opt["searchPlaceholderValue"] = "最低" + min + "文字以上入力してください";\n                }\n            }\n            var choices = new base_choices(node, opt);\n            if (source_url) {\n                var ajax = new choices_ajax(choices, source_url, min);\n                node.addEventListener("search", ajax.search);\n            }\n        });\n    }\n    return choices;\n}());\nexports.default = choices;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVzb3VyY2VzL3R5cGVzY3JpcHQvbGliL2Nob2ljZXMudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcmVzb3VyY2VzL3R5cGVzY3JpcHQvbGliL2Nob2ljZXMudHM/MTA1MiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnJlcXVpcmUoXCJmZXRjaC1wb2x5ZmlsbFwiKTtcbnZhciBiYXNlX2Nob2ljZXMgPSByZXF1aXJlKFwiY2hvaWNlcy5qc1wiKTtcbnZhciB1bWJyZWxsYV9leHRlbmRzXzEgPSByZXF1aXJlKFwiLi4vZXh0ZW5kcy91bWJyZWxsYV9leHRlbmRzXCIpO1xudmFyIGNob2ljZXNfYWpheCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBjaG9pY2VzX2FqYXgoY2hvaWNlLCB1cmwsIG1pbikge1xuICAgICAgICBpZiAobWluID09PSB2b2lkIDApIHsgbWluID0gLTE7IH1cbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy50b2tlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB1bWJyZWxsYV9leHRlbmRzXzEudShcIltuYW1lPSdjc3JmLXRva2VuJ11cIikuYXR0cihcImNvbnRlbnRcIik7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGVhZGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgJ1gtUmVxdWVzdGVkLVdpdGgnOiAnWE1MSHR0cFJlcXVlc3QnLFxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgJ1gtQ1NSRi1UT0tFTic6IF90aGlzLnRva2VuKClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB7IFwibWV0aG9kXCI6IFwiZ2V0XCIsXG4gICAgICAgICAgICAgICAgXCJjcmVkZW50aWFsc1wiOiBcInNhbWUtb3JpZ2luXCIsXG4gICAgICAgICAgICAgICAgXCJoZWFkZXJzXCI6IF90aGlzLmhlYWRlcnMoKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fdXJsID0gXCJcIjtcbiAgICAgICAgdGhpcy5faW5wdXQgPSBcIlwiO1xuICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5taW4gPSAtMTtcbiAgICAgICAgdGhpcy5pbml0ID0gW107XG4gICAgICAgIHRoaXMuc2VhcmNoID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBfdGhpcy5faW5wdXQgPSBcIlwiO1xuICAgICAgICAgICAgaWYgKGV2ZW50LmRldGFpbC52YWx1ZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLl9pbnB1dCA9IGV2ZW50LmRldGFpbC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNsZWFyVGltZW91dChfdGhpcy5vYnNlcnZlcik7XG4gICAgICAgICAgICBfdGhpcy5vYnNlcnZlciA9IG51bGw7XG4gICAgICAgICAgICBfdGhpcy5vYnNlcnZlciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBfdGhpcy5hamF4KCk7IH0sIDUwMCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY2hvaWNlID0gY2hvaWNlO1xuICAgICAgICB0aGlzLmluaXQgPSB0aGlzLmNob2ljZS5nZXRWYWx1ZSgpO1xuICAgICAgICB0aGlzLl91cmwgPSB1cmw7XG4gICAgICAgIHRoaXMubWluID0gbWluO1xuICAgICAgICB0aGlzLmFqYXgoKTtcbiAgICB9XG4gICAgY2hvaWNlc19hamF4LnByb3RvdHlwZS51cmwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl91cmwucmVwbGFjZSgvXFx7aW5wdXRcXH0vZ2ksIHRoaXMuX2lucHV0KTtcbiAgICB9O1xuICAgIGNob2ljZXNfYWpheC5wcm90b3R5cGUuYWpheCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMubG9hZGluZyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl9pbnB1dC5sZW5ndGggPCB0aGlzLm1pbikge1xuICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaG9pY2UuY2xlYXJTdG9yZSgpO1xuICAgICAgICB0aGlzLmNob2ljZS5hamF4KGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICAgICAgZmV0Y2goX3RoaXMudXJsKCksIF90aGlzLm9wdGlvbnMoKSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5qc29uKCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhkYXRhLCBcInZhbHVlXCIsIFwibGFiZWxcIik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIGNob2ljZXNfYWpheDtcbn0oKSk7XG52YXIgY2hvaWNlcyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBjaG9pY2VzKHNlbGVjdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlSXRlbXM6IHRydWUsXG4gICAgICAgICAgICAgICAgcmVtb3ZlSXRlbUJ1dHRvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBub0Nob2ljZXNUZXh0OiBcIumBuOaKnuiCouOBjOWtmOWcqOOBl+OBvuOBm+OCk1wiLFxuICAgICAgICAgICAgICAgIG5vUmVzdWx0c1RleHQ6IFwi57WQ5p6c44GM5a2Y5Zyo44GX44G+44Gb44KTXCIsXG4gICAgICAgICAgICAgICAgaXRlbVNlbGVjdFRleHQ6IFwi6YG45oqeXCIsXG4gICAgICAgICAgICAgICAgbG9hZGluZ1RleHQ6IFwi6Kqt44G/6L6844G/5LitXCJcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIHVtYnJlbGxhX2V4dGVuZHNfMS51KHNlbGVjdG9yKS5lYWNoKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICB2YXIgc291cmNlX3VybCA9IHVtYnJlbGxhX2V4dGVuZHNfMS51KG5vZGUpLmF0dHIoXCJkYXRhLWNob2ljZS11cmxcIik7XG4gICAgICAgICAgICB2YXIgbWluID0gKHVtYnJlbGxhX2V4dGVuZHNfMS51KG5vZGUpLmF0dHIoXCJkYXRhLWNob2ljZS1taW5cIikgPT09IG51bGwpID8gMCA6IHVtYnJlbGxhX2V4dGVuZHNfMS51KG5vZGUpLmF0dHIoXCJkYXRhLWNob2ljZS1taW5cIik7XG4gICAgICAgICAgICB2YXIgb3B0ID0gX3RoaXMub3B0aW9ucygpO1xuICAgICAgICAgICAgaWYgKHNvdXJjZV91cmwgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBvcHRbXCJub1Jlc3VsdHNUZXh0XCJdID0gXCLlrZjlnKjjgZfjgarjgYTjgYvjgIHoqq3ovrzlvoXjgaHjgafjgZlcIjtcbiAgICAgICAgICAgICAgICBvcHRbXCJub0Nob2ljZXNUZXh0XCJdID0gXCLjgq3jg7zjg6/jg7zjg4njgpLlhaXlipvlvozjgavpgbjmip7ogqLjgYzooajnpLrjgZXjgozjgb7jgZlcIjtcbiAgICAgICAgICAgICAgICBpZiAobWluID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBvcHRbXCJzZWFyY2hQbGFjZWhvbGRlclZhbHVlXCJdID0gXCLmnIDkvY5cIiArIG1pbiArIFwi5paH5a2X5Lul5LiK5YWl5Yqb44GX44Gm44GP44Gg44GV44GEXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNob2ljZXMgPSBuZXcgYmFzZV9jaG9pY2VzKG5vZGUsIG9wdCk7XG4gICAgICAgICAgICBpZiAoc291cmNlX3VybCkge1xuICAgICAgICAgICAgICAgIHZhciBhamF4ID0gbmV3IGNob2ljZXNfYWpheChjaG9pY2VzLCBzb3VyY2VfdXJsLCBtaW4pO1xuICAgICAgICAgICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihcInNlYXJjaFwiLCBhamF4LnNlYXJjaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gY2hvaWNlcztcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBjaG9pY2VzO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/resources/typescript/lib/choices.ts\n')},"./src/resources/typescript/screen_control.ts":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar screen_control = /** @class */ (function () {\n    function screen_control(selector) {\n        var _this = this;\n        this.lock = function () {\n            _this.lock_container.classList.add("is-active");\n            _this.before_focus = document.activeElement;\n            _this.before_focus.blur();\n        };\n        this.unlock = function () {\n            _this.lock_container.classList.remove("is-active");\n            _this.before_focus.focus();\n        };\n        this.lock_container = document.querySelector(selector);\n    }\n    return screen_control;\n}());\nexports.default = screen_control;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVzb3VyY2VzL3R5cGVzY3JpcHQvc2NyZWVuX2NvbnRyb2wudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcmVzb3VyY2VzL3R5cGVzY3JpcHQvc2NyZWVuX2NvbnRyb2wudHM/YzQwNiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBzY3JlZW5fY29udHJvbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBzY3JlZW5fY29udHJvbChzZWxlY3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmxvY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5sb2NrX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiaXMtYWN0aXZlXCIpO1xuICAgICAgICAgICAgX3RoaXMuYmVmb3JlX2ZvY3VzID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICAgICAgICAgIF90aGlzLmJlZm9yZV9mb2N1cy5ibHVyKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudW5sb2NrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMubG9ja19jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcImlzLWFjdGl2ZVwiKTtcbiAgICAgICAgICAgIF90aGlzLmJlZm9yZV9mb2N1cy5mb2N1cygpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmxvY2tfY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgfVxuICAgIHJldHVybiBzY3JlZW5fY29udHJvbDtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBzY3JlZW5fY29udHJvbDtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/resources/typescript/screen_control.ts\n')}});